!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).Swiper=t()}(this,(function(){"use strict";function e(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function t(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e}).apply(this,arguments)}function i(e){return null!==e&&"object"==typeof e&&"constructor"in e&&e.constructor===Object}function s(e,t){void 0===e&&(e={}),void 0===t&&(t={}),Object.keys(t).forEach((function(a){void 0===e[a]?e[a]=t[a]:i(t[a])&&i(e[a])&&Object.keys(t[a]).length>0&&s(e[a],t[a])}))}var a={body:{},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}},createElementNS:function(){return{}},importNode:function(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function r(){var e="undefined"!=typeof document?document:{};return s(e,a),e}var n={document:a,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState:function(){},pushState:function(){},go:function(){},back:function(){}},CustomEvent:function(){return this},addEventListener:function(){},removeEventListener:function(){},getComputedStyle:function(){return{getPropertyValue:function(){return""}}},Image:function(){},Date:function(){},screen:{},setTimeout:function(){},clearTimeout:function(){},matchMedia:function(){return{}},requestAnimationFrame:function(e){return"undefined"==typeof setTimeout?(e(),null):setTimeout(e,0)},cancelAnimationFrame:function(e){"undefined"!=typeof setTimeout&&clearTimeout(e)}};function l(){var e="undefined"!=typeof window?window:{};return s(e,n),e}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function p(e,t,i){return(p=h()?Reflect.construct:function(e,t,i){var s=[null];s.push.apply(s,t);var a=new(Function.bind.apply(e,s));return i&&d(a,i.prototype),a}).apply(null,arguments)}function u(e){var t="function"==typeof Map?new Map:void 0;return(u=function(e){if(null===e||(i=e,-1===Function.toString.call(i).indexOf("[native code]")))return e;var i;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,s)}function s(){return p(e,arguments,o(this).constructor)}return s.prototype=Object.create(e.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),d(s,e)})(e)}var c=function(e){var t,i;function s(t){var i,s,a;return i=e.call.apply(e,[this].concat(t))||this,s=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(i),a=s.__proto__,Object.defineProperty(s,"__proto__",{get:function(){return a},set:function(e){a.__proto__=e}}),i}return i=e,(t=s).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i,s}(u(Array));function v(e){void 0===e&&(e=[]);var t=[];return e.forEach((function(e){Array.isArray(e)?t.push.apply(t,v(e)):t.push(e)})),t}function f(e,t){return Array.prototype.filter.call(e,t)}function m(e,t){var i=l(),s=r(),a=[];if(!t&&e instanceof c)return e;if(!e)return new c(a);if("string"==typeof e){var n=e.trim();if(n.indexOf("<")>=0&&n.indexOf(">")>=0){var o="div";0===n.indexOf("<li")&&(o="ul"),0===n.indexOf("<tr")&&(o="tbody"),0!==n.indexOf("<td")&&0!==n.indexOf("<th")||(o="tr"),0===n.indexOf("<tbody")&&(o="table"),0===n.indexOf("<option")&&(o="select");var d=s.createElement(o);d.innerHTML=n;for(var h=0;h<d.childNodes.length;h+=1)a.push(d.childNodes[h])}else a=function(e,t){if("string"!=typeof e)return[e];for(var i=[],s=t.querySelectorAll(e),a=0;a<s.length;a+=1)i.push(s[a]);return i}(e.trim(),t||s)}else if(e.nodeType||e===i||e===s)a.push(e);else if(Array.isArray(e)){if(e instanceof c)return e;a=e}return new c(function(e){for(var t=[],i=0;i<e.length;i+=1)-1===t.indexOf(e[i])&&t.push(e[i]);return t}(a))}m.fn=c.prototype;var g,b,w,y={addClass:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var s=v(t.map((function(e){return e.split(" ")})));return this.forEach((function(e){var t;(t=e.classList).add.apply(t,s)})),this},removeClass:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var s=v(t.map((function(e){return e.split(" ")})));return this.forEach((function(e){var t;(t=e.classList).remove.apply(t,s)})),this},hasClass:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var s=v(t.map((function(e){return e.split(" ")})));return f(this,(function(e){return s.filter((function(t){return e.classList.contains(t)})).length>0})).length>0},toggleClass:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var s=v(t.map((function(e){return e.split(" ")})));this.forEach((function(e){s.forEach((function(t){e.classList.toggle(t)}))}))},attr:function(e,t){if(1===arguments.length&&"string"==typeof e)return this[0]?this[0].getAttribute(e):void 0;for(var i=0;i<this.length;i+=1)if(2===arguments.length)this[i].setAttribute(e,t);else for(var s in e)this[i][s]=e[s],this[i].setAttribute(s,e[s]);return this},removeAttr:function(e){for(var t=0;t<this.length;t+=1)this[t].removeAttribute(e);return this},transform:function(e){for(var t=0;t<this.length;t+=1)this[t].style.transform=e;return this},transition:function(e){for(var t=0;t<this.length;t+=1)this[t].style.transitionDuration="string"!=typeof e?e+"ms":e;return this},on:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var s=t[0],a=t[1],r=t[2],n=t[3];function l(e){var t=e.target;if(t){var i=e.target.dom7EventData||[];if(i.indexOf(e)<0&&i.unshift(e),m(t).is(a))r.apply(t,i);else for(var s=m(t).parents(),n=0;n<s.length;n+=1)m(s[n]).is(a)&&r.apply(s[n],i)}}function o(e){var t=e&&e.target&&e.target.dom7EventData||[];t.indexOf(e)<0&&t.unshift(e),r.apply(this,t)}"function"==typeof t[1]&&(s=t[0],r=t[1],n=t[2],a=void 0),n||(n=!1);for(var d,h=s.split(" "),p=0;p<this.length;p+=1){var u=this[p];if(a)for(d=0;d<h.length;d+=1){var c=h[d];u.dom7LiveListeners||(u.dom7LiveListeners={}),u.dom7LiveListeners[c]||(u.dom7LiveListeners[c]=[]),u.dom7LiveListeners[c].push({listener:r,proxyListener:l}),u.addEventListener(c,l,n)}else for(d=0;d<h.length;d+=1){var v=h[d];u.dom7Listeners||(u.dom7Listeners={}),u.dom7Listeners[v]||(u.dom7Listeners[v]=[]),u.dom7Listeners[v].push({listener:r,proxyListener:o}),u.addEventListener(v,o,n)}}return this},off:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var s=t[0],a=t[1],r=t[2],n=t[3];"function"==typeof t[1]&&(s=t[0],r=t[1],n=t[2],a=void 0),n||(n=!1);for(var l=s.split(" "),o=0;o<l.length;o+=1)for(var d=l[o],h=0;h<this.length;h+=1){var p=this[h],u=void 0;if(!a&&p.dom7Listeners?u=p.dom7Listeners[d]:a&&p.dom7LiveListeners&&(u=p.dom7LiveListeners[d]),u&&u.length)for(var c=u.length-1;c>=0;c-=1){var v=u[c];r&&v.listener===r||r&&v.listener&&v.listener.dom7proxy&&v.listener.dom7proxy===r?(p.removeEventListener(d,v.proxyListener,n),u.splice(c,1)):r||(p.removeEventListener(d,v.proxyListener,n),u.splice(c,1))}}return this},trigger:function(){for(var e=l(),t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];for(var a=i[0].split(" "),r=i[1],n=0;n<a.length;n+=1)for(var o=a[n],d=0;d<this.length;d+=1){var h=this[d];if(e.CustomEvent){var p=new e.CustomEvent(o,{detail:r,bubbles:!0,cancelable:!0});h.dom7EventData=i.filter((function(e,t){return t>0})),h.dispatchEvent(p),h.dom7EventData=[],delete h.dom7EventData}}return this},transitionEnd:function(e){var t=this;return e&&t.on("transitionend",(function i(s){s.target===this&&(e.call(this,s),t.off("transitionend",i))})),this},outerWidth:function(e){if(this.length>0){if(e){var t=this.styles();return this[0].offsetWidth+parseFloat(t.getPropertyValue("margin-right"))+parseFloat(t.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},outerHeight:function(e){if(this.length>0){if(e){var t=this.styles();return this[0].offsetHeight+parseFloat(t.getPropertyValue("margin-top"))+parseFloat(t.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},styles:function(){var e=l();return this[0]?e.getComputedStyle(this[0],null):{}},offset:function(){if(this.length>0){var e=l(),t=r(),i=this[0],s=i.getBoundingClientRect(),a=t.body,n=i.clientTop||a.clientTop||0,o=i.clientLeft||a.clientLeft||0,d=i===e?e.scrollY:i.scrollTop,h=i===e?e.scrollX:i.scrollLeft;return{top:s.top+d-n,left:s.left+h-o}}return null},css:function(e,t){var i,s=l();if(1===arguments.length){if("string"!=typeof e){for(i=0;i<this.length;i+=1)for(var a in e)this[i].style[a]=e[a];return this}if(this[0])return s.getComputedStyle(this[0],null).getPropertyValue(e)}if(2===arguments.length&&"string"==typeof e){for(i=0;i<this.length;i+=1)this[i].style[e]=t;return this}return this},each:function(e){return e?(this.forEach((function(t,i){e.apply(t,[t,i])})),this):this},html:function(e){if(void 0===e)return this[0]?this[0].innerHTML:null;for(var t=0;t<this.length;t+=1)this[t].innerHTML=e;return this},text:function(e){if(void 0===e)return this[0]?this[0].textContent.trim():null;for(var t=0;t<this.length;t+=1)this[t].textContent=e;return this},is:function(e){var t,i,s=l(),a=r(),n=this[0];if(!n||void 0===e)return!1;if("string"==typeof e){if(n.matches)return n.matches(e);if(n.webkitMatchesSelector)return n.webkitMatchesSelector(e);if(n.msMatchesSelector)return n.msMatchesSelector(e);for(t=m(e),i=0;i<t.length;i+=1)if(t[i]===n)return!0;return!1}if(e===a)return n===a;if(e===s)return n===s;if(e.nodeType||e instanceof c){for(t=e.nodeType?[e]:e,i=0;i<t.length;i+=1)if(t[i]===n)return!0;return!1}return!1},index:function(){var e,t=this[0];if(t){for(e=0;null!==(t=t.previousSibling);)1===t.nodeType&&(e+=1);return e}},eq:function(e){if(void 0===e)return this;var t=this.length;if(e>t-1)return m([]);if(e<0){var i=t+e;return m(i<0?[]:[this[i]])}return m([this[e]])},append:function(){for(var e,t=r(),i=0;i<arguments.length;i+=1){e=i<0||arguments.length<=i?void 0:arguments[i];for(var s=0;s<this.length;s+=1)if("string"==typeof e){var a=t.createElement("div");for(a.innerHTML=e;a.firstChild;)this[s].appendChild(a.firstChild)}else if(e instanceof c)for(var n=0;n<e.length;n+=1)this[s].appendChild(e[n]);else this[s].appendChild(e)}return this},prepend:function(e){var t,i,s=r();for(t=0;t<this.length;t+=1)if("string"==typeof e){var a=s.createElement("div");for(a.innerHTML=e,i=a.childNodes.length-1;i>=0;i-=1)this[t].insertBefore(a.childNodes[i],this[t].childNodes[0])}else if(e instanceof c)for(i=0;i<e.length;i+=1)this[t].insertBefore(e[i],this[t].childNodes[0]);else this[t].insertBefore(e,this[t].childNodes[0]);return this},next:function(e){return this.length>0?e?this[0].nextElementSibling&&m(this[0].nextElementSibling).is(e)?m([this[0].nextElementSibling]):m([]):this[0].nextElementSibling?m([this[0].nextElementSibling]):m([]):m([])},nextAll:function(e){var t=[],i=this[0];if(!i)return m([]);for(;i.nextElementSibling;){var s=i.nextElementSibling;e?m(s).is(e)&&t.push(s):t.push(s),i=s}return m(t)},prev:function(e){if(this.length>0){var t=this[0];return e?t.previousElementSibling&&m(t.previousElementSibling).is(e)?m([t.previousElementSibling]):m([]):t.previousElementSibling?m([t.previousElementSibling]):m([])}return m([])},prevAll:function(e){var t=[],i=this[0];if(!i)return m([]);for(;i.previousElementSibling;){var s=i.previousElementSibling;e?m(s).is(e)&&t.push(s):t.push(s),i=s}return m(t)},parent:function(e){for(var t=[],i=0;i<this.length;i+=1)null!==this[i].parentNode&&(e?m(this[i].parentNode).is(e)&&t.push(this[i].parentNode):t.push(this[i].parentNode));return m(t)},parents:function(e){for(var t=[],i=0;i<this.length;i+=1)for(var s=this[i].parentNode;s;)e?m(s).is(e)&&t.push(s):t.push(s),s=s.parentNode;return m(t)},closest:function(e){var t=this;return void 0===e?m([]):(t.is(e)||(t=t.parents(e).eq(0)),t)},find:function(e){for(var t=[],i=0;i<this.length;i+=1){try{var s=this[i].querySelectorAll(e)}catch(t){console.log(e)}for(var a=0;a<s.length;a+=1)t.push(s[a])}return m(t)},children:function(e){for(var t=[],i=0;i<this.length;i+=1)for(var s=this[i].children,a=0;a<s.length;a+=1)e&&!m(s[a]).is(e)||t.push(s[a]);return m(t)},filter:function(e){return m(f(this,e))},remove:function(){for(var e=0;e<this.length;e+=1)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this}};function E(e,t){return void 0===t&&(t=0),setTimeout(e,t)}function x(){return Date.now()}function T(e,t){void 0===t&&(t="x");var i,s,a,r=l(),n=function(e){var t,i=l();return i.getComputedStyle&&(t=i.getComputedStyle(e,null)),!t&&e.currentStyle&&(t=e.currentStyle),t||(t=e.style),t}(e);return r.WebKitCSSMatrix?((s=n.transform||n.webkitTransform).split(",").length>6&&(s=s.split(", ").map((function(e){return e.replace(",",".")})).join(", ")),a=new r.WebKitCSSMatrix("none"===s?"":s)):i=(a=n.MozTransform||n.OTransform||n.MsTransform||n.msTransform||n.transform||n.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===t&&(s=r.WebKitCSSMatrix?a.m41:16===i.length?parseFloat(i[12]):parseFloat(i[4])),"y"===t&&(s=r.WebKitCSSMatrix?a.m42:16===i.length?parseFloat(i[13]):parseFloat(i[5])),s||0}function C(e){return"object"==typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function S(e){return"undefined"!=typeof window&&void 0!==window.HTMLElement?e instanceof HTMLElement:e&&(1===e.nodeType||11===e.nodeType)}function M(){for(var e=Object(arguments.length<=0?void 0:arguments[0]),t=["__proto__","constructor","prototype"],i=1;i<arguments.length;i+=1){var s=i<0||arguments.length<=i?void 0:arguments[i];if(null!=s&&!S(s))for(var a=Object.keys(Object(s)).filter((function(e){return t.indexOf(e)<0})),r=0,n=a.length;r<n;r+=1){var l=a[r],o=Object.getOwnPropertyDescriptor(s,l);void 0!==o&&o.enumerable&&(C(e[l])&&C(s[l])?s[l].__swiper__?e[l]=s[l]:M(e[l],s[l]):!C(e[l])&&C(s[l])?(e[l]={},s[l].__swiper__?e[l]=s[l]:M(e[l],s[l])):e[l]=s[l])}}return e}function z(e,t){Object.keys(t).forEach((function(i){C(t[i])&&Object.keys(t[i]).forEach((function(s){"function"==typeof t[i][s]&&(t[i][s]=t[i][s].bind(e))})),e[i]=t[i]}))}function P(e){return void 0===e&&(e=""),"."+e.trim().replace(/([\.:\/])/g,"\\$1").replace(/ /g,".")}function k(e,t,i,s){var a=r();return i&&Object.keys(s).forEach((function(i){if(!t[i]&&!0===t.auto){var r=a.createElement("div");r.className=s[i],e.append(r),t[i]=r}})),t}function $(){return g||(g=function(){var e=l(),t=r();return{touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch),pointerEvents:!!e.PointerEvent&&"maxTouchPoints"in e.navigator&&e.navigator.maxTouchPoints>=0,observer:"MutationObserver"in e||"WebkitMutationObserver"in e,passiveListener:function(){var t=!1;try{var i=Object.defineProperty({},"passive",{get:function(){t=!0}});e.addEventListener("testPassiveListener",null,i)}catch(e){}return t}(),gestures:"ongesturestart"in e}}()),g}function L(e){return void 0===e&&(e={}),b||(b=function(e){var t=(void 0===e?{}:e).userAgent,i=$(),s=l(),a=s.navigator.platform,r=t||s.navigator.userAgent,n={ios:!1,android:!1},o=s.screen.width,d=s.screen.height,h=r.match(/(Android);?[\s\/]+([\d.]+)?/),p=r.match(/(iPad).*OS\s([\d_]+)/),u=r.match(/(iPod)(.*OS\s([\d_]+))?/),c=!p&&r.match(/(iPhone\sOS|iOS)\s([\d_]+)/),v="Win32"===a,f="MacIntel"===a;return!p&&f&&i.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(o+"x"+d)>=0&&((p=r.match(/(Version)\/([\d.]+)/))||(p=[0,1,"13_0_0"]),f=!1),h&&!v&&(n.os="android",n.android=!0),(p||c||u)&&(n.os="ios",n.ios=!0),n}(e)),b}function I(){return w||(w=function(){var e,t=l();return{isEdge:!!t.navigator.userAgent.match(/Edge/g),isSafari:(e=t.navigator.userAgent.toLowerCase(),e.indexOf("safari")>=0&&e.indexOf("chrome")<0&&e.indexOf("android")<0),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent)}}()),w}Object.keys(y).forEach((function(e){Object.defineProperty(m.fn,e,{value:y[e],writable:!0})}));var O={name:"resize",create:function(){var e=this;M(e,{resize:{observer:null,createObserver:function(){e&&!e.destroyed&&e.initialized&&(e.resize.observer=new ResizeObserver((function(t){var i=e.width,s=e.height,a=i,r=s;t.forEach((function(t){var i=t.contentBoxSize,s=t.contentRect,n=t.target;n&&n!==e.el||(a=s?s.width:(i[0]||i).inlineSize,r=s?s.height:(i[0]||i).blockSize)})),a===i&&r===s||e.resize.resizeHandler()})),e.resize.observer.observe(e.el))},removeObserver:function(){e.resize.observer&&e.resize.observer.unobserve&&e.el&&(e.resize.observer.unobserve(e.el),e.resize.observer=null)},resizeHandler:function(){e&&!e.destroyed&&e.initialized&&(e.emit("beforeResize"),e.emit("resize"))},orientationChangeHandler:function(){e&&!e.destroyed&&e.initialized&&e.emit("orientationchange")}}})},on:{init:function(e){var t=l();e.params.resizeObserver&&void 0!==l().ResizeObserver?e.resize.createObserver():(t.addEventListener("resize",e.resize.resizeHandler),t.addEventListener("orientationchange",e.resize.orientationChangeHandler))},destroy:function(e){var t=l();e.resize.removeObserver(),t.removeEventListener("resize",e.resize.resizeHandler),t.removeEventListener("orientationchange",e.resize.orientationChangeHandler)}}},A={attach:function(e,t){void 0===t&&(t={});var i=l(),s=this,a=new(i.MutationObserver||i.WebkitMutationObserver)((function(e){if(1!==e.length){var t=function(){s.emit("observerUpdate",e[0])};i.requestAnimationFrame?i.requestAnimationFrame(t):i.setTimeout(t,0)}else s.emit("observerUpdate",e[0])}));a.observe(e,{attributes:void 0===t.attributes||t.attributes,childList:void 0===t.childList||t.childList,characterData:void 0===t.characterData||t.characterData}),s.observer.observers.push(a)},init:function(){if(this.support.observer&&this.params.observer){if(this.params.observeParents)for(var e=this.$el.parents(),t=0;t<e.length;t+=1)this.observer.attach(e[t]);this.observer.attach(this.$el[0],{childList:this.params.observeSlideChildren}),this.observer.attach(this.$wrapperEl[0],{attributes:!1})}},destroy:function(){this.observer.observers.forEach((function(e){e.disconnect()})),this.observer.observers=[]}},D={name:"observer",params:{observer:!1,observeParents:!1,observeSlideChildren:!1},create:function(){z(this,{observer:t({},A,{observers:[]})})},on:{init:function(e){e.observer.init()},destroy:function(e){e.observer.destroy()}}};function N(e){var t=r(),i=l(),s=this.touchEventsData,a=this.params,n=this.touches;if(this.enabled&&(!this.animating||!a.preventInteractionOnTransition)){var o=e;o.originalEvent&&(o=o.originalEvent);var d=m(o.target);if(("wrapper"!==a.touchEventsTarget||d.closest(this.wrapperEl).length)&&(s.isTouchEvent="touchstart"===o.type,(s.isTouchEvent||!("which"in o)||3!==o.which)&&!(!s.isTouchEvent&&"button"in o&&o.button>0||s.isTouched&&s.isMoved))){!!a.noSwipingClass&&""!==a.noSwipingClass&&o.target&&o.target.shadowRoot&&e.path&&e.path[0]&&(d=m(e.path[0]));var h=a.noSwipingSelector?a.noSwipingSelector:"."+a.noSwipingClass,p=!(!o.target||!o.target.shadowRoot);if(a.noSwiping&&(p?function(e,t){return void 0===t&&(t=this),function t(i){return i&&i!==r()&&i!==l()?(i.assignedSlot&&(i=i.assignedSlot),i.closest(e)||t(i.getRootNode().host)):null}(t)}(h,o.target):d.closest(h)[0]))this.allowClick=!0;else if(!a.swipeHandler||d.closest(a.swipeHandler)[0]){n.currentX="touchstart"===o.type?o.targetTouches[0].pageX:o.pageX,n.currentY="touchstart"===o.type?o.targetTouches[0].pageY:o.pageY;var u=n.currentX,c=n.currentY,v=a.edgeSwipeDetection||a.iOSEdgeSwipeDetection,f=a.edgeSwipeThreshold||a.iOSEdgeSwipeThreshold;if(v&&(u<=f||u>=i.innerWidth-f)){if("prevent"!==v)return;e.preventDefault()}if(M(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),n.startX=u,n.startY=c,s.touchStartTime=x(),this.allowClick=!0,this.updateSize(),this.swipeDirection=void 0,a.threshold>0&&(s.allowThresholdMove=!1),"touchstart"!==o.type){var g=!0;d.is(s.focusableElements)&&(g=!1),t.activeElement&&m(t.activeElement).is(s.focusableElements)&&t.activeElement!==d[0]&&t.activeElement.blur();var b=g&&this.allowTouchMove&&a.touchStartPreventDefault;!a.touchStartForcePreventDefault&&!b||d[0].isContentEditable||o.preventDefault()}this.emit("touchStart",o)}}}}function G(e){var t=r(),i=this.touchEventsData,s=this.params,a=this.touches,n=this.rtlTranslate;if(this.enabled){var l=e;if(l.originalEvent&&(l=l.originalEvent),i.isTouched){if(!i.isTouchEvent||"touchmove"===l.type){var o="touchmove"===l.type&&l.targetTouches&&(l.targetTouches[0]||l.changedTouches[0]),d="touchmove"===l.type?o.pageX:l.pageX,h="touchmove"===l.type?o.pageY:l.pageY;if(l.preventedByNestedSwiper)return a.startX=d,void(a.startY=h);if(!this.allowTouchMove)return this.allowClick=!1,void(i.isTouched&&(M(a,{startX:d,startY:h,currentX:d,currentY:h}),i.touchStartTime=x()));if(i.isTouchEvent&&s.touchReleaseOnEdges&&!s.loop)if(this.isVertical()){if(h<a.startY&&this.translate<=this.maxTranslate()||h>a.startY&&this.translate>=this.minTranslate())return i.isTouched=!1,void(i.isMoved=!1)}else if(d<a.startX&&this.translate<=this.maxTranslate()||d>a.startX&&this.translate>=this.minTranslate())return;if(i.isTouchEvent&&t.activeElement&&l.target===t.activeElement&&m(l.target).is(i.focusableElements))return i.isMoved=!0,void(this.allowClick=!1);if(i.allowTouchCallbacks&&this.emit("touchMove",l),!(l.targetTouches&&l.targetTouches.length>1)){a.currentX=d,a.currentY=h;var p=a.currentX-a.startX,u=a.currentY-a.startY;if(!(this.params.threshold&&Math.sqrt(Math.pow(p,2)+Math.pow(u,2))<this.params.threshold)){var c;if(void 0===i.isScrolling)this.isHorizontal()&&a.currentY===a.startY||this.isVertical()&&a.currentX===a.startX?i.isScrolling=!1:p*p+u*u>=25&&(c=180*Math.atan2(Math.abs(u),Math.abs(p))/Math.PI,i.isScrolling=this.isHorizontal()?c>s.touchAngle:90-c>s.touchAngle);if(i.isScrolling&&this.emit("touchMoveOpposite",l),void 0===i.startMoving&&(a.currentX===a.startX&&a.currentY===a.startY||(i.startMoving=!0)),i.isScrolling)i.isTouched=!1;else if(i.startMoving){this.allowClick=!1,!s.cssMode&&l.cancelable&&l.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&l.stopPropagation(),i.isMoved||(s.loop&&this.loopFix(),i.startTranslate=this.getTranslate(),this.setTransition(0),this.animating&&this.$wrapperEl.trigger("webkitTransitionEnd transitionend"),i.allowMomentumBounce=!1,!s.grabCursor||!0!==this.allowSlideNext&&!0!==this.allowSlidePrev||this.setGrabCursor(!0),this.emit("sliderFirstMove",l)),this.emit("sliderMove",l),i.isMoved=!0;var v=this.isHorizontal()?p:u;a.diff=v,v*=s.touchRatio,n&&(v=-v),this.swipeDirection=v>0?"prev":"next",i.currentTranslate=v+i.startTranslate;var f=!0,g=s.resistanceRatio;if(s.touchReleaseOnEdges&&(g=0),v>0&&i.currentTranslate>this.minTranslate()?(f=!1,s.resistance&&(i.currentTranslate=this.minTranslate()-1+Math.pow(-this.minTranslate()+i.startTranslate+v,g))):v<0&&i.currentTranslate<this.maxTranslate()&&(f=!1,s.resistance&&(i.currentTranslate=this.maxTranslate()+1-Math.pow(this.maxTranslate()-i.startTranslate-v,g))),f&&(l.preventedByNestedSwiper=!0),!this.allowSlideNext&&"next"===this.swipeDirection&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!this.allowSlidePrev&&"prev"===this.swipeDirection&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),this.allowSlidePrev||this.allowSlideNext||(i.currentTranslate=i.startTranslate),s.threshold>0){if(!(Math.abs(v)>s.threshold||i.allowThresholdMove))return void(i.currentTranslate=i.startTranslate);if(!i.allowThresholdMove)return i.allowThresholdMove=!0,a.startX=a.currentX,a.startY=a.currentY,i.currentTranslate=i.startTranslate,void(a.diff=this.isHorizontal()?a.currentX-a.startX:a.currentY-a.startY)}s.followFinger&&!s.cssMode&&((s.freeMode||s.watchSlidesProgress||s.watchSlidesVisibility)&&(this.updateActiveIndex(),this.updateSlidesClasses()),s.freeMode&&(0===i.velocities.length&&i.velocities.push({position:a[this.isHorizontal()?"startX":"startY"],time:i.touchStartTime}),i.velocities.push({position:a[this.isHorizontal()?"currentX":"currentY"],time:x()})),this.updateProgress(i.currentTranslate),this.setTranslate(i.currentTranslate))}}}}}else i.startMoving&&i.isScrolling&&this.emit("touchMoveOpposite",l)}}function B(e){var t=this,i=t.touchEventsData,s=t.params,a=t.touches,r=t.rtlTranslate,n=t.$wrapperEl,l=t.slidesGrid,o=t.snapGrid;if(t.enabled){var d=e;if(d.originalEvent&&(d=d.originalEvent),i.allowTouchCallbacks&&t.emit("touchEnd",d),i.allowTouchCallbacks=!1,!i.isTouched)return i.isMoved&&s.grabCursor&&t.setGrabCursor(!1),i.isMoved=!1,void(i.startMoving=!1);s.grabCursor&&i.isMoved&&i.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);var h,p=x(),u=p-i.touchStartTime;if(t.allowClick&&(t.updateClickedSlide(d),t.emit("tap click",d),u<300&&p-i.lastClickTime<300&&t.emit("doubleTap doubleClick",d)),i.lastClickTime=x(),E((function(){t.destroyed||(t.allowClick=!0)})),!i.isTouched||!i.isMoved||!t.swipeDirection||0===a.diff||i.currentTranslate===i.startTranslate)return i.isTouched=!1,i.isMoved=!1,void(i.startMoving=!1);if(i.isTouched=!1,i.isMoved=!1,i.startMoving=!1,h=s.followFinger?r?t.translate:-t.translate:-i.currentTranslate,!s.cssMode)if(s.freeMode){if(h<-t.minTranslate())return void t.slideTo(t.activeIndex);if(h>-t.maxTranslate())return void(t.slides.length<o.length?t.slideTo(o.length-1):t.slideTo(t.slides.length-1));if(s.freeModeMomentum){if(i.velocities.length>1){var c=i.velocities.pop(),v=i.velocities.pop(),f=c.position-v.position,m=c.time-v.time;t.velocity=f/m,t.velocity/=2,Math.abs(t.velocity)<s.freeModeMinimumVelocity&&(t.velocity=0),(m>150||x()-c.time>300)&&(t.velocity=0)}else t.velocity=0;t.velocity*=s.freeModeMomentumVelocityRatio,i.velocities.length=0;var g=1e3*s.freeModeMomentumRatio,b=t.velocity*g,w=t.translate+b;r&&(w=-w);var y,T,C=!1,S=20*Math.abs(t.velocity)*s.freeModeMomentumBounceRatio;if(w<t.maxTranslate())s.freeModeMomentumBounce?(w+t.maxTranslate()<-S&&(w=t.maxTranslate()-S),y=t.maxTranslate(),C=!0,i.allowMomentumBounce=!0):w=t.maxTranslate(),s.loop&&s.centeredSlides&&(T=!0);else if(w>t.minTranslate())s.freeModeMomentumBounce?(w-t.minTranslate()>S&&(w=t.minTranslate()+S),y=t.minTranslate(),C=!0,i.allowMomentumBounce=!0):w=t.minTranslate(),s.loop&&s.centeredSlides&&(T=!0);else if(s.freeModeSticky){for(var M,z=0;z<o.length;z+=1)if(o[z]>-w){M=z;break}w=-(w=Math.abs(o[M]-w)<Math.abs(o[M-1]-w)||"next"===t.swipeDirection?o[M]:o[M-1])}if(T&&t.once("transitionEnd",(function(){t.loopFix()})),0!==t.velocity){if(g=r?Math.abs((-w-t.translate)/t.velocity):Math.abs((w-t.translate)/t.velocity),s.freeModeSticky){var P=Math.abs((r?-w:w)-t.translate),k=t.slidesSizesGrid[t.activeIndex];g=P<k?s.speed:P<2*k?1.5*s.speed:2.5*s.speed}}else if(s.freeModeSticky)return void t.slideToClosest();s.freeModeMomentumBounce&&C?(t.updateProgress(y),t.setTransition(g),t.setTranslate(w),t.transitionStart(!0,t.swipeDirection),t.animating=!0,n.transitionEnd((function(){t&&!t.destroyed&&i.allowMomentumBounce&&(t.emit("momentumBounce"),t.setTransition(s.speed),setTimeout((function(){t.setTranslate(y),n.transitionEnd((function(){t&&!t.destroyed&&t.transitionEnd()}))}),0))}))):t.velocity?(t.updateProgress(w),t.setTransition(g),t.setTranslate(w),t.transitionStart(!0,t.swipeDirection),t.animating||(t.animating=!0,n.transitionEnd((function(){t&&!t.destroyed&&t.transitionEnd()})))):(t.emit("_freeModeNoMomentumRelease"),t.updateProgress(w)),t.updateActiveIndex(),t.updateSlidesClasses()}else{if(s.freeModeSticky)return void t.slideToClosest();s.freeMode&&t.emit("_freeModeNoMomentumRelease")}(!s.freeModeMomentum||u>=s.longSwipesMs)&&(t.updateProgress(),t.updateActiveIndex(),t.updateSlidesClasses())}else{for(var $=0,L=t.slidesSizesGrid[0],I=0;I<l.length;I+=I<s.slidesPerGroupSkip?1:s.slidesPerGroup){var O=I<s.slidesPerGroupSkip-1?1:s.slidesPerGroup;void 0!==l[I+O]?h>=l[I]&&h<l[I+O]&&($=I,L=l[I+O]-l[I]):h>=l[I]&&($=I,L=l[l.length-1]-l[l.length-2])}var A=(h-l[$])/L,D=$<s.slidesPerGroupSkip-1?1:s.slidesPerGroup;if(u>s.longSwipesMs){if(!s.longSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&(A>=s.longSwipesRatio?t.slideTo($+D):t.slideTo($)),"prev"===t.swipeDirection&&(A>1-s.longSwipesRatio?t.slideTo($+D):t.slideTo($))}else{if(!s.shortSwipes)return void t.slideTo(t.activeIndex);t.navigation&&(d.target===t.navigation.nextEl||d.target===t.navigation.prevEl)?d.target===t.navigation.nextEl?t.slideTo($+D):t.slideTo($):("next"===t.swipeDirection&&t.slideTo($+D),"prev"===t.swipeDirection&&t.slideTo($))}}}}function H(){var e=this.params,t=this.el;if(!t||0!==t.offsetWidth){e.breakpoints&&this.setBreakpoint();var i=this.allowSlideNext,s=this.allowSlidePrev,a=this.snapGrid;this.allowSlideNext=!0,this.allowSlidePrev=!0,this.updateSize(),this.updateSlides(),this.updateSlidesClasses(),("auto"===e.slidesPerView||e.slidesPerView>1)&&this.isEnd&&!this.isBeginning&&!this.params.centeredSlides?this.slideTo(this.slides.length-1,0,!1,!0):this.slideTo(this.activeIndex,0,!1,!0),this.autoplay&&this.autoplay.running&&this.autoplay.paused&&this.autoplay.run(),this.allowSlidePrev=s,this.allowSlideNext=i,this.params.watchOverflow&&a!==this.snapGrid&&this.checkOverflow()}}function R(e){this.enabled&&(this.allowClick||(this.params.preventClicks&&e.preventDefault(),this.params.preventClicksPropagation&&this.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function X(){var e=this.wrapperEl,t=this.rtlTranslate;if(this.enabled){this.previousTranslate=this.translate,this.isHorizontal()?this.translate=t?e.scrollWidth-e.offsetWidth-e.scrollLeft:-e.scrollLeft:this.translate=-e.scrollTop,-0===this.translate&&(this.translate=0),this.updateActiveIndex(),this.updateSlidesClasses();var i=this.maxTranslate()-this.minTranslate();(0===i?0:(this.translate-this.minTranslate())/i)!==this.progress&&this.updateProgress(t?-this.translate:this.translate),this.emit("setTranslate",this.translate,!1)}}var Y=!1;function V(){}var W={init:!0,direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!1,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeMomentumVelocityRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,slidesPerGroupSkip:0,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!1,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,containerModifierClass:"swiper-container-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1},F={modular:{useParams:function(e){var t=this;t.modules&&Object.keys(t.modules).forEach((function(i){var s=t.modules[i];s.params&&M(e,s.params)}))},useModules:function(e){void 0===e&&(e={});var t=this;t.modules&&Object.keys(t.modules).forEach((function(i){var s=t.modules[i],a=e[i]||{};s.on&&t.on&&Object.keys(s.on).forEach((function(e){t.on(e,s.on[e])})),s.create&&s.create.bind(t)(a)}))}},eventsEmitter:{on:function(e,t,i){var s=this;if("function"!=typeof t)return s;var a=i?"unshift":"push";return e.split(" ").forEach((function(e){s.eventsListeners[e]||(s.eventsListeners[e]=[]),s.eventsListeners[e][a](t)})),s},once:function(e,t,i){var s=this;if("function"!=typeof t)return s;function a(){s.off(e,a),a.__emitterProxy&&delete a.__emitterProxy;for(var i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];t.apply(s,r)}return a.__emitterProxy=t,s.on(e,a,i)},onAny:function(e,t){if("function"!=typeof e)return this;var i=t?"unshift":"push";return this.eventsAnyListeners.indexOf(e)<0&&this.eventsAnyListeners[i](e),this},offAny:function(e){if(!this.eventsAnyListeners)return this;var t=this.eventsAnyListeners.indexOf(e);return t>=0&&this.eventsAnyListeners.splice(t,1),this},off:function(e,t){var i=this;return i.eventsListeners?(e.split(" ").forEach((function(e){void 0===t?i.eventsListeners[e]=[]:i.eventsListeners[e]&&i.eventsListeners[e].forEach((function(s,a){(s===t||s.__emitterProxy&&s.__emitterProxy===t)&&i.eventsListeners[e].splice(a,1)}))})),i):i},emit:function(){var e,t,i,s=this;if(!s.eventsListeners)return s;for(var a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];"string"==typeof r[0]||Array.isArray(r[0])?(e=r[0],t=r.slice(1,r.length),i=s):(e=r[0].events,t=r[0].data,i=r[0].context||s),t.unshift(i);var l=Array.isArray(e)?e:e.split(" ");return l.forEach((function(e){s.eventsAnyListeners&&s.eventsAnyListeners.length&&s.eventsAnyListeners.forEach((function(s){s.apply(i,[e].concat(t))})),s.eventsListeners&&s.eventsListeners[e]&&s.eventsListeners[e].forEach((function(e){e.apply(i,t)}))})),s}},update:{updateSize:function(){var e,t,i=this.$el;e=void 0!==this.params.width&&null!==this.params.width?this.params.width:i[0].clientWidth,t=void 0!==this.params.height&&null!==this.params.height?this.params.height:i[0].clientHeight,0===e&&this.isHorizontal()||0===t&&this.isVertical()||(e=e-parseInt(i.css("padding-left")||0,10)-parseInt(i.css("padding-right")||0,10),t=t-parseInt(i.css("padding-top")||0,10)-parseInt(i.css("padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),M(this,{width:e,height:t,size:this.isHorizontal()?e:t}))},updateSlides:function(){var e=this;function t(t){return e.isHorizontal()?t:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[t]}function i(e,i){return parseFloat(e.getPropertyValue(t(i))||0)}var s=e.params,a=e.$wrapperEl,r=e.size,n=e.rtlTranslate,l=e.wrongRTL,o=e.virtual&&s.virtual.enabled,d=o?e.virtual.slides.length:e.slides.length,h=a.children("."+e.params.slideClass),p=o?e.virtual.slides.length:h.length,u=[],c=[],v=[],f=s.slidesOffsetBefore;"function"==typeof f&&(f=s.slidesOffsetBefore.call(e));var m=s.slidesOffsetAfter;"function"==typeof m&&(m=s.slidesOffsetAfter.call(e));var g=e.snapGrid.length,b=e.slidesGrid.length,w=s.spaceBetween,y=-f,E=0,x=0;if(void 0!==r){var T,C;"string"==typeof w&&w.indexOf("%")>=0&&(w=parseFloat(w.replace("%",""))/100*r),e.virtualSize=-w,n?h.css({marginLeft:"",marginBottom:"",marginTop:""}):h.css({marginRight:"",marginBottom:"",marginTop:""}),s.slidesPerColumn>1&&(T=Math.floor(p/s.slidesPerColumn)===p/e.params.slidesPerColumn?p:Math.ceil(p/s.slidesPerColumn)*s.slidesPerColumn,"auto"!==s.slidesPerView&&"row"===s.slidesPerColumnFill&&(T=Math.max(T,s.slidesPerView*s.slidesPerColumn)));for(var S,z,P,k=s.slidesPerColumn,$=T/k,L=Math.floor(p/s.slidesPerColumn),I=0;I<p;I+=1){C=0;var O=h.eq(I);if(s.slidesPerColumn>1){var A=void 0,D=void 0,N=void 0;if("row"===s.slidesPerColumnFill&&s.slidesPerGroup>1){var G=Math.floor(I/(s.slidesPerGroup*s.slidesPerColumn)),B=I-s.slidesPerColumn*s.slidesPerGroup*G,H=0===G?s.slidesPerGroup:Math.min(Math.ceil((p-G*k*s.slidesPerGroup)/k),s.slidesPerGroup);A=(D=B-(N=Math.floor(B/H))*H+G*s.slidesPerGroup)+N*T/k,O.css({"-webkit-box-ordinal-group":A,"-moz-box-ordinal-group":A,"-ms-flex-order":A,"-webkit-order":A,order:A})}else"column"===s.slidesPerColumnFill?(N=I-(D=Math.floor(I/k))*k,(D>L||D===L&&N===k-1)&&(N+=1)>=k&&(N=0,D+=1)):D=I-(N=Math.floor(I/$))*$;O.css(t("margin-top"),0!==N?s.spaceBetween&&s.spaceBetween+"px":"")}if("none"!==O.css("display")){if("auto"===s.slidesPerView){var R=getComputedStyle(O[0]),X=O[0].style.transform,Y=O[0].style.webkitTransform;if(X&&(O[0].style.transform="none"),Y&&(O[0].style.webkitTransform="none"),s.roundLengths)C=e.isHorizontal()?O.outerWidth(!0):O.outerHeight(!0);else{var V=i(R,"width"),W=i(R,"padding-left"),F=i(R,"padding-right"),_=i(R,"margin-left"),q=i(R,"margin-right"),j=R.getPropertyValue("box-sizing");if(j&&"border-box"===j)C=V+_+q;else{var U=O[0],K=U.clientWidth;C=V+W+F+_+q+(U.offsetWidth-K)}}X&&(O[0].style.transform=X),Y&&(O[0].style.webkitTransform=Y),s.roundLengths&&(C=Math.floor(C))}else C=(r-(s.slidesPerView-1)*w)/s.slidesPerView,s.roundLengths&&(C=Math.floor(C)),h[I]&&(h[I].style[t("width")]=C+"px");h[I]&&(h[I].swiperSlideSize=C),v.push(C),s.centeredSlides?(y=y+C/2+E/2+w,0===E&&0!==I&&(y=y-r/2-w),0===I&&(y=y-r/2-w),Math.abs(y)<.001&&(y=0),s.roundLengths&&(y=Math.floor(y)),x%s.slidesPerGroup==0&&u.push(y),c.push(y)):(s.roundLengths&&(y=Math.floor(y)),(x-Math.min(e.params.slidesPerGroupSkip,x))%e.params.slidesPerGroup==0&&u.push(y),c.push(y),y=y+C+w),e.virtualSize+=C+w,E=C,x+=1}}if(e.virtualSize=Math.max(e.virtualSize,r)+m,n&&l&&("slide"===s.effect||"coverflow"===s.effect)&&a.css({width:e.virtualSize+s.spaceBetween+"px"}),s.setWrapperSize)a.css(((z={})[t("width")]=e.virtualSize+s.spaceBetween+"px",z));if(s.slidesPerColumn>1)if(e.virtualSize=(C+s.spaceBetween)*T,e.virtualSize=Math.ceil(e.virtualSize/s.slidesPerColumn)-s.spaceBetween,a.css(((P={})[t("width")]=e.virtualSize+s.spaceBetween+"px",P)),s.centeredSlides){S=[];for(var Z=0;Z<u.length;Z+=1){var J=u[Z];s.roundLengths&&(J=Math.floor(J)),u[Z]<e.virtualSize+u[0]&&S.push(J)}u=S}if(!s.centeredSlides){S=[];for(var Q=0;Q<u.length;Q+=1){var ee=u[Q];s.roundLengths&&(ee=Math.floor(ee)),u[Q]<=e.virtualSize-r&&S.push(ee)}u=S,Math.floor(e.virtualSize-r)-Math.floor(u[u.length-1])>1&&u.push(e.virtualSize-r)}if(0===u.length&&(u=[0]),0!==s.spaceBetween){var te,ie=e.isHorizontal()&&n?"marginLeft":t("marginRight");h.filter((function(e,t){return!s.cssMode||t!==h.length-1})).css(((te={})[ie]=w+"px",te))}if(s.centeredSlides&&s.centeredSlidesBounds){var se=0;v.forEach((function(e){se+=e+(s.spaceBetween?s.spaceBetween:0)}));var ae=(se-=s.spaceBetween)-r;u=u.map((function(e){return e<0?-f:e>ae?ae+m:e}))}if(s.centerInsufficientSlides){var re=0;if(v.forEach((function(e){re+=e+(s.spaceBetween?s.spaceBetween:0)})),(re-=s.spaceBetween)<r){var ne=(r-re)/2;u.forEach((function(e,t){u[t]=e-ne})),c.forEach((function(e,t){c[t]=e+ne}))}}M(e,{slides:h,snapGrid:u,slidesGrid:c,slidesSizesGrid:v}),p!==d&&e.emit("slidesLengthChange"),u.length!==g&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),c.length!==b&&e.emit("slidesGridLengthChange"),(s.watchSlidesProgress||s.watchSlidesVisibility)&&e.updateSlidesOffset()}},updateAutoHeight:function(e){var t,i=this,s=[],a=i.virtual&&i.params.virtual.enabled,r=0;"number"==typeof e?i.setTransition(e):!0===e&&i.setTransition(i.params.speed);var n=function(e){return a?i.slides.filter((function(t){return parseInt(t.getAttribute("data-swiper-slide-index"),10)===e}))[0]:i.slides.eq(e)[0]};if("auto"!==i.params.slidesPerView&&i.params.slidesPerView>1)if(i.params.centeredSlides)i.visibleSlides.each((function(e){s.push(e)}));else for(t=0;t<Math.ceil(i.params.slidesPerView);t+=1){var l=i.activeIndex+t;if(l>i.slides.length&&!a)break;s.push(n(l))}else s.push(n(i.activeIndex));for(t=0;t<s.length;t+=1)if(void 0!==s[t]){var o=s[t].offsetHeight;r=o>r?o:r}r&&i.$wrapperEl.css("height",r+"px")},updateSlidesOffset:function(){for(var e=this.slides,t=0;t<e.length;t+=1)e[t].swiperSlideOffset=this.isHorizontal()?e[t].offsetLeft:e[t].offsetTop},updateSlidesProgress:function(e){void 0===e&&(e=this&&this.translate||0);var t=this.params,i=this.slides,s=this.rtlTranslate;if(0!==i.length){void 0===i[0].swiperSlideOffset&&this.updateSlidesOffset();var a=-e;s&&(a=e),i.removeClass(t.slideVisibleClass),this.visibleSlidesIndexes=[],this.visibleSlides=[];for(var r=0;r<i.length;r+=1){var n=i[r],l=(a+(t.centeredSlides?this.minTranslate():0)-n.swiperSlideOffset)/(n.swiperSlideSize+t.spaceBetween);if(t.watchSlidesVisibility||t.centeredSlides&&t.autoHeight){var o=-(a-n.swiperSlideOffset),d=o+this.slidesSizesGrid[r];(o>=0&&o<this.size-1||d>1&&d<=this.size||o<=0&&d>=this.size)&&(this.visibleSlides.push(n),this.visibleSlidesIndexes.push(r),i.eq(r).addClass(t.slideVisibleClass))}n.progress=s?-l:l}this.visibleSlides=m(this.visibleSlides)}},updateProgress:function(e){if(void 0===e){var t=this.rtlTranslate?-1:1;e=this&&this.translate&&this.translate*t||0}var i=this.params,s=this.maxTranslate()-this.minTranslate(),a=this.progress,r=this.isBeginning,n=this.isEnd,l=r,o=n;0===s?(a=0,r=!0,n=!0):(r=(a=(e-this.minTranslate())/s)<=0,n=a>=1),M(this,{progress:a,isBeginning:r,isEnd:n}),(i.watchSlidesProgress||i.watchSlidesVisibility||i.centeredSlides&&i.autoHeight)&&this.updateSlidesProgress(e),r&&!l&&this.emit("reachBeginning toEdge"),n&&!o&&this.emit("reachEnd toEdge"),(l&&!r||o&&!n)&&this.emit("fromEdge"),this.emit("progress",a)},updateSlidesClasses:function(){var e,t=this.slides,i=this.params,s=this.$wrapperEl,a=this.activeIndex,r=this.realIndex,n=this.virtual&&i.virtual.enabled;t.removeClass(i.slideActiveClass+" "+i.slideNextClass+" "+i.slidePrevClass+" "+i.slideDuplicateActiveClass+" "+i.slideDuplicateNextClass+" "+i.slideDuplicatePrevClass),(e=n?this.$wrapperEl.find("."+i.slideClass+'[data-swiper-slide-index="'+a+'"]'):t.eq(a)).addClass(i.slideActiveClass),i.loop&&(e.hasClass(i.slideDuplicateClass)?s.children("."+i.slideClass+":not(."+i.slideDuplicateClass+')[data-swiper-slide-index="'+r+'"]').addClass(i.slideDuplicateActiveClass):s.children("."+i.slideClass+"."+i.slideDuplicateClass+'[data-swiper-slide-index="'+r+'"]').addClass(i.slideDuplicateActiveClass));var l=e.nextAll("."+i.slideClass).eq(0).addClass(i.slideNextClass);i.loop&&0===l.length&&(l=t.eq(0)).addClass(i.slideNextClass);var o=e.prevAll("."+i.slideClass).eq(0).addClass(i.slidePrevClass);i.loop&&0===o.length&&(o=t.eq(-1)).addClass(i.slidePrevClass),i.loop&&(l.hasClass(i.slideDuplicateClass)?s.children("."+i.slideClass+":not(."+i.slideDuplicateClass+')[data-swiper-slide-index="'+l.attr("data-swiper-slide-index")+'"]').addClass(i.slideDuplicateNextClass):s.children("."+i.slideClass+"."+i.slideDuplicateClass+'[data-swiper-slide-index="'+l.attr("data-swiper-slide-index")+'"]').addClass(i.slideDuplicateNextClass),o.hasClass(i.slideDuplicateClass)?s.children("."+i.slideClass+":not(."+i.slideDuplicateClass+')[data-swiper-slide-index="'+o.attr("data-swiper-slide-index")+'"]').addClass(i.slideDuplicatePrevClass):s.children("."+i.slideClass+"."+i.slideDuplicateClass+'[data-swiper-slide-index="'+o.attr("data-swiper-slide-index")+'"]').addClass(i.slideDuplicatePrevClass)),this.emitSlidesClasses()},updateActiveIndex:function(e){var t,i=this.rtlTranslate?this.translate:-this.translate,s=this.slidesGrid,a=this.snapGrid,r=this.params,n=this.activeIndex,l=this.realIndex,o=this.snapIndex,d=e;if(void 0===d){for(var h=0;h<s.length;h+=1)void 0!==s[h+1]?i>=s[h]&&i<s[h+1]-(s[h+1]-s[h])/2?d=h:i>=s[h]&&i<s[h+1]&&(d=h+1):i>=s[h]&&(d=h);r.normalizeSlideIndex&&(d<0||void 0===d)&&(d=0)}if(a.indexOf(i)>=0)t=a.indexOf(i);else{var p=Math.min(r.slidesPerGroupSkip,d);t=p+Math.floor((d-p)/r.slidesPerGroup)}if(t>=a.length&&(t=a.length-1),d!==n){var u=parseInt(this.slides.eq(d).attr("data-swiper-slide-index")||d,10);M(this,{snapIndex:t,realIndex:u,previousIndex:n,activeIndex:d}),this.emit("activeIndexChange"),this.emit("snapIndexChange"),l!==u&&this.emit("realIndexChange"),(this.initialized||this.params.runCallbacksOnInit)&&this.emit("slideChange")}else t!==o&&(this.snapIndex=t,this.emit("snapIndexChange"))},updateClickedSlide:function(e){var t,i=this.params,s=m(e.target).closest("."+i.slideClass)[0],a=!1;if(s)for(var r=0;r<this.slides.length;r+=1)if(this.slides[r]===s){a=!0,t=r;break}if(!s||!a)return this.clickedSlide=void 0,void(this.clickedIndex=void 0);this.clickedSlide=s,this.virtual&&this.params.virtual.enabled?this.clickedIndex=parseInt(m(s).attr("data-swiper-slide-index"),10):this.clickedIndex=t,i.slideToClickedSlide&&void 0!==this.clickedIndex&&this.clickedIndex!==this.activeIndex&&this.slideToClickedSlide()}},translate:{getTranslate:function(e){void 0===e&&(e=this.isHorizontal()?"x":"y");var t=this.params,i=this.rtlTranslate,s=this.translate,a=this.$wrapperEl;if(t.virtualTranslate)return i?-s:s;if(t.cssMode)return s;var r=T(a[0],e);return i&&(r=-r),r||0},setTranslate:function(e,t){var i=this.rtlTranslate,s=this.params,a=this.$wrapperEl,r=this.wrapperEl,n=this.progress,l=0,o=0;this.isHorizontal()?l=i?-e:e:o=e,s.roundLengths&&(l=Math.floor(l),o=Math.floor(o)),s.cssMode?r[this.isHorizontal()?"scrollLeft":"scrollTop"]=this.isHorizontal()?-l:-o:s.virtualTranslate||a.transform("translate3d("+l+"px, "+o+"px, 0px)"),this.previousTranslate=this.translate,this.translate=this.isHorizontal()?l:o;var d=this.maxTranslate()-this.minTranslate();(0===d?0:(e-this.minTranslate())/d)!==n&&this.updateProgress(e),this.emit("setTranslate",this.translate,t)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(e,t,i,s,a){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===i&&(i=!0),void 0===s&&(s=!0);var r=this,n=r.params,l=r.wrapperEl;if(r.animating&&n.preventInteractionOnTransition)return!1;var o,d=r.minTranslate(),h=r.maxTranslate();if(o=s&&e>d?d:s&&e<h?h:e,r.updateProgress(o),n.cssMode){var p,u=r.isHorizontal();if(0===t)l[u?"scrollLeft":"scrollTop"]=-o;else if(l.scrollTo)l.scrollTo(((p={})[u?"left":"top"]=-o,p.behavior="smooth",p));else l[u?"scrollLeft":"scrollTop"]=-o;return!0}return 0===t?(r.setTransition(0),r.setTranslate(o),i&&(r.emit("beforeTransitionStart",t,a),r.emit("transitionEnd"))):(r.setTransition(t),r.setTranslate(o),i&&(r.emit("beforeTransitionStart",t,a),r.emit("transitionStart")),r.animating||(r.animating=!0,r.onTranslateToWrapperTransitionEnd||(r.onTranslateToWrapperTransitionEnd=function(e){r&&!r.destroyed&&e.target===this&&(r.$wrapperEl[0].removeEventListener("transitionend",r.onTranslateToWrapperTransitionEnd),r.$wrapperEl[0].removeEventListener("webkitTransitionEnd",r.onTranslateToWrapperTransitionEnd),r.onTranslateToWrapperTransitionEnd=null,delete r.onTranslateToWrapperTransitionEnd,i&&r.emit("transitionEnd"))}),r.$wrapperEl[0].addEventListener("transitionend",r.onTranslateToWrapperTransitionEnd),r.$wrapperEl[0].addEventListener("webkitTransitionEnd",r.onTranslateToWrapperTransitionEnd))),!0}},transition:{setTransition:function(e,t){this.params.cssMode||this.$wrapperEl.transition(e),this.emit("setTransition",e,t)},transitionStart:function(e,t){void 0===e&&(e=!0);var i=this.activeIndex,s=this.params,a=this.previousIndex;if(!s.cssMode){s.autoHeight&&this.updateAutoHeight();var r=t;if(r||(r=i>a?"next":i<a?"prev":"reset"),this.emit("transitionStart"),e&&i!==a){if("reset"===r)return void this.emit("slideResetTransitionStart");this.emit("slideChangeTransitionStart"),"next"===r?this.emit("slideNextTransitionStart"):this.emit("slidePrevTransitionStart")}}},transitionEnd:function(e,t){void 0===e&&(e=!0);var i=this.activeIndex,s=this.previousIndex,a=this.params;if(this.animating=!1,!a.cssMode){this.setTransition(0);var r=t;if(r||(r=i>s?"next":i<s?"prev":"reset"),this.emit("transitionEnd"),e&&i!==s){if("reset"===r)return void this.emit("slideResetTransitionEnd");this.emit("slideChangeTransitionEnd"),"next"===r?this.emit("slideNextTransitionEnd"):this.emit("slidePrevTransitionEnd")}}}},slide:{slideTo:function(e,t,i,s,a){if(void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===i&&(i=!0),"number"!=typeof e&&"string"!=typeof e)throw new Error("The 'index' argument cannot have type other than 'number' or 'string'. ["+typeof e+"] given.");if("string"==typeof e){var r=parseInt(e,10);if(!isFinite(r))throw new Error("The passed-in 'index' (string) couldn't be converted to 'number'. ["+e+"] given.");e=r}var n=this,l=e;l<0&&(l=0);var o=n.params,d=n.snapGrid,h=n.slidesGrid,p=n.previousIndex,u=n.activeIndex,c=n.rtlTranslate,v=n.wrapperEl,f=n.enabled;if(n.animating&&o.preventInteractionOnTransition||!f&&!s&&!a)return!1;var m=Math.min(n.params.slidesPerGroupSkip,l),g=m+Math.floor((l-m)/n.params.slidesPerGroup);g>=d.length&&(g=d.length-1),(u||o.initialSlide||0)===(p||0)&&i&&n.emit("beforeSlideChangeStart");var b,w=-d[g];if(n.updateProgress(w),o.normalizeSlideIndex)for(var y=0;y<h.length;y+=1){var E=-Math.floor(100*w),x=Math.floor(100*h[y]),T=Math.floor(100*h[y+1]);void 0!==h[y+1]?E>=x&&E<T-(T-x)/2?l=y:E>=x&&E<T&&(l=y+1):E>=x&&(l=y)}if(n.initialized&&l!==u){if(!n.allowSlideNext&&w<n.translate&&w<n.minTranslate())return!1;if(!n.allowSlidePrev&&w>n.translate&&w>n.maxTranslate()&&(u||0)!==l)return!1}if(b=l>u?"next":l<u?"prev":"reset",c&&-w===n.translate||!c&&w===n.translate)return n.updateActiveIndex(l),o.autoHeight&&n.updateAutoHeight(),n.updateSlidesClasses(),"slide"!==o.effect&&n.setTranslate(w),"reset"!==b&&(n.transitionStart(i,b),n.transitionEnd(i,b)),!1;if(o.cssMode){var C,S=n.isHorizontal(),M=-w;if(c&&(M=v.scrollWidth-v.offsetWidth-M),0===t)v[S?"scrollLeft":"scrollTop"]=M;else if(v.scrollTo)v.scrollTo(((C={})[S?"left":"top"]=M,C.behavior="smooth",C));else v[S?"scrollLeft":"scrollTop"]=M;return!0}return 0===t?(n.setTransition(0),n.setTranslate(w),n.updateActiveIndex(l),n.updateSlidesClasses(),n.emit("beforeTransitionStart",t,s),n.transitionStart(i,b),n.transitionEnd(i,b)):(n.setTransition(t),n.setTranslate(w),n.updateActiveIndex(l),n.updateSlidesClasses(),n.emit("beforeTransitionStart",t,s),n.transitionStart(i,b),n.animating||(n.animating=!0,n.onSlideToWrapperTransitionEnd||(n.onSlideToWrapperTransitionEnd=function(e){n&&!n.destroyed&&e.target===this&&(n.$wrapperEl[0].removeEventListener("transitionend",n.onSlideToWrapperTransitionEnd),n.$wrapperEl[0].removeEventListener("webkitTransitionEnd",n.onSlideToWrapperTransitionEnd),n.onSlideToWrapperTransitionEnd=null,delete n.onSlideToWrapperTransitionEnd,n.transitionEnd(i,b))}),n.$wrapperEl[0].addEventListener("transitionend",n.onSlideToWrapperTransitionEnd),n.$wrapperEl[0].addEventListener("webkitTransitionEnd",n.onSlideToWrapperTransitionEnd))),!0},slideToLoop:function(e,t,i,s){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===i&&(i=!0);var a=e;return this.params.loop&&(a+=this.loopedSlides),this.slideTo(a,t,i,s)},slideNext:function(e,t,i){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);var s=this.params,a=this.animating;if(!this.enabled)return this;var r=this.activeIndex<s.slidesPerGroupSkip?1:s.slidesPerGroup;if(s.loop){if(a&&s.loopPreventsSlide)return!1;this.loopFix(),this._clientLeft=this.$wrapperEl[0].clientLeft}return this.slideTo(this.activeIndex+r,e,t,i)},slidePrev:function(e,t,i){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);var s=this.params,a=this.animating,r=this.snapGrid,n=this.slidesGrid,l=this.rtlTranslate;if(!this.enabled)return this;if(s.loop){if(a&&s.loopPreventsSlide)return!1;this.loopFix(),this._clientLeft=this.$wrapperEl[0].clientLeft}function o(e){return e<0?-Math.floor(Math.abs(e)):Math.floor(e)}var d,h=o(l?this.translate:-this.translate),p=r.map((function(e){return o(e)})),u=r[p.indexOf(h)-1];return void 0===u&&s.cssMode&&r.forEach((function(e){!u&&h>=e&&(u=e)})),void 0!==u&&(d=n.indexOf(u))<0&&(d=this.activeIndex-1),this.slideTo(d,e,t,i)},slideReset:function(e,t,i){return void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),this.slideTo(this.activeIndex,e,t,i)},slideToClosest:function(e,t,i,s){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),void 0===s&&(s=.5);var a=this.activeIndex,r=Math.min(this.params.slidesPerGroupSkip,a),n=r+Math.floor((a-r)/this.params.slidesPerGroup),l=this.rtlTranslate?this.translate:-this.translate;if(l>=this.snapGrid[n]){var o=this.snapGrid[n];l-o>(this.snapGrid[n+1]-o)*s&&(a+=this.params.slidesPerGroup)}else{var d=this.snapGrid[n-1];l-d<=(this.snapGrid[n]-d)*s&&(a-=this.params.slidesPerGroup)}return a=Math.max(a,0),a=Math.min(a,this.slidesGrid.length-1),this.slideTo(a,e,t,i)},slideToClickedSlide:function(){var e,t=this,i=t.params,s=t.$wrapperEl,a="auto"===i.slidesPerView?t.slidesPerViewDynamic():i.slidesPerView,r=t.clickedIndex;if(i.loop){if(t.animating)return;e=parseInt(m(t.clickedSlide).attr("data-swiper-slide-index"),10),i.centeredSlides?r<t.loopedSlides-a/2||r>t.slides.length-t.loopedSlides+a/2?(t.loopFix(),r=s.children("."+i.slideClass+'[data-swiper-slide-index="'+e+'"]:not(.'+i.slideDuplicateClass+")").eq(0).index(),E((function(){t.slideTo(r)}))):t.slideTo(r):r>t.slides.length-a?(t.loopFix(),r=s.children("."+i.slideClass+'[data-swiper-slide-index="'+e+'"]:not(.'+i.slideDuplicateClass+")").eq(0).index(),E((function(){t.slideTo(r)}))):t.slideTo(r)}else t.slideTo(r)}},loop:{loopCreate:function(){var e=this,t=r(),i=e.params,s=e.$wrapperEl;s.children("."+i.slideClass+"."+i.slideDuplicateClass).remove();var a=s.children("."+i.slideClass);if(i.loopFillGroupWithBlank){var n=i.slidesPerGroup-a.length%i.slidesPerGroup;if(n!==i.slidesPerGroup){for(var l=0;l<n;l+=1){var o=m(t.createElement("div")).addClass(i.slideClass+" "+i.slideBlankClass);s.append(o)}a=s.children("."+i.slideClass)}}"auto"!==i.slidesPerView||i.loopedSlides||(i.loopedSlides=a.length),e.loopedSlides=Math.ceil(parseFloat(i.loopedSlides||i.slidesPerView,10)),e.loopedSlides+=i.loopAdditionalSlides,e.loopedSlides>a.length&&(e.loopedSlides=a.length);var d=[],h=[];a.each((function(t,i){var s=m(t);i<e.loopedSlides&&h.push(t),i<a.length&&i>=a.length-e.loopedSlides&&d.push(t),s.attr("data-swiper-slide-index",i)}));for(var p=0;p<h.length;p+=1)s.append(m(h[p].cloneNode(!0)).addClass(i.slideDuplicateClass));for(var u=d.length-1;u>=0;u-=1)s.prepend(m(d[u].cloneNode(!0)).addClass(i.slideDuplicateClass))},loopFix:function(){this.emit("beforeLoopFix");var e,t=this.activeIndex,i=this.slides,s=this.loopedSlides,a=this.allowSlidePrev,r=this.allowSlideNext,n=this.snapGrid,l=this.rtlTranslate;this.allowSlidePrev=!0,this.allowSlideNext=!0;var o=-n[t]-this.getTranslate();if(t<s)e=i.length-3*s+t,e+=s,this.slideTo(e,0,!1,!0)&&0!==o&&this.setTranslate((l?-this.translate:this.translate)-o);else if(t>=i.length-s){e=-i.length+t+s,e+=s,this.slideTo(e,0,!1,!0)&&0!==o&&this.setTranslate((l?-this.translate:this.translate)-o)}this.allowSlidePrev=a,this.allowSlideNext=r,this.emit("loopFix")},loopDestroy:function(){var e=this.$wrapperEl,t=this.params,i=this.slides;e.children("."+t.slideClass+"."+t.slideDuplicateClass+",."+t.slideClass+"."+t.slideBlankClass).remove(),i.removeAttr("data-swiper-slide-index")}},grabCursor:{setGrabCursor:function(e){if(!(this.support.touch||!this.params.simulateTouch||this.params.watchOverflow&&this.isLocked||this.params.cssMode)){var t=this.el;t.style.cursor="move",t.style.cursor=e?"-webkit-grabbing":"-webkit-grab",t.style.cursor=e?"-moz-grabbin":"-moz-grab",t.style.cursor=e?"grabbing":"grab"}},unsetGrabCursor:function(){this.support.touch||this.params.watchOverflow&&this.isLocked||this.params.cssMode||(this.el.style.cursor="")}},manipulation:{appendSlide:function(e){var t=this.$wrapperEl,i=this.params;if(i.loop&&this.loopDestroy(),"object"==typeof e&&"length"in e)for(var s=0;s<e.length;s+=1)e[s]&&t.append(e[s]);else t.append(e);i.loop&&this.loopCreate(),i.observer&&this.support.observer||this.update()},prependSlide:function(e){var t=this.params,i=this.$wrapperEl,s=this.activeIndex;t.loop&&this.loopDestroy();var a=s+1;if("object"==typeof e&&"length"in e){for(var r=0;r<e.length;r+=1)e[r]&&i.prepend(e[r]);a=s+e.length}else i.prepend(e);t.loop&&this.loopCreate(),t.observer&&this.support.observer||this.update(),this.slideTo(a,0,!1)},addSlide:function(e,t){var i=this.$wrapperEl,s=this.params,a=this.activeIndex;s.loop&&(a-=this.loopedSlides,this.loopDestroy(),this.slides=i.children("."+s.slideClass));var r=this.slides.length;if(e<=0)this.prependSlide(t);else if(e>=r)this.appendSlide(t);else{for(var n=a>e?a+1:a,l=[],o=r-1;o>=e;o-=1){var d=this.slides.eq(o);d.remove(),l.unshift(d)}if("object"==typeof t&&"length"in t){for(var h=0;h<t.length;h+=1)t[h]&&i.append(t[h]);n=a>e?a+t.length:a}else i.append(t);for(var p=0;p<l.length;p+=1)i.append(l[p]);s.loop&&this.loopCreate(),s.observer&&this.support.observer||this.update(),s.loop?this.slideTo(n+this.loopedSlides,0,!1):this.slideTo(n,0,!1)}},removeSlide:function(e){var t=this.params,i=this.$wrapperEl,s=this.activeIndex;t.loop&&(s-=this.loopedSlides,this.loopDestroy(),this.slides=i.children("."+t.slideClass));var a,r=s;if("object"==typeof e&&"length"in e){for(var n=0;n<e.length;n+=1)a=e[n],this.slides[a]&&this.slides.eq(a).remove(),a<r&&(r-=1);r=Math.max(r,0)}else a=e,this.slides[a]&&this.slides.eq(a).remove(),a<r&&(r-=1),r=Math.max(r,0);t.loop&&this.loopCreate(),t.observer&&this.support.observer||this.update(),t.loop?this.slideTo(r+this.loopedSlides,0,!1):this.slideTo(r,0,!1)},removeAllSlides:function(){for(var e=[],t=0;t<this.slides.length;t+=1)e.push(t);this.removeSlide(e)}},events:{attachEvents:function(){var e=r(),t=this.params,i=this.touchEvents,s=this.el,a=this.wrapperEl,n=this.device,l=this.support;this.onTouchStart=N.bind(this),this.onTouchMove=G.bind(this),this.onTouchEnd=B.bind(this),t.cssMode&&(this.onScroll=X.bind(this)),this.onClick=R.bind(this);var o=!!t.nested;if(!l.touch&&l.pointerEvents)s.addEventListener(i.start,this.onTouchStart,!1),e.addEventListener(i.move,this.onTouchMove,o),e.addEventListener(i.end,this.onTouchEnd,!1);else{if(l.touch){var d=!("touchstart"!==i.start||!l.passiveListener||!t.passiveListeners)&&{passive:!0,capture:!1};s.addEventListener(i.start,this.onTouchStart,d),s.addEventListener(i.move,this.onTouchMove,l.passiveListener?{passive:!1,capture:o}:o),s.addEventListener(i.end,this.onTouchEnd,d),i.cancel&&s.addEventListener(i.cancel,this.onTouchEnd,d),Y||(e.addEventListener("touchstart",V),Y=!0)}(t.simulateTouch&&!n.ios&&!n.android||t.simulateTouch&&!l.touch&&n.ios)&&(s.addEventListener("mousedown",this.onTouchStart,!1),e.addEventListener("mousemove",this.onTouchMove,o),e.addEventListener("mouseup",this.onTouchEnd,!1))}(t.preventClicks||t.preventClicksPropagation)&&s.addEventListener("click",this.onClick,!0),t.cssMode&&a.addEventListener("scroll",this.onScroll),t.updateOnWindowResize?this.on(n.ios||n.android?"resize orientationchange observerUpdate":"resize observerUpdate",H,!0):this.on("observerUpdate",H,!0)},detachEvents:function(){var e=r(),t=this.params,i=this.touchEvents,s=this.el,a=this.wrapperEl,n=this.device,l=this.support,o=!!t.nested;if(!l.touch&&l.pointerEvents)s.removeEventListener(i.start,this.onTouchStart,!1),e.removeEventListener(i.move,this.onTouchMove,o),e.removeEventListener(i.end,this.onTouchEnd,!1);else{if(l.touch){var d=!("onTouchStart"!==i.start||!l.passiveListener||!t.passiveListeners)&&{passive:!0,capture:!1};s.removeEventListener(i.start,this.onTouchStart,d),s.removeEventListener(i.move,this.onTouchMove,o),s.removeEventListener(i.end,this.onTouchEnd,d),i.cancel&&s.removeEventListener(i.cancel,this.onTouchEnd,d)}(t.simulateTouch&&!n.ios&&!n.android||t.simulateTouch&&!l.touch&&n.ios)&&(s.removeEventListener("mousedown",this.onTouchStart,!1),e.removeEventListener("mousemove",this.onTouchMove,o),e.removeEventListener("mouseup",this.onTouchEnd,!1))}(t.preventClicks||t.preventClicksPropagation)&&s.removeEventListener("click",this.onClick,!0),t.cssMode&&a.removeEventListener("scroll",this.onScroll),this.off(n.ios||n.android?"resize orientationchange observerUpdate":"resize observerUpdate",H)}},breakpoints:{setBreakpoint:function(){var e=this.activeIndex,t=this.initialized,i=this.loopedSlides,s=void 0===i?0:i,a=this.params,r=this.$el,n=a.breakpoints;if(n&&(!n||0!==Object.keys(n).length)){var l=this.getBreakpoint(n,this.params.breakpointsBase,this.el);if(l&&this.currentBreakpoint!==l){var o=l in n?n[l]:void 0;o&&["slidesPerView","spaceBetween","slidesPerGroup","slidesPerGroupSkip","slidesPerColumn"].forEach((function(e){var t=o[e];void 0!==t&&(o[e]="slidesPerView"!==e||"AUTO"!==t&&"auto"!==t?"slidesPerView"===e?parseFloat(t):parseInt(t,10):"auto")}));var d=o||this.originalParams,h=a.slidesPerColumn>1,p=d.slidesPerColumn>1,u=a.enabled;h&&!p?(r.removeClass(a.containerModifierClass+"multirow "+a.containerModifierClass+"multirow-column"),this.emitContainerClasses()):!h&&p&&(r.addClass(a.containerModifierClass+"multirow"),(d.slidesPerColumnFill&&"column"===d.slidesPerColumnFill||!d.slidesPerColumnFill&&"column"===a.slidesPerColumnFill)&&r.addClass(a.containerModifierClass+"multirow-column"),this.emitContainerClasses());var c=d.direction&&d.direction!==a.direction,v=a.loop&&(d.slidesPerView!==a.slidesPerView||c);c&&t&&this.changeDirection(),M(this.params,d);var f=this.params.enabled;M(this,{allowTouchMove:this.params.allowTouchMove,allowSlideNext:this.params.allowSlideNext,allowSlidePrev:this.params.allowSlidePrev}),u&&!f?this.disable():!u&&f&&this.enable(),this.currentBreakpoint=l,this.emit("_beforeBreakpoint",d),v&&t&&(this.loopDestroy(),this.loopCreate(),this.updateSlides(),this.slideTo(e-s+this.loopedSlides,0,!1)),this.emit("breakpoint",d)}}},getBreakpoint:function(e,t,i){if(void 0===t&&(t="window"),e&&("container"!==t||i)){var s=!1,a=l(),r="window"===t?a.innerHeight:i.clientHeight,n=Object.keys(e).map((function(e){if("string"==typeof e&&0===e.indexOf("@")){var t=parseFloat(e.substr(1));return{value:r*t,point:e}}return{value:e,point:e}}));n.sort((function(e,t){return parseInt(e.value,10)-parseInt(t.value,10)}));for(var o=0;o<n.length;o+=1){var d=n[o],h=d.point,p=d.value;"window"===t?a.matchMedia("(min-width: "+p+"px)").matches&&(s=h):p<=i.clientWidth&&(s=h)}return s||"max"}}},checkOverflow:{checkOverflow:function(){var e=this.params,t=this.isLocked,i=this.slides.length>0&&e.slidesOffsetBefore+e.spaceBetween*(this.slides.length-1)+this.slides[0].offsetWidth*this.slides.length;e.slidesOffsetBefore&&e.slidesOffsetAfter&&i?this.isLocked=i<=this.size:this.isLocked=1===this.snapGrid.length,this.allowSlideNext=!this.isLocked,this.allowSlidePrev=!this.isLocked,t!==this.isLocked&&this.emit(this.isLocked?"lock":"unlock"),t&&t!==this.isLocked&&(this.isEnd=!1,this.navigation&&this.navigation.update())}},classes:{addClasses:function(){var e,t,i,s=this.classNames,a=this.params,r=this.rtl,n=this.$el,l=this.device,o=this.support,d=(e=["initialized",a.direction,{"pointer-events":o.pointerEvents&&!o.touch},{"free-mode":a.freeMode},{autoheight:a.autoHeight},{rtl:r},{multirow:a.slidesPerColumn>1},{"multirow-column":a.slidesPerColumn>1&&"column"===a.slidesPerColumnFill},{android:l.android},{ios:l.ios},{"css-mode":a.cssMode}],t=a.containerModifierClass,i=[],e.forEach((function(e){"object"==typeof e?Object.keys(e).forEach((function(s){e[s]&&i.push(t+s)})):"string"==typeof e&&i.push(t+e)})),i);s.push.apply(s,d),n.addClass([].concat(s).join(" ")),this.emitContainerClasses()},removeClasses:function(){var e=this.$el,t=this.classNames;e.removeClass(t.join(" ")),this.emitContainerClasses()}},images:{loadImage:function(e,t,i,s,a,r){var n,o=l();function d(){r&&r()}m(e).parent("picture")[0]||e.complete&&a?d():t?((n=new o.Image).onload=d,n.onerror=d,s&&(n.sizes=s),i&&(n.srcset=i),t&&(n.src=t)):d()},preloadImages:function(){var e=this;function t(){null!=e&&e&&!e.destroyed&&(void 0!==e.imagesLoaded&&(e.imagesLoaded+=1),e.imagesLoaded===e.imagesToLoad.length&&(e.params.updateOnImagesReady&&e.update(),e.emit("imagesReady")))}e.imagesToLoad=e.$el.find("img");for(var i=0;i<e.imagesToLoad.length;i+=1){var s=e.imagesToLoad[i];e.loadImage(s,s.currentSrc||s.getAttribute("src"),s.srcset||s.getAttribute("srcset"),s.sizes||s.getAttribute("sizes"),!0,t)}}}},_={},q=function(){function t(){for(var e,i,s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];if(1===a.length&&a[0].constructor&&"Object"===Object.prototype.toString.call(a[0]).slice(8,-1)?i=a[0]:(e=a[0],i=a[1]),i||(i={}),i=M({},i),e&&!i.el&&(i.el=e),i.el&&m(i.el).length>1){var n=[];return m(i.el).each((function(e){var s=M({},i,{el:e});n.push(new t(s))})),n}var l=this;l.__swiper__=!0,l.support=$(),l.device=L({userAgent:i.userAgent}),l.browser=I(),l.eventsListeners={},l.eventsAnyListeners=[],void 0===l.modules&&(l.modules={}),Object.keys(l.modules).forEach((function(e){var t=l.modules[e];if(t.params){var s=Object.keys(t.params)[0],a=t.params[s];if("object"!=typeof a||null===a)return;if(["navigation","pagination","scrollbar"].indexOf(s)>=0&&!0===i[s]&&(i[s]={auto:!0}),!(s in i)||!("enabled"in a))return;!0===i[s]&&(i[s]={enabled:!0}),"object"!=typeof i[s]||"enabled"in i[s]||(i[s].enabled=!0),i[s]||(i[s]={enabled:!1})}}));var o,d,h=M({},W);return l.useParams(h),l.params=M({},h,_,i),l.originalParams=M({},l.params),l.passedParams=M({},i),l.params&&l.params.on&&Object.keys(l.params.on).forEach((function(e){l.on(e,l.params.on[e])})),l.params&&l.params.onAny&&l.onAny(l.params.onAny),l.$=m,M(l,{enabled:l.params.enabled,el:e,classNames:[],slides:m(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:function(){return"horizontal"===l.params.direction},isVertical:function(){return"vertical"===l.params.direction},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:l.params.allowSlideNext,allowSlidePrev:l.params.allowSlidePrev,touchEvents:(o=["touchstart","touchmove","touchend","touchcancel"],d=["mousedown","mousemove","mouseup"],l.support.pointerEvents&&(d=["pointerdown","pointermove","pointerup"]),l.touchEventsTouch={start:o[0],move:o[1],end:o[2],cancel:o[3]},l.touchEventsDesktop={start:d[0],move:d[1],end:d[2]},l.support.touch||!l.params.simulateTouch?l.touchEventsTouch:l.touchEventsDesktop),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:l.params.focusableElements,lastClickTime:x(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:l.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),l.useModules(),l.emit("_swiper"),l.params.init&&l.init(),l}var i,s,a,n=t.prototype;return n.enable=function(){this.enabled||(this.enabled=!0,this.params.grabCursor&&this.setGrabCursor(),this.emit("enable"))},n.disable=function(){this.enabled&&(this.enabled=!1,this.params.grabCursor&&this.unsetGrabCursor(),this.emit("disable"))},n.setProgress=function(e,t){e=Math.min(Math.max(e,0),1);var i=this.minTranslate(),s=(this.maxTranslate()-i)*e+i;this.translateTo(s,void 0===t?0:t),this.updateActiveIndex(),this.updateSlidesClasses()},n.emitContainerClasses=function(){var e=this;if(e.params._emitClasses&&e.el){var t=e.el.className.split(" ").filter((function(t){return 0===t.indexOf("swiper-container")||0===t.indexOf(e.params.containerModifierClass)}));e.emit("_containerClasses",t.join(" "))}},n.getSlideClasses=function(e){var t=this;return e.className.split(" ").filter((function(e){return 0===e.indexOf("swiper-slide")||0===e.indexOf(t.params.slideClass)})).join(" ")},n.emitSlidesClasses=function(){var e=this;if(e.params._emitClasses&&e.el){var t=[];e.slides.each((function(i){var s=e.getSlideClasses(i);t.push({slideEl:i,classNames:s}),e.emit("_slideClass",i,s)})),e.emit("_slideClasses",t)}},n.slidesPerViewDynamic=function(){var e=this.params,t=this.slides,i=this.slidesGrid,s=this.size,a=this.activeIndex,r=1;if(e.centeredSlides){for(var n,l=t[a].swiperSlideSize,o=a+1;o<t.length;o+=1)t[o]&&!n&&(r+=1,(l+=t[o].swiperSlideSize)>s&&(n=!0));for(var d=a-1;d>=0;d-=1)t[d]&&!n&&(r+=1,(l+=t[d].swiperSlideSize)>s&&(n=!0))}else for(var h=a+1;h<t.length;h+=1)i[h]-i[a]<s&&(r+=1);return r},n.update=function(){var e=this;if(e&&!e.destroyed){var t=e.snapGrid,i=e.params;i.breakpoints&&e.setBreakpoint(),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.params.freeMode?(s(),e.params.autoHeight&&e.updateAutoHeight()):(("auto"===e.params.slidesPerView||e.params.slidesPerView>1)&&e.isEnd&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0))||s(),i.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}function s(){var t=e.rtlTranslate?-1*e.translate:e.translate,i=Math.min(Math.max(t,e.maxTranslate()),e.minTranslate());e.setTranslate(i),e.updateActiveIndex(),e.updateSlidesClasses()}},n.changeDirection=function(e,t){void 0===t&&(t=!0);var i=this.params.direction;return e||(e="horizontal"===i?"vertical":"horizontal"),e===i||"horizontal"!==e&&"vertical"!==e||(this.$el.removeClass(""+this.params.containerModifierClass+i).addClass(""+this.params.containerModifierClass+e),this.emitContainerClasses(),this.params.direction=e,this.slides.each((function(t){"vertical"===e?t.style.width="":t.style.height=""})),this.emit("changeDirection"),t&&this.update()),this},n.mount=function(e){var t=this;if(t.mounted)return!0;var i=m(e||t.params.el);if(!(e=i[0]))return!1;e.swiper=t;var s=function(){return"."+(t.params.wrapperClass||"").trim().split(" ").join(".")},a=function(){if(e&&e.shadowRoot&&e.shadowRoot.querySelector){var t=m(e.shadowRoot.querySelector(s()));return t.children=function(e){return i.children(e)},t}return i.children(s())}();if(0===a.length&&t.params.createElements){var n=r().createElement("div");a=m(n),n.className=t.params.wrapperClass,i.append(n),i.children("."+t.params.slideClass).each((function(e){a.append(e)}))}return M(t,{$el:i,el:e,$wrapperEl:a,wrapperEl:a[0],mounted:!0,rtl:"rtl"===e.dir.toLowerCase()||"rtl"===i.css("direction"),rtlTranslate:"horizontal"===t.params.direction&&("rtl"===e.dir.toLowerCase()||"rtl"===i.css("direction")),wrongRTL:"-webkit-box"===a.css("display")}),!0},n.init=function(e){return this.initialized||!1===this.mount(e)||(this.emit("beforeInit"),this.params.breakpoints&&this.setBreakpoint(),this.addClasses(),this.params.loop&&this.loopCreate(),this.updateSize(),this.updateSlides(),this.params.watchOverflow&&this.checkOverflow(),this.params.grabCursor&&this.enabled&&this.setGrabCursor(),this.params.preloadImages&&this.preloadImages(),this.params.loop?this.slideTo(this.params.initialSlide+this.loopedSlides,0,this.params.runCallbacksOnInit,!1,!0):this.slideTo(this.params.initialSlide,0,this.params.runCallbacksOnInit,!1,!0),this.attachEvents(),this.initialized=!0,this.emit("init"),this.emit("afterInit")),this},n.destroy=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0);var i,s=this,a=s.params,r=s.$el,n=s.$wrapperEl,l=s.slides;return void 0===s.params||s.destroyed||(s.emit("beforeDestroy"),s.initialized=!1,s.detachEvents(),a.loop&&s.loopDestroy(),t&&(s.removeClasses(),r.removeAttr("style"),n.removeAttr("style"),l&&l.length&&l.removeClass([a.slideVisibleClass,a.slideActiveClass,a.slideNextClass,a.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),s.emit("destroy"),Object.keys(s.eventsListeners).forEach((function(e){s.off(e)})),!1!==e&&(s.$el[0].swiper=null,i=s,Object.keys(i).forEach((function(e){try{i[e]=null}catch(e){}try{delete i[e]}catch(e){}}))),s.destroyed=!0),null},t.extendDefaults=function(e){M(_,e)},t.installModule=function(e){t.prototype.modules||(t.prototype.modules={});var i=e.name||Object.keys(t.prototype.modules).length+"_"+x();t.prototype.modules[i]=e},t.use=function(e){return Array.isArray(e)?(e.forEach((function(e){return t.installModule(e)})),t):(t.installModule(e),t)},i=t,a=[{key:"extendedDefaults",get:function(){return _}},{key:"defaults",get:function(){return W}}],(s=null)&&e(i.prototype,s),a&&e(i,a),t}();Object.keys(F).forEach((function(e){Object.keys(F[e]).forEach((function(t){q.prototype[t]=F[e][t]}))})),q.use([O,D]);var j={update:function(e){var t=this,i=t.params,s=i.slidesPerView,a=i.slidesPerGroup,r=i.centeredSlides,n=t.params.virtual,l=n.addSlidesBefore,o=n.addSlidesAfter,d=t.virtual,h=d.from,p=d.to,u=d.slides,c=d.slidesGrid,v=d.renderSlide,f=d.offset;t.updateActiveIndex();var m,g,b,w=t.activeIndex||0;m=t.rtlTranslate?"right":t.isHorizontal()?"left":"top",r?(g=Math.floor(s/2)+a+o,b=Math.floor(s/2)+a+l):(g=s+(a-1)+o,b=a+l);var y=Math.max((w||0)-b,0),E=Math.min((w||0)+g,u.length-1),x=(t.slidesGrid[y]||0)-(t.slidesGrid[0]||0);function T(){t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.lazy&&t.params.lazy.enabled&&t.lazy.load()}if(M(t.virtual,{from:y,to:E,offset:x,slidesGrid:t.slidesGrid}),h===y&&p===E&&!e)return t.slidesGrid!==c&&x!==f&&t.slides.css(m,x+"px"),void t.updateProgress();if(t.params.virtual.renderExternal)return t.params.virtual.renderExternal.call(t,{offset:x,from:y,to:E,slides:function(){for(var e=[],t=y;t<=E;t+=1)e.push(u[t]);return e}()}),void(t.params.virtual.renderExternalUpdate&&T());var C=[],S=[];if(e)t.$wrapperEl.find("."+t.params.slideClass).remove();else for(var z=h;z<=p;z+=1)(z<y||z>E)&&t.$wrapperEl.find("."+t.params.slideClass+'[data-swiper-slide-index="'+z+'"]').remove();for(var P=0;P<u.length;P+=1)P>=y&&P<=E&&(void 0===p||e?S.push(P):(P>p&&S.push(P),P<h&&C.push(P)));S.forEach((function(e){t.$wrapperEl.append(v(u[e],e))})),C.sort((function(e,t){return t-e})).forEach((function(e){t.$wrapperEl.prepend(v(u[e],e))})),t.$wrapperEl.children(".swiper-slide").css(m,x+"px"),T()},renderSlide:function(e,t){var i=this.params.virtual;if(i.cache&&this.virtual.cache[t])return this.virtual.cache[t];var s=i.renderSlide?m(i.renderSlide.call(this,e,t)):m('<div class="'+this.params.slideClass+'" data-swiper-slide-index="'+t+'">'+e+"</div>");return s.attr("data-swiper-slide-index")||s.attr("data-swiper-slide-index",t),i.cache&&(this.virtual.cache[t]=s),s},appendSlide:function(e){if("object"==typeof e&&"length"in e)for(var t=0;t<e.length;t+=1)e[t]&&this.virtual.slides.push(e[t]);else this.virtual.slides.push(e);this.virtual.update(!0)},prependSlide:function(e){var t=this.activeIndex,i=t+1,s=1;if(Array.isArray(e)){for(var a=0;a<e.length;a+=1)e[a]&&this.virtual.slides.unshift(e[a]);i=t+e.length,s=e.length}else this.virtual.slides.unshift(e);if(this.params.virtual.cache){var r=this.virtual.cache,n={};Object.keys(r).forEach((function(e){var t=r[e],i=t.attr("data-swiper-slide-index");i&&t.attr("data-swiper-slide-index",parseInt(i,10)+1),n[parseInt(e,10)+s]=t})),this.virtual.cache=n}this.virtual.update(!0),this.slideTo(i,0)},removeSlide:function(e){if(null!=e){var t=this.activeIndex;if(Array.isArray(e))for(var i=e.length-1;i>=0;i-=1)this.virtual.slides.splice(e[i],1),this.params.virtual.cache&&delete this.virtual.cache[e[i]],e[i]<t&&(t-=1),t=Math.max(t,0);else this.virtual.slides.splice(e,1),this.params.virtual.cache&&delete this.virtual.cache[e],e<t&&(t-=1),t=Math.max(t,0);this.virtual.update(!0),this.slideTo(t,0)}},removeAllSlides:function(){this.virtual.slides=[],this.params.virtual.cache&&(this.virtual.cache={}),this.virtual.update(!0),this.slideTo(0,0)}},U={name:"virtual",params:{virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,renderExternalUpdate:!0,addSlidesBefore:0,addSlidesAfter:0}},create:function(){z(this,{virtual:t({},j,{slides:this.params.virtual.slides,cache:{}})})},on:{beforeInit:function(e){if(e.params.virtual.enabled){e.classNames.push(e.params.containerModifierClass+"virtual");var t={watchSlidesProgress:!0};M(e.params,t),M(e.originalParams,t),e.params.initialSlide||e.virtual.update()}},setTranslate:function(e){e.params.virtual.enabled&&e.virtual.update()}}},K={handle:function(e){if(this.enabled){var t=l(),i=r(),s=this.rtlTranslate,a=e;a.originalEvent&&(a=a.originalEvent);var n=a.keyCode||a.charCode,o=this.params.keyboard.pageUpDown,d=o&&33===n,h=o&&34===n,p=37===n,u=39===n,c=38===n,v=40===n;if(!this.allowSlideNext&&(this.isHorizontal()&&u||this.isVertical()&&v||h))return!1;if(!this.allowSlidePrev&&(this.isHorizontal()&&p||this.isVertical()&&c||d))return!1;if(!(a.shiftKey||a.altKey||a.ctrlKey||a.metaKey||i.activeElement&&i.activeElement.nodeName&&("input"===i.activeElement.nodeName.toLowerCase()||"textarea"===i.activeElement.nodeName.toLowerCase()))){if(this.params.keyboard.onlyInViewport&&(d||h||p||u||c||v)){var f=!1;if(this.$el.parents("."+this.params.slideClass).length>0&&0===this.$el.parents("."+this.params.slideActiveClass).length)return;var m=this.$el,g=m[0].clientWidth,b=m[0].clientHeight,w=t.innerWidth,y=t.innerHeight,E=this.$el.offset();s&&(E.left-=this.$el[0].scrollLeft);for(var x=[[E.left,E.top],[E.left+g,E.top],[E.left,E.top+b],[E.left+g,E.top+b]],T=0;T<x.length;T+=1){var C=x[T];if(C[0]>=0&&C[0]<=w&&C[1]>=0&&C[1]<=y){if(0===C[0]&&0===C[1])continue;f=!0}}if(!f)return}this.isHorizontal()?((d||h||p||u)&&(a.preventDefault?a.preventDefault():a.returnValue=!1),((h||u)&&!s||(d||p)&&s)&&this.slideNext(),((d||p)&&!s||(h||u)&&s)&&this.slidePrev()):((d||h||c||v)&&(a.preventDefault?a.preventDefault():a.returnValue=!1),(h||v)&&this.slideNext(),(d||c)&&this.slidePrev()),this.emit("keyPress",n)}}},enable:function(){var e=r();this.keyboard.enabled||(m(e).on("keydown",this.keyboard.handle),this.keyboard.enabled=!0)},disable:function(){var e=r();this.keyboard.enabled&&(m(e).off("keydown",this.keyboard.handle),this.keyboard.enabled=!1)}},Z={name:"keyboard",params:{keyboard:{enabled:!1,onlyInViewport:!0,pageUpDown:!0}},create:function(){z(this,{keyboard:t({enabled:!1},K)})},on:{init:function(e){e.params.keyboard.enabled&&e.keyboard.enable()},destroy:function(e){e.keyboard.enabled&&e.keyboard.disable()}}};var J={lastScrollTime:x(),lastEventBeforeSnap:void 0,recentWheelEvents:[],event:function(){return l().navigator.userAgent.indexOf("firefox")>-1?"DOMMouseScroll":function(){var e=r(),t="onwheel"in e;if(!t){var i=e.createElement("div");i.setAttribute("onwheel","return;"),t="function"==typeof i.onwheel}return!t&&e.implementation&&e.implementation.hasFeature&&!0!==e.implementation.hasFeature("","")&&(t=e.implementation.hasFeature("Events.wheel","3.0")),t}()?"wheel":"mousewheel"},normalize:function(e){var t=0,i=0,s=0,a=0;return"detail"in e&&(i=e.detail),"wheelDelta"in e&&(i=-e.wheelDelta/120),"wheelDeltaY"in e&&(i=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=i,i=0),s=10*t,a=10*i,"deltaY"in e&&(a=e.deltaY),"deltaX"in e&&(s=e.deltaX),e.shiftKey&&!s&&(s=a,a=0),(s||a)&&e.deltaMode&&(1===e.deltaMode?(s*=40,a*=40):(s*=800,a*=800)),s&&!t&&(t=s<1?-1:1),a&&!i&&(i=a<1?-1:1),{spinX:t,spinY:i,pixelX:s,pixelY:a}},handleMouseEnter:function(){this.enabled&&(this.mouseEntered=!0)},handleMouseLeave:function(){this.enabled&&(this.mouseEntered=!1)},handle:function(e){var t=e,i=this;if(i.enabled){var s=i.params.mousewheel;i.params.cssMode&&t.preventDefault();var a=i.$el;if("container"!==i.params.mousewheel.eventsTarget&&(a=m(i.params.mousewheel.eventsTarget)),!i.mouseEntered&&!a[0].contains(t.target)&&!s.releaseOnEdges)return!0;t.originalEvent&&(t=t.originalEvent);var r=0,n=i.rtlTranslate?-1:1,l=J.normalize(t);if(s.forceToAxis)if(i.isHorizontal()){if(!(Math.abs(l.pixelX)>Math.abs(l.pixelY)))return!0;r=-l.pixelX*n}else{if(!(Math.abs(l.pixelY)>Math.abs(l.pixelX)))return!0;r=-l.pixelY}else r=Math.abs(l.pixelX)>Math.abs(l.pixelY)?-l.pixelX*n:-l.pixelY;if(0===r)return!0;s.invert&&(r=-r);var o=i.getTranslate()+r*s.sensitivity;if(o>=i.minTranslate()&&(o=i.minTranslate()),o<=i.maxTranslate()&&(o=i.maxTranslate()),(!!i.params.loop||!(o===i.minTranslate()||o===i.maxTranslate()))&&i.params.nested&&t.stopPropagation(),i.params.freeMode){var d={time:x(),delta:Math.abs(r),direction:Math.sign(r)},h=i.mousewheel.lastEventBeforeSnap,p=h&&d.time<h.time+500&&d.delta<=h.delta&&d.direction===h.direction;if(!p){i.mousewheel.lastEventBeforeSnap=void 0,i.params.loop&&i.loopFix();var u=i.getTranslate()+r*s.sensitivity,c=i.isBeginning,v=i.isEnd;if(u>=i.minTranslate()&&(u=i.minTranslate()),u<=i.maxTranslate()&&(u=i.maxTranslate()),i.setTransition(0),i.setTranslate(u),i.updateProgress(),i.updateActiveIndex(),i.updateSlidesClasses(),(!c&&i.isBeginning||!v&&i.isEnd)&&i.updateSlidesClasses(),i.params.freeModeSticky){clearTimeout(i.mousewheel.timeout),i.mousewheel.timeout=void 0;var f=i.mousewheel.recentWheelEvents;f.length>=15&&f.shift();var g=f.length?f[f.length-1]:void 0,b=f[0];if(f.push(d),g&&(d.delta>g.delta||d.direction!==g.direction))f.splice(0);else if(f.length>=15&&d.time-b.time<500&&b.delta-d.delta>=1&&d.delta<=6){var w=r>0?.8:.2;i.mousewheel.lastEventBeforeSnap=d,f.splice(0),i.mousewheel.timeout=E((function(){i.slideToClosest(i.params.speed,!0,void 0,w)}),0)}i.mousewheel.timeout||(i.mousewheel.timeout=E((function(){i.mousewheel.lastEventBeforeSnap=d,f.splice(0),i.slideToClosest(i.params.speed,!0,void 0,.5)}),500))}if(p||i.emit("scroll",t),i.params.autoplay&&i.params.autoplayDisableOnInteraction&&i.autoplay.stop(),u===i.minTranslate()||u===i.maxTranslate())return!0}}else{var y={time:x(),delta:Math.abs(r),direction:Math.sign(r),raw:e},T=i.mousewheel.recentWheelEvents;T.length>=2&&T.shift();var C=T.length?T[T.length-1]:void 0;if(T.push(y),C?(y.direction!==C.direction||y.delta>C.delta||y.time>C.time+150)&&i.mousewheel.animateSlider(y):i.mousewheel.animateSlider(y),i.mousewheel.releaseScroll(y))return!0}return t.preventDefault?t.preventDefault():t.returnValue=!1,!1}},animateSlider:function(e){var t=l();return!(this.params.mousewheel.thresholdDelta&&e.delta<this.params.mousewheel.thresholdDelta)&&(!(this.params.mousewheel.thresholdTime&&x()-this.mousewheel.lastScrollTime<this.params.mousewheel.thresholdTime)&&(e.delta>=6&&x()-this.mousewheel.lastScrollTime<60||(e.direction<0?this.isEnd&&!this.params.loop||this.animating||(this.slideNext(),this.emit("scroll",e.raw)):this.isBeginning&&!this.params.loop||this.animating||(this.slidePrev(),this.emit("scroll",e.raw)),this.mousewheel.lastScrollTime=(new t.Date).getTime(),!1)))},releaseScroll:function(e){var t=this.params.mousewheel;if(e.direction<0){if(this.isEnd&&!this.params.loop&&t.releaseOnEdges)return!0}else if(this.isBeginning&&!this.params.loop&&t.releaseOnEdges)return!0;return!1},enable:function(){var e=J.event();if(this.params.cssMode)return this.wrapperEl.removeEventListener(e,this.mousewheel.handle),!0;if(!e)return!1;if(this.mousewheel.enabled)return!1;var t=this.$el;return"container"!==this.params.mousewheel.eventsTarget&&(t=m(this.params.mousewheel.eventsTarget)),t.on("mouseenter",this.mousewheel.handleMouseEnter),t.on("mouseleave",this.mousewheel.handleMouseLeave),t.on(e,this.mousewheel.handle),this.mousewheel.enabled=!0,!0},disable:function(){var e=J.event();if(this.params.cssMode)return this.wrapperEl.addEventListener(e,this.mousewheel.handle),!0;if(!e)return!1;if(!this.mousewheel.enabled)return!1;var t=this.$el;return"container"!==this.params.mousewheel.eventsTarget&&(t=m(this.params.mousewheel.eventsTarget)),t.off(e,this.mousewheel.handle),this.mousewheel.enabled=!1,!0}},Q={toggleEl:function(e,t){e[t?"addClass":"removeClass"](this.params.navigation.disabledClass),e[0]&&"BUTTON"===e[0].tagName&&(e[0].disabled=t)},update:function(){var e=this.params.navigation,t=this.navigation.toggleEl;if(!this.params.loop){var i=this.navigation,s=i.$nextEl,a=i.$prevEl;a&&a.length>0&&(this.isBeginning?t(a,!0):t(a,!1),this.params.watchOverflow&&this.enabled&&a[this.isLocked?"addClass":"removeClass"](e.lockClass)),s&&s.length>0&&(this.isEnd?t(s,!0):t(s,!1),this.params.watchOverflow&&this.enabled&&s[this.isLocked?"addClass":"removeClass"](e.lockClass))}},onPrevClick:function(e){e.preventDefault(),this.isBeginning&&!this.params.loop||this.slidePrev()},onNextClick:function(e){e.preventDefault(),this.isEnd&&!this.params.loop||this.slideNext()},init:function(){var e,t,i=this.params.navigation;(this.params.navigation=k(this.$el,this.params.navigation,this.params.createElements,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),i.nextEl||i.prevEl)&&(i.nextEl&&(e=m(i.nextEl),this.params.uniqueNavElements&&"string"==typeof i.nextEl&&e.length>1&&1===this.$el.find(i.nextEl).length&&(e=this.$el.find(i.nextEl))),i.prevEl&&(t=m(i.prevEl),this.params.uniqueNavElements&&"string"==typeof i.prevEl&&t.length>1&&1===this.$el.find(i.prevEl).length&&(t=this.$el.find(i.prevEl))),e&&e.length>0&&e.on("click",this.navigation.onNextClick),t&&t.length>0&&t.on("click",this.navigation.onPrevClick),M(this.navigation,{$nextEl:e,nextEl:e&&e[0],$prevEl:t,prevEl:t&&t[0]}),this.enabled||(e&&e.addClass(i.lockClass),t&&t.addClass(i.lockClass)))},destroy:function(){var e=this.navigation,t=e.$nextEl,i=e.$prevEl;t&&t.length&&(t.off("click",this.navigation.onNextClick),t.removeClass(this.params.navigation.disabledClass)),i&&i.length&&(i.off("click",this.navigation.onPrevClick),i.removeClass(this.params.navigation.disabledClass))}},ee={update:function(){var e=this.rtl,t=this.params.pagination;if(t.el&&this.pagination.el&&this.pagination.$el&&0!==this.pagination.$el.length){var i,s=this.virtual&&this.params.virtual.enabled?this.virtual.slides.length:this.slides.length,a=this.pagination.$el,r=this.params.loop?Math.ceil((s-2*this.loopedSlides)/this.params.slidesPerGroup):this.snapGrid.length;if(this.params.loop?((i=Math.ceil((this.activeIndex-this.loopedSlides)/this.params.slidesPerGroup))>s-1-2*this.loopedSlides&&(i-=s-2*this.loopedSlides),i>r-1&&(i-=r),i<0&&"bullets"!==this.params.paginationType&&(i=r+i)):i=void 0!==this.snapIndex?this.snapIndex:this.activeIndex||0,"bullets"===t.type&&this.pagination.bullets&&this.pagination.bullets.length>0){var n,l,o,d=this.pagination.bullets;if(t.dynamicBullets&&(this.pagination.bulletSize=d.eq(0)[this.isHorizontal()?"outerWidth":"outerHeight"](!0),a.css(this.isHorizontal()?"width":"height",this.pagination.bulletSize*(t.dynamicMainBullets+4)+"px"),t.dynamicMainBullets>1&&void 0!==this.previousIndex&&(this.pagination.dynamicBulletIndex+=i-this.previousIndex,this.pagination.dynamicBulletIndex>t.dynamicMainBullets-1?this.pagination.dynamicBulletIndex=t.dynamicMainBullets-1:this.pagination.dynamicBulletIndex<0&&(this.pagination.dynamicBulletIndex=0)),n=i-this.pagination.dynamicBulletIndex,o=((l=n+(Math.min(d.length,t.dynamicMainBullets)-1))+n)/2),d.removeClass(t.bulletActiveClass+" "+t.bulletActiveClass+"-next "+t.bulletActiveClass+"-next-next "+t.bulletActiveClass+"-prev "+t.bulletActiveClass+"-prev-prev "+t.bulletActiveClass+"-main"),a.length>1)d.each((function(e){var s=m(e),a=s.index();a===i&&s.addClass(t.bulletActiveClass),t.dynamicBullets&&(a>=n&&a<=l&&s.addClass(t.bulletActiveClass+"-main"),a===n&&s.prev().addClass(t.bulletActiveClass+"-prev").prev().addClass(t.bulletActiveClass+"-prev-prev"),a===l&&s.next().addClass(t.bulletActiveClass+"-next").next().addClass(t.bulletActiveClass+"-next-next"))}));else{var h=d.eq(i),p=h.index();if(h.addClass(t.bulletActiveClass),t.dynamicBullets){for(var u=d.eq(n),c=d.eq(l),v=n;v<=l;v+=1)d.eq(v).addClass(t.bulletActiveClass+"-main");if(this.params.loop)if(p>=d.length-t.dynamicMainBullets){for(var f=t.dynamicMainBullets;f>=0;f-=1)d.eq(d.length-f).addClass(t.bulletActiveClass+"-main");d.eq(d.length-t.dynamicMainBullets-1).addClass(t.bulletActiveClass+"-prev")}else u.prev().addClass(t.bulletActiveClass+"-prev").prev().addClass(t.bulletActiveClass+"-prev-prev"),c.next().addClass(t.bulletActiveClass+"-next").next().addClass(t.bulletActiveClass+"-next-next");else u.prev().addClass(t.bulletActiveClass+"-prev").prev().addClass(t.bulletActiveClass+"-prev-prev"),c.next().addClass(t.bulletActiveClass+"-next").next().addClass(t.bulletActiveClass+"-next-next")}}if(t.dynamicBullets){var g=Math.min(d.length,t.dynamicMainBullets+4),b=(this.pagination.bulletSize*g-this.pagination.bulletSize)/2-o*this.pagination.bulletSize,w=e?"right":"left";d.css(this.isHorizontal()?w:"top",b+"px")}}if("fraction"===t.type&&(a.find(P(t.currentClass)).text(t.formatFractionCurrent(i+1)),a.find(P(t.totalClass)).text(t.formatFractionTotal(r))),"progressbar"===t.type){var y;y=t.progressbarOpposite?this.isHorizontal()?"vertical":"horizontal":this.isHorizontal()?"horizontal":"vertical";var E=(i+1)/r,x=1,T=1;"horizontal"===y?x=E:T=E,a.find(P(t.progressbarFillClass)).transform("translate3d(0,0,0) scaleX("+x+") scaleY("+T+")").transition(this.params.speed)}"custom"===t.type&&t.renderCustom?(a.html(t.renderCustom(this,i+1,r)),this.emit("paginationRender",a[0])):this.emit("paginationUpdate",a[0]),this.params.watchOverflow&&this.enabled&&a[this.isLocked?"addClass":"removeClass"](t.lockClass)}},render:function(){var e=this.params.pagination;if(e.el&&this.pagination.el&&this.pagination.$el&&0!==this.pagination.$el.length){var t=this.virtual&&this.params.virtual.enabled?this.virtual.slides.length:this.slides.length,i=this.pagination.$el,s="";if("bullets"===e.type){var a=this.params.loop?Math.ceil((t-2*this.loopedSlides)/this.params.slidesPerGroup):this.snapGrid.length;this.params.freeMode&&!this.params.loop&&a>t&&(a=t);for(var r=0;r<a;r+=1)e.renderBullet?s+=e.renderBullet.call(this,r,e.bulletClass):s+="<"+e.bulletElement+' class="'+e.bulletClass+'"></'+e.bulletElement+">";i.html(s),this.pagination.bullets=i.find(P(e.bulletClass))}"fraction"===e.type&&(s=e.renderFraction?e.renderFraction.call(this,e.currentClass,e.totalClass):'<span class="'+e.currentClass+'"></span> / <span class="'+e.totalClass+'"></span>',i.html(s)),"progressbar"===e.type&&(s=e.renderProgressbar?e.renderProgressbar.call(this,e.progressbarFillClass):'<span class="'+e.progressbarFillClass+'"></span>',i.html(s)),"custom"!==e.type&&this.emit("paginationRender",this.pagination.$el[0])}},init:function(){var e=this;e.params.pagination=k(e.$el,e.params.pagination,e.params.createElements,{el:"swiper-pagination"});var t=e.params.pagination;if(t.el){var i=m(t.el);0!==i.length&&(e.params.uniqueNavElements&&"string"==typeof t.el&&i.length>1&&(i=e.$el.find(t.el)),"bullets"===t.type&&t.clickable&&i.addClass(t.clickableClass),i.addClass(t.modifierClass+t.type),"bullets"===t.type&&t.dynamicBullets&&(i.addClass(""+t.modifierClass+t.type+"-dynamic"),e.pagination.dynamicBulletIndex=0,t.dynamicMainBullets<1&&(t.dynamicMainBullets=1)),"progressbar"===t.type&&t.progressbarOpposite&&i.addClass(t.progressbarOppositeClass),t.clickable&&i.on("click",P(t.bulletClass),(function(t){t.preventDefault();var i=m(this).index()*e.params.slidesPerGroup;e.params.loop&&(i+=e.loopedSlides),e.slideTo(i)})),M(e.pagination,{$el:i,el:i[0]}),e.enabled||i.addClass(t.lockClass))}},destroy:function(){var e=this.params.pagination;if(e.el&&this.pagination.el&&this.pagination.$el&&0!==this.pagination.$el.length){var t=this.pagination.$el;t.removeClass(e.hiddenClass),t.removeClass(e.modifierClass+e.type),this.pagination.bullets&&this.pagination.bullets.removeClass(e.bulletActiveClass),e.clickable&&t.off("click",P(e.bulletClass))}}},te={setTranslate:function(){if(this.params.scrollbar.el&&this.scrollbar.el){var e=this.scrollbar,t=this.rtlTranslate,i=this.progress,s=e.dragSize,a=e.trackSize,r=e.$dragEl,n=e.$el,l=this.params.scrollbar,o=s,d=(a-s)*i;t?(d=-d)>0?(o=s-d,d=0):-d+s>a&&(o=a+d):d<0?(o=s+d,d=0):d+s>a&&(o=a-d),this.isHorizontal()?(r.transform("translate3d("+d+"px, 0, 0)"),r[0].style.width=o+"px"):(r.transform("translate3d(0px, "+d+"px, 0)"),r[0].style.height=o+"px"),l.hide&&(clearTimeout(this.scrollbar.timeout),n[0].style.opacity=1,this.scrollbar.timeout=setTimeout((function(){n[0].style.opacity=0,n.transition(400)}),1e3))}},setTransition:function(e){this.params.scrollbar.el&&this.scrollbar.el&&this.scrollbar.$dragEl.transition(e)},updateSize:function(){if(this.params.scrollbar.el&&this.scrollbar.el){var e=this.scrollbar,t=e.$dragEl,i=e.$el;t[0].style.width="",t[0].style.height="";var s,a=this.isHorizontal()?i[0].offsetWidth:i[0].offsetHeight,r=this.size/this.virtualSize,n=r*(a/this.size);s="auto"===this.params.scrollbar.dragSize?a*r:parseInt(this.params.scrollbar.dragSize,10),this.isHorizontal()?t[0].style.width=s+"px":t[0].style.height=s+"px",i[0].style.display=r>=1?"none":"",this.params.scrollbar.hide&&(i[0].style.opacity=0),M(e,{trackSize:a,divider:r,moveDivider:n,dragSize:s}),this.params.watchOverflow&&this.enabled&&e.$el[this.isLocked?"addClass":"removeClass"](this.params.scrollbar.lockClass)}},getPointerPosition:function(e){return this.isHorizontal()?"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].clientX:e.clientX:"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].clientY:e.clientY},setDragPosition:function(e){var t,i=this.scrollbar,s=this.rtlTranslate,a=i.$el,r=i.dragSize,n=i.trackSize,l=i.dragStartPos;t=(i.getPointerPosition(e)-a.offset()[this.isHorizontal()?"left":"top"]-(null!==l?l:r/2))/(n-r),t=Math.max(Math.min(t,1),0),s&&(t=1-t);var o=this.minTranslate()+(this.maxTranslate()-this.minTranslate())*t;this.updateProgress(o),this.setTranslate(o),this.updateActiveIndex(),this.updateSlidesClasses()},onDragStart:function(e){var t=this.params.scrollbar,i=this.scrollbar,s=this.$wrapperEl,a=i.$el,r=i.$dragEl;this.scrollbar.isTouched=!0,this.scrollbar.dragStartPos=e.target===r[0]||e.target===r?i.getPointerPosition(e)-e.target.getBoundingClientRect()[this.isHorizontal()?"left":"top"]:null,e.preventDefault(),e.stopPropagation(),s.transition(100),r.transition(100),i.setDragPosition(e),clearTimeout(this.scrollbar.dragTimeout),a.transition(0),t.hide&&a.css("opacity",1),this.params.cssMode&&this.$wrapperEl.css("scroll-snap-type","none"),this.emit("scrollbarDragStart",e)},onDragMove:function(e){var t=this.scrollbar,i=this.$wrapperEl,s=t.$el,a=t.$dragEl;this.scrollbar.isTouched&&(e.preventDefault?e.preventDefault():e.returnValue=!1,t.setDragPosition(e),i.transition(0),s.transition(0),a.transition(0),this.emit("scrollbarDragMove",e))},onDragEnd:function(e){var t=this.params.scrollbar,i=this.scrollbar,s=this.$wrapperEl,a=i.$el;this.scrollbar.isTouched&&(this.scrollbar.isTouched=!1,this.params.cssMode&&(this.$wrapperEl.css("scroll-snap-type",""),s.transition("")),t.hide&&(clearTimeout(this.scrollbar.dragTimeout),this.scrollbar.dragTimeout=E((function(){a.css("opacity",0),a.transition(400)}),1e3)),this.emit("scrollbarDragEnd",e),t.snapOnRelease&&this.slideToClosest())},enableDraggable:function(){if(this.params.scrollbar.el){var e=r(),t=this.scrollbar,i=this.touchEventsTouch,s=this.touchEventsDesktop,a=this.params,n=this.support,l=t.$el[0],o=!(!n.passiveListener||!a.passiveListeners)&&{passive:!1,capture:!1},d=!(!n.passiveListener||!a.passiveListeners)&&{passive:!0,capture:!1};l&&(n.touch?(l.addEventListener(i.start,this.scrollbar.onDragStart,o),l.addEventListener(i.move,this.scrollbar.onDragMove,o),l.addEventListener(i.end,this.scrollbar.onDragEnd,d)):(l.addEventListener(s.start,this.scrollbar.onDragStart,o),e.addEventListener(s.move,this.scrollbar.onDragMove,o),e.addEventListener(s.end,this.scrollbar.onDragEnd,d)))}},disableDraggable:function(){if(this.params.scrollbar.el){var e=r(),t=this.scrollbar,i=this.touchEventsTouch,s=this.touchEventsDesktop,a=this.params,n=this.support,l=t.$el[0],o=!(!n.passiveListener||!a.passiveListeners)&&{passive:!1,capture:!1},d=!(!n.passiveListener||!a.passiveListeners)&&{passive:!0,capture:!1};l&&(n.touch?(l.removeEventListener(i.start,this.scrollbar.onDragStart,o),l.removeEventListener(i.move,this.scrollbar.onDragMove,o),l.removeEventListener(i.end,this.scrollbar.onDragEnd,d)):(l.removeEventListener(s.start,this.scrollbar.onDragStart,o),e.removeEventListener(s.move,this.scrollbar.onDragMove,o),e.removeEventListener(s.end,this.scrollbar.onDragEnd,d)))}},init:function(){var e=this.scrollbar,t=this.$el;this.params.scrollbar=k(t,this.params.scrollbar,this.params.createElements,{el:"swiper-scrollbar"});var i=this.params.scrollbar;if(i.el){var s=m(i.el);this.params.uniqueNavElements&&"string"==typeof i.el&&s.length>1&&1===t.find(i.el).length&&(s=t.find(i.el));var a=s.find("."+this.params.scrollbar.dragClass);0===a.length&&(a=m('<div class="'+this.params.scrollbar.dragClass+'"></div>'),s.append(a)),M(e,{$el:s,el:s[0],$dragEl:a,dragEl:a[0]}),i.draggable&&e.enableDraggable(),s&&s[this.enabled?"removeClass":"addClass"](this.params.scrollbar.lockClass)}},destroy:function(){this.scrollbar.disableDraggable()}},ie={setTransform:function(e,t){var i=this.rtl,s=m(e),a=i?-1:1,r=s.attr("data-swiper-parallax")||"0",n=s.attr("data-swiper-parallax-x"),l=s.attr("data-swiper-parallax-y"),o=s.attr("data-swiper-parallax-scale"),d=s.attr("data-swiper-parallax-opacity");if(n||l?(n=n||"0",l=l||"0"):this.isHorizontal()?(n=r,l="0"):(l=r,n="0"),n=n.indexOf("%")>=0?parseInt(n,10)*t*a+"%":n*t*a+"px",l=l.indexOf("%")>=0?parseInt(l,10)*t+"%":l*t+"px",null!=d){var h=d-(d-1)*(1-Math.abs(t));s[0].style.opacity=h}if(null==o)s.transform("translate3d("+n+", "+l+", 0px)");else{var p=o-(o-1)*(1-Math.abs(t));s.transform("translate3d("+n+", "+l+", 0px) scale("+p+")")}},setTranslate:function(){var e=this,t=e.$el,i=e.slides,s=e.progress,a=e.snapGrid;t.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each((function(t){e.parallax.setTransform(t,s)})),i.each((function(t,i){var r=t.progress;e.params.slidesPerGroup>1&&"auto"!==e.params.slidesPerView&&(r+=Math.ceil(i/2)-s*(a.length-1)),r=Math.min(Math.max(r,-1),1),m(t).find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each((function(t){e.parallax.setTransform(t,r)}))}))},setTransition:function(e){void 0===e&&(e=this.params.speed);this.$el.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each((function(t){var i=m(t),s=parseInt(i.attr("data-swiper-parallax-duration"),10)||e;0===e&&(s=0),i.transition(s)}))}},se={getDistanceBetweenTouches:function(e){if(e.targetTouches.length<2)return 1;var t=e.targetTouches[0].pageX,i=e.targetTouches[0].pageY,s=e.targetTouches[1].pageX,a=e.targetTouches[1].pageY;return Math.sqrt(Math.pow(s-t,2)+Math.pow(a-i,2))},onGestureStart:function(e){var t=this.support,i=this.params.zoom,s=this.zoom,a=s.gesture;if(s.fakeGestureTouched=!1,s.fakeGestureMoved=!1,!t.gestures){if("touchstart"!==e.type||"touchstart"===e.type&&e.targetTouches.length<2)return;s.fakeGestureTouched=!0,a.scaleStart=se.getDistanceBetweenTouches(e)}a.$slideEl&&a.$slideEl.length||(a.$slideEl=m(e.target).closest("."+this.params.slideClass),0===a.$slideEl.length&&(a.$slideEl=this.slides.eq(this.activeIndex)),a.$imageEl=a.$slideEl.find("img, svg, canvas, picture, .swiper-zoom-target"),a.$imageWrapEl=a.$imageEl.parent("."+i.containerClass),a.maxRatio=a.$imageWrapEl.attr("data-swiper-zoom")||i.maxRatio,0!==a.$imageWrapEl.length)?(a.$imageEl&&a.$imageEl.transition(0),this.zoom.isScaling=!0):a.$imageEl=void 0},onGestureChange:function(e){var t=this.support,i=this.params.zoom,s=this.zoom,a=s.gesture;if(!t.gestures){if("touchmove"!==e.type||"touchmove"===e.type&&e.targetTouches.length<2)return;s.fakeGestureMoved=!0,a.scaleMove=se.getDistanceBetweenTouches(e)}a.$imageEl&&0!==a.$imageEl.length?(t.gestures?s.scale=e.scale*s.currentScale:s.scale=a.scaleMove/a.scaleStart*s.currentScale,s.scale>a.maxRatio&&(s.scale=a.maxRatio-1+Math.pow(s.scale-a.maxRatio+1,.5)),s.scale<i.minRatio&&(s.scale=i.minRatio+1-Math.pow(i.minRatio-s.scale+1,.5)),a.$imageEl.transform("translate3d(0,0,0) scale("+s.scale+")")):"gesturechange"===e.type&&s.onGestureStart(e)},onGestureEnd:function(e){var t=this.device,i=this.support,s=this.params.zoom,a=this.zoom,r=a.gesture;if(!i.gestures){if(!a.fakeGestureTouched||!a.fakeGestureMoved)return;if("touchend"!==e.type||"touchend"===e.type&&e.changedTouches.length<2&&!t.android)return;a.fakeGestureTouched=!1,a.fakeGestureMoved=!1}r.$imageEl&&0!==r.$imageEl.length&&(a.scale=Math.max(Math.min(a.scale,r.maxRatio),s.minRatio),r.$imageEl.transition(this.params.speed).transform("translate3d(0,0,0) scale("+a.scale+")"),a.currentScale=a.scale,a.isScaling=!1,1===a.scale&&(r.$slideEl=void 0))},onTouchStart:function(e){var t=this.device,i=this.zoom,s=i.gesture,a=i.image;s.$imageEl&&0!==s.$imageEl.length&&(a.isTouched||(t.android&&e.cancelable&&e.preventDefault(),a.isTouched=!0,a.touchesStart.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,a.touchesStart.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY))},onTouchMove:function(e){var t=this.zoom,i=t.gesture,s=t.image,a=t.velocity;if(i.$imageEl&&0!==i.$imageEl.length&&(this.allowClick=!1,s.isTouched&&i.$slideEl)){s.isMoved||(s.width=i.$imageEl[0].offsetWidth,s.height=i.$imageEl[0].offsetHeight,s.startX=T(i.$imageWrapEl[0],"x")||0,s.startY=T(i.$imageWrapEl[0],"y")||0,i.slideWidth=i.$slideEl[0].offsetWidth,i.slideHeight=i.$slideEl[0].offsetHeight,i.$imageWrapEl.transition(0));var r=s.width*t.scale,n=s.height*t.scale;if(!(r<i.slideWidth&&n<i.slideHeight)){if(s.minX=Math.min(i.slideWidth/2-r/2,0),s.maxX=-s.minX,s.minY=Math.min(i.slideHeight/2-n/2,0),s.maxY=-s.minY,s.touchesCurrent.x="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,s.touchesCurrent.y="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,!s.isMoved&&!t.isScaling){if(this.isHorizontal()&&(Math.floor(s.minX)===Math.floor(s.startX)&&s.touchesCurrent.x<s.touchesStart.x||Math.floor(s.maxX)===Math.floor(s.startX)&&s.touchesCurrent.x>s.touchesStart.x))return void(s.isTouched=!1);if(!this.isHorizontal()&&(Math.floor(s.minY)===Math.floor(s.startY)&&s.touchesCurrent.y<s.touchesStart.y||Math.floor(s.maxY)===Math.floor(s.startY)&&s.touchesCurrent.y>s.touchesStart.y))return void(s.isTouched=!1)}e.cancelable&&e.preventDefault(),e.stopPropagation(),s.isMoved=!0,s.currentX=s.touchesCurrent.x-s.touchesStart.x+s.startX,s.currentY=s.touchesCurrent.y-s.touchesStart.y+s.startY,s.currentX<s.minX&&(s.currentX=s.minX+1-Math.pow(s.minX-s.currentX+1,.8)),s.currentX>s.maxX&&(s.currentX=s.maxX-1+Math.pow(s.currentX-s.maxX+1,.8)),s.currentY<s.minY&&(s.currentY=s.minY+1-Math.pow(s.minY-s.currentY+1,.8)),s.currentY>s.maxY&&(s.currentY=s.maxY-1+Math.pow(s.currentY-s.maxY+1,.8)),a.prevPositionX||(a.prevPositionX=s.touchesCurrent.x),a.prevPositionY||(a.prevPositionY=s.touchesCurrent.y),a.prevTime||(a.prevTime=Date.now()),a.x=(s.touchesCurrent.x-a.prevPositionX)/(Date.now()-a.prevTime)/2,a.y=(s.touchesCurrent.y-a.prevPositionY)/(Date.now()-a.prevTime)/2,Math.abs(s.touchesCurrent.x-a.prevPositionX)<2&&(a.x=0),Math.abs(s.touchesCurrent.y-a.prevPositionY)<2&&(a.y=0),a.prevPositionX=s.touchesCurrent.x,a.prevPositionY=s.touchesCurrent.y,a.prevTime=Date.now(),i.$imageWrapEl.transform("translate3d("+s.currentX+"px, "+s.currentY+"px,0)")}}},onTouchEnd:function(){var e=this.zoom,t=e.gesture,i=e.image,s=e.velocity;if(t.$imageEl&&0!==t.$imageEl.length){if(!i.isTouched||!i.isMoved)return i.isTouched=!1,void(i.isMoved=!1);i.isTouched=!1,i.isMoved=!1;var a=300,r=300,n=s.x*a,l=i.currentX+n,o=s.y*r,d=i.currentY+o;0!==s.x&&(a=Math.abs((l-i.currentX)/s.x)),0!==s.y&&(r=Math.abs((d-i.currentY)/s.y));var h=Math.max(a,r);i.currentX=l,i.currentY=d;var p=i.width*e.scale,u=i.height*e.scale;i.minX=Math.min(t.slideWidth/2-p/2,0),i.maxX=-i.minX,i.minY=Math.min(t.slideHeight/2-u/2,0),i.maxY=-i.minY,i.currentX=Math.max(Math.min(i.currentX,i.maxX),i.minX),i.currentY=Math.max(Math.min(i.currentY,i.maxY),i.minY),t.$imageWrapEl.transition(h).transform("translate3d("+i.currentX+"px, "+i.currentY+"px,0)")}},onTransitionEnd:function(){var e=this.zoom,t=e.gesture;t.$slideEl&&this.previousIndex!==this.activeIndex&&(t.$imageEl&&t.$imageEl.transform("translate3d(0,0,0) scale(1)"),t.$imageWrapEl&&t.$imageWrapEl.transform("translate3d(0,0,0)"),e.scale=1,e.currentScale=1,t.$slideEl=void 0,t.$imageEl=void 0,t.$imageWrapEl=void 0)},toggle:function(e){var t=this.zoom;t.scale&&1!==t.scale?t.out():t.in(e)},in:function(e){var t,i,s,a,r,n,o,d,h,p,u,c,v,f,g,b,w=l(),y=this.zoom,E=this.params.zoom,x=y.gesture,T=y.image;(x.$slideEl||(e&&e.target&&(x.$slideEl=m(e.target).closest("."+this.params.slideClass)),x.$slideEl||(this.params.virtual&&this.params.virtual.enabled&&this.virtual?x.$slideEl=this.$wrapperEl.children("."+this.params.slideActiveClass):x.$slideEl=this.slides.eq(this.activeIndex)),x.$imageEl=x.$slideEl.find("img, svg, canvas, picture, .swiper-zoom-target"),x.$imageWrapEl=x.$imageEl.parent("."+E.containerClass)),x.$imageEl&&0!==x.$imageEl.length&&x.$imageWrapEl&&0!==x.$imageWrapEl.length)&&(x.$slideEl.addClass(""+E.zoomedSlideClass),void 0===T.touchesStart.x&&e?(t="touchend"===e.type?e.changedTouches[0].pageX:e.pageX,i="touchend"===e.type?e.changedTouches[0].pageY:e.pageY):(t=T.touchesStart.x,i=T.touchesStart.y),y.scale=x.$imageWrapEl.attr("data-swiper-zoom")||E.maxRatio,y.currentScale=x.$imageWrapEl.attr("data-swiper-zoom")||E.maxRatio,e?(g=x.$slideEl[0].offsetWidth,b=x.$slideEl[0].offsetHeight,s=x.$slideEl.offset().left+w.scrollX+g/2-t,a=x.$slideEl.offset().top+w.scrollY+b/2-i,o=x.$imageEl[0].offsetWidth,d=x.$imageEl[0].offsetHeight,h=o*y.scale,p=d*y.scale,v=-(u=Math.min(g/2-h/2,0)),f=-(c=Math.min(b/2-p/2,0)),(r=s*y.scale)<u&&(r=u),r>v&&(r=v),(n=a*y.scale)<c&&(n=c),n>f&&(n=f)):(r=0,n=0),x.$imageWrapEl.transition(300).transform("translate3d("+r+"px, "+n+"px,0)"),x.$imageEl.transition(300).transform("translate3d(0,0,0) scale("+y.scale+")"))},out:function(){var e=this.zoom,t=this.params.zoom,i=e.gesture;i.$slideEl||(this.params.virtual&&this.params.virtual.enabled&&this.virtual?i.$slideEl=this.$wrapperEl.children("."+this.params.slideActiveClass):i.$slideEl=this.slides.eq(this.activeIndex),i.$imageEl=i.$slideEl.find("img, svg, canvas, picture, .swiper-zoom-target"),i.$imageWrapEl=i.$imageEl.parent("."+t.containerClass)),i.$imageEl&&0!==i.$imageEl.length&&i.$imageWrapEl&&0!==i.$imageWrapEl.length&&(e.scale=1,e.currentScale=1,i.$imageWrapEl.transition(300).transform("translate3d(0,0,0)"),i.$imageEl.transition(300).transform("translate3d(0,0,0) scale(1)"),i.$slideEl.removeClass(""+t.zoomedSlideClass),i.$slideEl=void 0)},toggleGestures:function(e){var t=this.zoom,i=t.slideSelector,s=t.passiveListener;this.$wrapperEl[e]("gesturestart",i,t.onGestureStart,s),this.$wrapperEl[e]("gesturechange",i,t.onGestureChange,s),this.$wrapperEl[e]("gestureend",i,t.onGestureEnd,s)},enableGestures:function(){this.zoom.gesturesEnabled||(this.zoom.gesturesEnabled=!0,this.zoom.toggleGestures("on"))},disableGestures:function(){this.zoom.gesturesEnabled&&(this.zoom.gesturesEnabled=!1,this.zoom.toggleGestures("off"))},enable:function(){var e=this.support,t=this.zoom;if(!t.enabled){t.enabled=!0;var i=!("touchstart"!==this.touchEvents.start||!e.passiveListener||!this.params.passiveListeners)&&{passive:!0,capture:!1},s=!e.passiveListener||{passive:!1,capture:!0},a="."+this.params.slideClass;this.zoom.passiveListener=i,this.zoom.slideSelector=a,e.gestures?(this.$wrapperEl.on(this.touchEvents.start,this.zoom.enableGestures,i),this.$wrapperEl.on(this.touchEvents.end,this.zoom.disableGestures,i)):"touchstart"===this.touchEvents.start&&(this.$wrapperEl.on(this.touchEvents.start,a,t.onGestureStart,i),this.$wrapperEl.on(this.touchEvents.move,a,t.onGestureChange,s),this.$wrapperEl.on(this.touchEvents.end,a,t.onGestureEnd,i),this.touchEvents.cancel&&this.$wrapperEl.on(this.touchEvents.cancel,a,t.onGestureEnd,i)),this.$wrapperEl.on(this.touchEvents.move,"."+this.params.zoom.containerClass,t.onTouchMove,s)}},disable:function(){var e=this.zoom;if(e.enabled){var t=this.support;this.zoom.enabled=!1;var i=!("touchstart"!==this.touchEvents.start||!t.passiveListener||!this.params.passiveListeners)&&{passive:!0,capture:!1},s=!t.passiveListener||{passive:!1,capture:!0},a="."+this.params.slideClass;t.gestures?(this.$wrapperEl.off(this.touchEvents.start,this.zoom.enableGestures,i),this.$wrapperEl.off(this.touchEvents.end,this.zoom.disableGestures,i)):"touchstart"===this.touchEvents.start&&(this.$wrapperEl.off(this.touchEvents.start,a,e.onGestureStart,i),this.$wrapperEl.off(this.touchEvents.move,a,e.onGestureChange,s),this.$wrapperEl.off(this.touchEvents.end,a,e.onGestureEnd,i),this.touchEvents.cancel&&this.$wrapperEl.off(this.touchEvents.cancel,a,e.onGestureEnd,i)),this.$wrapperEl.off(this.touchEvents.move,"."+this.params.zoom.containerClass,e.onTouchMove,s)}}},ae={loadInSlide:function(e,t){void 0===t&&(t=!0);var i=this,s=i.params.lazy;if(void 0!==e&&0!==i.slides.length){var a=i.virtual&&i.params.virtual.enabled?i.$wrapperEl.children("."+i.params.slideClass+'[data-swiper-slide-index="'+e+'"]'):i.slides.eq(e),r=a.find("."+s.elementClass+":not(."+s.loadedClass+"):not(."+s.loadingClass+")");!a.hasClass(s.elementClass)||a.hasClass(s.loadedClass)||a.hasClass(s.loadingClass)||r.push(a[0]),0!==r.length&&r.each((function(e){var r=m(e);r.addClass(s.loadingClass);var n=r.attr("data-background"),l=r.attr("data-src"),o=r.attr("data-srcset"),d=r.attr("data-sizes"),h=r.parent("picture");i.loadImage(r[0],l||n,o,d,!1,(function(){if(null!=i&&i&&(!i||i.params)&&!i.destroyed){if(n?(r.css("background-image",'url("'+n+'")'),r.removeAttr("data-background")):(o&&(r.attr("srcset",o),r.removeAttr("data-srcset")),d&&(r.attr("sizes",d),r.removeAttr("data-sizes")),h.length&&h.children("source").each((function(e){var t=m(e);t.attr("data-srcset")&&(t.attr("srcset",t.attr("data-srcset")),t.removeAttr("data-srcset"))})),l&&(r.attr("src",l),r.removeAttr("data-src"))),r.addClass(s.loadedClass).removeClass(s.loadingClass),a.find("."+s.preloaderClass).remove(),i.params.loop&&t){var e=a.attr("data-swiper-slide-index");if(a.hasClass(i.params.slideDuplicateClass)){var p=i.$wrapperEl.children('[data-swiper-slide-index="'+e+'"]:not(.'+i.params.slideDuplicateClass+")");i.lazy.loadInSlide(p.index(),!1)}else{var u=i.$wrapperEl.children("."+i.params.slideDuplicateClass+'[data-swiper-slide-index="'+e+'"]');i.lazy.loadInSlide(u.index(),!1)}}i.emit("lazyImageReady",a[0],r[0]),i.params.autoHeight&&i.updateAutoHeight()}})),i.emit("lazyImageLoad",a[0],r[0])}))}},load:function(){var e=this,t=e.$wrapperEl,i=e.params,s=e.slides,a=e.activeIndex,r=e.virtual&&i.virtual.enabled,n=i.lazy,l=i.slidesPerView;function o(e){if(r){if(t.children("."+i.slideClass+'[data-swiper-slide-index="'+e+'"]').length)return!0}else if(s[e])return!0;return!1}function d(e){return r?m(e).attr("data-swiper-slide-index"):m(e).index()}if("auto"===l&&(l=0),e.lazy.initialImageLoaded||(e.lazy.initialImageLoaded=!0),e.params.watchSlidesVisibility)t.children("."+i.slideVisibleClass).each((function(t){var i=r?m(t).attr("data-swiper-slide-index"):m(t).index();e.lazy.loadInSlide(i)}));else if(l>1)for(var h=a;h<a+l;h+=1)o(h)&&e.lazy.loadInSlide(h);else e.lazy.loadInSlide(a);if(n.loadPrevNext)if(l>1||n.loadPrevNextAmount&&n.loadPrevNextAmount>1){for(var p=n.loadPrevNextAmount,u=l,c=Math.min(a+u+Math.max(p,u),s.length),v=Math.max(a-Math.max(u,p),0),f=a+l;f<c;f+=1)o(f)&&e.lazy.loadInSlide(f);for(var g=v;g<a;g+=1)o(g)&&e.lazy.loadInSlide(g)}else{var b=t.children("."+i.slideNextClass);b.length>0&&e.lazy.loadInSlide(d(b));var w=t.children("."+i.slidePrevClass);w.length>0&&e.lazy.loadInSlide(d(w))}},checkInViewOnLoad:function(){var e=l();if(this&&!this.destroyed){var t=this.params.lazy.scrollingElement?m(this.params.lazy.scrollingElement):m(e),i=t[0]===e,s=i?e.innerWidth:t[0].offsetWidth,a=i?e.innerHeight:t[0].offsetHeight,r=this.$el.offset(),n=!1;this.rtlTranslate&&(r.left-=this.$el[0].scrollLeft);for(var o=[[r.left,r.top],[r.left+this.width,r.top],[r.left,r.top+this.height],[r.left+this.width,r.top+this.height]],d=0;d<o.length;d+=1){var h=o[d];if(h[0]>=0&&h[0]<=s&&h[1]>=0&&h[1]<=a){if(0===h[0]&&0===h[1])continue;n=!0}}var p=!("touchstart"!==this.touchEvents.start||!this.support.passiveListener||!this.params.passiveListeners)&&{passive:!0,capture:!1};n?(this.lazy.load(),t.off("scroll",this.lazy.checkInViewOnLoad,p)):this.lazy.scrollHandlerAttached||(this.lazy.scrollHandlerAttached=!0,t.on("scroll",this.lazy.checkInViewOnLoad,p))}}},re={LinearSpline:function(e,t){var i,s,a,r,n,l=function(e,t){for(s=-1,i=e.length;i-s>1;)e[a=i+s>>1]<=t?s=a:i=a;return i};return this.x=e,this.y=t,this.lastIndex=e.length-1,this.interpolate=function(e){return e?(n=l(this.x,e),r=n-1,(e-this.x[r])*(this.y[n]-this.y[r])/(this.x[n]-this.x[r])+this.y[r]):0},this},getInterpolateFunction:function(e){this.controller.spline||(this.controller.spline=this.params.loop?new re.LinearSpline(this.slidesGrid,e.slidesGrid):new re.LinearSpline(this.snapGrid,e.snapGrid))},setTranslate:function(e,t){var i,s,a=this,r=a.controller.control,n=a.constructor;function l(e){var t=a.rtlTranslate?-a.translate:a.translate;"slide"===a.params.controller.by&&(a.controller.getInterpolateFunction(e),s=-a.controller.spline.interpolate(-t)),s&&"container"!==a.params.controller.by||(i=(e.maxTranslate()-e.minTranslate())/(a.maxTranslate()-a.minTranslate()),s=(t-a.minTranslate())*i+e.minTranslate()),a.params.controller.inverse&&(s=e.maxTranslate()-s),e.updateProgress(s),e.setTranslate(s,a),e.updateActiveIndex(),e.updateSlidesClasses()}if(Array.isArray(r))for(var o=0;o<r.length;o+=1)r[o]!==t&&r[o]instanceof n&&l(r[o]);else r instanceof n&&t!==r&&l(r)},setTransition:function(e,t){var i,s=this,a=s.constructor,r=s.controller.control;function n(t){t.setTransition(e,s),0!==e&&(t.transitionStart(),t.params.autoHeight&&E((function(){t.updateAutoHeight()})),t.$wrapperEl.transitionEnd((function(){r&&(t.params.loop&&"slide"===s.params.controller.by&&t.loopFix(),t.transitionEnd())})))}if(Array.isArray(r))for(i=0;i<r.length;i+=1)r[i]!==t&&r[i]instanceof a&&n(r[i]);else r instanceof a&&t!==r&&n(r)}},ne={getRandomNumber:function(e){void 0===e&&(e=16);return"x".repeat(e).replace(/x/g,(function(){return Math.round(16*Math.random()).toString(16)}))},makeElFocusable:function(e){return e.attr("tabIndex","0"),e},makeElNotFocusable:function(e){return e.attr("tabIndex","-1"),e},addElRole:function(e,t){return e.attr("role",t),e},addElRoleDescription:function(e,t){return e.attr("aria-roledescription",t),e},addElControls:function(e,t){return e.attr("aria-controls",t),e},addElLabel:function(e,t){return e.attr("aria-label",t),e},addElId:function(e,t){return e.attr("id",t),e},addElLive:function(e,t){return e.attr("aria-live",t),e},disableEl:function(e){return e.attr("aria-disabled",!0),e},enableEl:function(e){return e.attr("aria-disabled",!1),e},onEnterOrSpaceKey:function(e){if(13===e.keyCode||32===e.keyCode){var t=this.params.a11y,i=m(e.target);this.navigation&&this.navigation.$nextEl&&i.is(this.navigation.$nextEl)&&(this.isEnd&&!this.params.loop||this.slideNext(),this.isEnd?this.a11y.notify(t.lastSlideMessage):this.a11y.notify(t.nextSlideMessage)),this.navigation&&this.navigation.$prevEl&&i.is(this.navigation.$prevEl)&&(this.isBeginning&&!this.params.loop||this.slidePrev(),this.isBeginning?this.a11y.notify(t.firstSlideMessage):this.a11y.notify(t.prevSlideMessage)),this.pagination&&i.is(P(this.params.pagination.bulletClass))&&i[0].click()}},notify:function(e){var t=this.a11y.liveRegion;0!==t.length&&(t.html(""),t.html(e))},updateNavigation:function(){if(!this.params.loop&&this.navigation){var e=this.navigation,t=e.$nextEl,i=e.$prevEl;i&&i.length>0&&(this.isBeginning?(this.a11y.disableEl(i),this.a11y.makeElNotFocusable(i)):(this.a11y.enableEl(i),this.a11y.makeElFocusable(i))),t&&t.length>0&&(this.isEnd?(this.a11y.disableEl(t),this.a11y.makeElNotFocusable(t)):(this.a11y.enableEl(t),this.a11y.makeElFocusable(t)))}},updatePagination:function(){var e=this,t=e.params.a11y;e.pagination&&e.params.pagination.clickable&&e.pagination.bullets&&e.pagination.bullets.length&&e.pagination.bullets.each((function(i){var s=m(i);e.a11y.makeElFocusable(s),e.params.pagination.renderBullet||(e.a11y.addElRole(s,"button"),e.a11y.addElLabel(s,t.paginationBulletMessage.replace(/\{\{index\}\}/,s.index()+1)))}))},init:function(){var e=this,t=e.params.a11y;e.$el.append(e.a11y.liveRegion);var i=e.$el;t.containerRoleDescriptionMessage&&e.a11y.addElRoleDescription(i,t.containerRoleDescriptionMessage),t.containerMessage&&e.a11y.addElLabel(i,t.containerMessage);var s=e.$wrapperEl,a=s.attr("id")||"swiper-wrapper-"+e.a11y.getRandomNumber(16),r=e.params.autoplay&&e.params.autoplay.enabled?"off":"polite";e.a11y.addElId(s,a),e.a11y.addElLive(s,r),t.itemRoleDescriptionMessage&&e.a11y.addElRoleDescription(m(e.slides),t.itemRoleDescriptionMessage),e.a11y.addElRole(m(e.slides),t.slideRole);var n,l,o=e.params.loop?e.slides.filter((function(t){return!t.classList.contains(e.params.slideDuplicateClass)})).length:e.slides.length;e.slides.each((function(i,s){var a=m(i),r=e.params.loop?parseInt(a.attr("data-swiper-slide-index"),10):s,n=t.slideLabelMessage.replace(/\{\{index\}\}/,r+1).replace(/\{\{slidesLength\}\}/,o);e.a11y.addElLabel(a,n)})),e.navigation&&e.navigation.$nextEl&&(n=e.navigation.$nextEl),e.navigation&&e.navigation.$prevEl&&(l=e.navigation.$prevEl),n&&n.length&&(e.a11y.makeElFocusable(n),"BUTTON"!==n[0].tagName&&(e.a11y.addElRole(n,"button"),n.on("keydown",e.a11y.onEnterOrSpaceKey)),e.a11y.addElLabel(n,t.nextSlideMessage),e.a11y.addElControls(n,a)),l&&l.length&&(e.a11y.makeElFocusable(l),"BUTTON"!==l[0].tagName&&(e.a11y.addElRole(l,"button"),l.on("keydown",e.a11y.onEnterOrSpaceKey)),e.a11y.addElLabel(l,t.prevSlideMessage),e.a11y.addElControls(l,a)),e.pagination&&e.params.pagination.clickable&&e.pagination.bullets&&e.pagination.bullets.length&&e.pagination.$el.on("keydown",P(e.params.pagination.bulletClass),e.a11y.onEnterOrSpaceKey)},destroy:function(){var e,t;this.a11y.liveRegion&&this.a11y.liveRegion.length>0&&this.a11y.liveRegion.remove(),this.navigation&&this.navigation.$nextEl&&(e=this.navigation.$nextEl),this.navigation&&this.navigation.$prevEl&&(t=this.navigation.$prevEl),e&&e.off("keydown",this.a11y.onEnterOrSpaceKey),t&&t.off("keydown",this.a11y.onEnterOrSpaceKey),this.pagination&&this.params.pagination.clickable&&this.pagination.bullets&&this.pagination.bullets.length&&this.pagination.$el.off("keydown",P(this.params.pagination.bulletClass),this.a11y.onEnterOrSpaceKey)}},le={init:function(){var e=l();if(this.params.history){if(!e.history||!e.history.pushState)return this.params.history.enabled=!1,void(this.params.hashNavigation.enabled=!0);var t=this.history;t.initialized=!0,t.paths=le.getPathValues(this.params.url),(t.paths.key||t.paths.value)&&(t.scrollToSlide(0,t.paths.value,this.params.runCallbacksOnInit),this.params.history.replaceState||e.addEventListener("popstate",this.history.setHistoryPopState))}},destroy:function(){var e=l();this.params.history.replaceState||e.removeEventListener("popstate",this.history.setHistoryPopState)},setHistoryPopState:function(){this.history.paths=le.getPathValues(this.params.url),this.history.scrollToSlide(this.params.speed,this.history.paths.value,!1)},getPathValues:function(e){var t=l(),i=(e?new URL(e):t.location).pathname.slice(1).split("/").filter((function(e){return""!==e})),s=i.length;return{key:i[s-2],value:i[s-1]}},setHistory:function(e,t){var i=l();if(this.history.initialized&&this.params.history.enabled){var s;s=this.params.url?new URL(this.params.url):i.location;var a=this.slides.eq(t),r=le.slugify(a.attr("data-history"));if(this.params.history.root.length>0){var n=this.params.history.root;"/"===n[n.length-1]&&(n=n.slice(0,n.length-1)),r=n+"/"+e+"/"+r}else s.pathname.includes(e)||(r=e+"/"+r);var o=i.history.state;o&&o.value===r||(this.params.history.replaceState?i.history.replaceState({value:r},null,r):i.history.pushState({value:r},null,r))}},slugify:function(e){return e.toString().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},scrollToSlide:function(e,t,i){if(t)for(var s=0,a=this.slides.length;s<a;s+=1){var r=this.slides.eq(s);if(le.slugify(r.attr("data-history"))===t&&!r.hasClass(this.params.slideDuplicateClass)){var n=r.index();this.slideTo(n,e,i)}}else this.slideTo(0,e,i)}},oe={onHashChange:function(){var e=r();this.emit("hashChange");var t=e.location.hash.replace("#","");if(t!==this.slides.eq(this.activeIndex).attr("data-hash")){var i=this.$wrapperEl.children("."+this.params.slideClass+'[data-hash="'+t+'"]').index();if(void 0===i)return;this.slideTo(i)}},setHash:function(){var e=l(),t=r();if(this.hashNavigation.initialized&&this.params.hashNavigation.enabled)if(this.params.hashNavigation.replaceState&&e.history&&e.history.replaceState)e.history.replaceState(null,null,"#"+this.slides.eq(this.activeIndex).attr("data-hash")||""),this.emit("hashSet");else{var i=this.slides.eq(this.activeIndex),s=i.attr("data-hash")||i.attr("data-history");t.location.hash=s||"",this.emit("hashSet")}},init:function(){var e=r(),t=l();if(!(!this.params.hashNavigation.enabled||this.params.history&&this.params.history.enabled)){this.hashNavigation.initialized=!0;var i=e.location.hash.replace("#","");if(i)for(var s=0,a=this.slides.length;s<a;s+=1){var n=this.slides.eq(s);if((n.attr("data-hash")||n.attr("data-history"))===i&&!n.hasClass(this.params.slideDuplicateClass)){var o=n.index();this.slideTo(o,0,this.params.runCallbacksOnInit,!0)}}this.params.hashNavigation.watchState&&m(t).on("hashchange",this.hashNavigation.onHashChange)}},destroy:function(){var e=l();this.params.hashNavigation.watchState&&m(e).off("hashchange",this.hashNavigation.onHashChange)}},de={run:function(){var e=this,t=e.slides.eq(e.activeIndex),i=e.params.autoplay.delay;t.attr("data-swiper-autoplay")&&(i=t.attr("data-swiper-autoplay")||e.params.autoplay.delay),clearTimeout(e.autoplay.timeout),e.autoplay.timeout=E((function(){var t;e.params.autoplay.reverseDirection?e.params.loop?(e.loopFix(),t=e.slidePrev(e.params.speed,!0,!0),e.emit("autoplay")):e.isBeginning?e.params.autoplay.stopOnLastSlide?e.autoplay.stop():(t=e.slideTo(e.slides.length-1,e.params.speed,!0,!0),e.emit("autoplay")):(t=e.slidePrev(e.params.speed,!0,!0),e.emit("autoplay")):e.params.loop?(e.loopFix(),t=e.slideNext(e.params.speed,!0,!0),e.emit("autoplay")):e.isEnd?e.params.autoplay.stopOnLastSlide?e.autoplay.stop():(t=e.slideTo(0,e.params.speed,!0,!0),e.emit("autoplay")):(t=e.slideNext(e.params.speed,!0,!0),e.emit("autoplay")),(e.params.cssMode&&e.autoplay.running||!1===t)&&e.autoplay.run()}),i)},start:function(){return void 0===this.autoplay.timeout&&(!this.autoplay.running&&(this.autoplay.running=!0,this.emit("autoplayStart"),this.autoplay.run(),!0))},stop:function(){return!!this.autoplay.running&&(void 0!==this.autoplay.timeout&&(this.autoplay.timeout&&(clearTimeout(this.autoplay.timeout),this.autoplay.timeout=void 0),this.autoplay.running=!1,this.emit("autoplayStop"),!0))},pause:function(e){var t=this;t.autoplay.running&&(t.autoplay.paused||(t.autoplay.timeout&&clearTimeout(t.autoplay.timeout),t.autoplay.paused=!0,0!==e&&t.params.autoplay.waitForTransition?["transitionend","webkitTransitionEnd"].forEach((function(e){t.$wrapperEl[0].addEventListener(e,t.autoplay.onTransitionEnd)})):(t.autoplay.paused=!1,t.autoplay.run())))},onVisibilityChange:function(){var e=r();"hidden"===e.visibilityState&&this.autoplay.running&&this.autoplay.pause(),"visible"===e.visibilityState&&this.autoplay.paused&&(this.autoplay.run(),this.autoplay.paused=!1)},onTransitionEnd:function(e){var t=this;t&&!t.destroyed&&t.$wrapperEl&&e.target===t.$wrapperEl[0]&&(["transitionend","webkitTransitionEnd"].forEach((function(e){t.$wrapperEl[0].removeEventListener(e,t.autoplay.onTransitionEnd)})),t.autoplay.paused=!1,t.autoplay.running?t.autoplay.run():t.autoplay.stop())},onMouseEnter:function(){var e=this;e.params.autoplay.disableOnInteraction?e.autoplay.stop():e.autoplay.pause(),["transitionend","webkitTransitionEnd"].forEach((function(t){e.$wrapperEl[0].removeEventListener(t,e.autoplay.onTransitionEnd)}))},onMouseLeave:function(){this.params.autoplay.disableOnInteraction||(this.autoplay.paused=!1,this.autoplay.run())},attachMouseEvents:function(){this.params.autoplay.pauseOnMouseEnter&&(this.$el.on("mouseenter",this.autoplay.onMouseEnter),this.$el.on("mouseleave",this.autoplay.onMouseLeave))},detachMouseEvents:function(){this.$el.off("mouseenter",this.autoplay.onMouseEnter),this.$el.off("mouseleave",this.autoplay.onMouseLeave)}},he={setTranslate:function(){for(var e=this.slides,t=0;t<e.length;t+=1){var i=this.slides.eq(t),s=-i[0].swiperSlideOffset;this.params.virtualTranslate||(s-=this.translate);var a=0;this.isHorizontal()||(a=s,s=0);var r=this.params.fadeEffect.crossFade?Math.max(1-Math.abs(i[0].progress),0):1+Math.min(Math.max(i[0].progress,-1),0);i.css({opacity:r}).transform("translate3d("+s+"px, "+a+"px, 0px)")}},setTransition:function(e){var t=this,i=t.slides,s=t.$wrapperEl;if(i.transition(e),t.params.virtualTranslate&&0!==e){var a=!1;i.transitionEnd((function(){if(!a&&t&&!t.destroyed){a=!0,t.animating=!1;for(var e=["webkitTransitionEnd","transitionend"],i=0;i<e.length;i+=1)s.trigger(e[i])}}))}}},pe={setTranslate:function(){var e,t=this.$el,i=this.$wrapperEl,s=this.slides,a=this.width,r=this.height,n=this.rtlTranslate,l=this.size,o=this.browser,d=this.params.cubeEffect,h=this.isHorizontal(),p=this.virtual&&this.params.virtual.enabled,u=0;d.shadow&&(h?(0===(e=i.find(".swiper-cube-shadow")).length&&(e=m('<div class="swiper-cube-shadow"></div>'),i.append(e)),e.css({height:a+"px"})):0===(e=t.find(".swiper-cube-shadow")).length&&(e=m('<div class="swiper-cube-shadow"></div>'),t.append(e)));for(var c=0;c<s.length;c+=1){var v=s.eq(c),f=c;p&&(f=parseInt(v.attr("data-swiper-slide-index"),10));var g=90*f,b=Math.floor(g/360);n&&(g=-g,b=Math.floor(-g/360));var w=Math.max(Math.min(v[0].progress,1),-1),y=0,E=0,x=0;f%4==0?(y=4*-b*l,x=0):(f-1)%4==0?(y=0,x=4*-b*l):(f-2)%4==0?(y=l+4*b*l,x=l):(f-3)%4==0&&(y=-l,x=3*l+4*l*b),n&&(y=-y),h||(E=y,y=0);var T="rotateX("+(h?0:-g)+"deg) rotateY("+(h?g:0)+"deg) translate3d("+y+"px, "+E+"px, "+x+"px)";if(w<=1&&w>-1&&(u=90*f+90*w,n&&(u=90*-f-90*w)),v.transform(T),d.slideShadows){var C=h?v.find(".swiper-slide-shadow-left"):v.find(".swiper-slide-shadow-top"),S=h?v.find(".swiper-slide-shadow-right"):v.find(".swiper-slide-shadow-bottom");0===C.length&&(C=m('<div class="swiper-slide-shadow-'+(h?"left":"top")+'"></div>'),v.append(C)),0===S.length&&(S=m('<div class="swiper-slide-shadow-'+(h?"right":"bottom")+'"></div>'),v.append(S)),C.length&&(C[0].style.opacity=Math.max(-w,0)),S.length&&(S[0].style.opacity=Math.max(w,0))}}if(i.css({"-webkit-transform-origin":"50% 50% -"+l/2+"px","-moz-transform-origin":"50% 50% -"+l/2+"px","-ms-transform-origin":"50% 50% -"+l/2+"px","transform-origin":"50% 50% -"+l/2+"px"}),d.shadow)if(h)e.transform("translate3d(0px, "+(a/2+d.shadowOffset)+"px, "+-a/2+"px) rotateX(90deg) rotateZ(0deg) scale("+d.shadowScale+")");else{var M=Math.abs(u)-90*Math.floor(Math.abs(u)/90),z=1.5-(Math.sin(2*M*Math.PI/360)/2+Math.cos(2*M*Math.PI/360)/2),P=d.shadowScale,k=d.shadowScale/z,$=d.shadowOffset;e.transform("scale3d("+P+", 1, "+k+") translate3d(0px, "+(r/2+$)+"px, "+-r/2/k+"px) rotateX(-90deg)")}var L=o.isSafari||o.isWebView?-l/2:0;i.transform("translate3d(0px,0,"+L+"px) rotateX("+(this.isHorizontal()?0:u)+"deg) rotateY("+(this.isHorizontal()?-u:0)+"deg)")},setTransition:function(e){var t=this.$el;this.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),this.params.cubeEffect.shadow&&!this.isHorizontal()&&t.find(".swiper-cube-shadow").transition(e)}},ue={setTranslate:function(){for(var e=this.slides,t=this.rtlTranslate,i=0;i<e.length;i+=1){var s=e.eq(i),a=s[0].progress;this.params.flipEffect.limitRotation&&(a=Math.max(Math.min(s[0].progress,1),-1));var r=-180*a,n=0,l=-s[0].swiperSlideOffset,o=0;if(this.isHorizontal()?t&&(r=-r):(o=l,l=0,n=-r,r=0),s[0].style.zIndex=-Math.abs(Math.round(a))+e.length,this.params.flipEffect.slideShadows){var d=this.isHorizontal()?s.find(".swiper-slide-shadow-left"):s.find(".swiper-slide-shadow-top"),h=this.isHorizontal()?s.find(".swiper-slide-shadow-right"):s.find(".swiper-slide-shadow-bottom");0===d.length&&(d=m('<div class="swiper-slide-shadow-'+(this.isHorizontal()?"left":"top")+'"></div>'),s.append(d)),0===h.length&&(h=m('<div class="swiper-slide-shadow-'+(this.isHorizontal()?"right":"bottom")+'"></div>'),s.append(h)),d.length&&(d[0].style.opacity=Math.max(-a,0)),h.length&&(h[0].style.opacity=Math.max(a,0))}s.transform("translate3d("+l+"px, "+o+"px, 0px) rotateX("+n+"deg) rotateY("+r+"deg)")}},setTransition:function(e){var t=this,i=t.slides,s=t.activeIndex,a=t.$wrapperEl;if(i.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),t.params.virtualTranslate&&0!==e){var r=!1;i.eq(s).transitionEnd((function(){if(!r&&t&&!t.destroyed){r=!0,t.animating=!1;for(var e=["webkitTransitionEnd","transitionend"],i=0;i<e.length;i+=1)a.trigger(e[i])}}))}}},ce={setTranslate:function(){for(var e=this.width,t=this.height,i=this.slides,s=this.slidesSizesGrid,a=this.params.coverflowEffect,r=this.isHorizontal(),n=this.translate,l=r?e/2-n:t/2-n,o=r?a.rotate:-a.rotate,d=a.depth,h=0,p=i.length;h<p;h+=1){var u=i.eq(h),c=s[h],v=(l-u[0].swiperSlideOffset-c/2)/c*a.modifier,f=r?o*v:0,g=r?0:o*v,b=-d*Math.abs(v),w=a.stretch;"string"==typeof w&&-1!==w.indexOf("%")&&(w=parseFloat(a.stretch)/100*c);var y=r?0:w*v,E=r?w*v:0,x=1-(1-a.scale)*Math.abs(v);Math.abs(E)<.001&&(E=0),Math.abs(y)<.001&&(y=0),Math.abs(b)<.001&&(b=0),Math.abs(f)<.001&&(f=0),Math.abs(g)<.001&&(g=0),Math.abs(x)<.001&&(x=0);var T="translate3d("+E+"px,"+y+"px,"+b+"px)  rotateX("+g+"deg) rotateY("+f+"deg) scale("+x+")";if(u.transform(T),u[0].style.zIndex=1-Math.abs(Math.round(v)),a.slideShadows){var C=r?u.find(".swiper-slide-shadow-left"):u.find(".swiper-slide-shadow-top"),S=r?u.find(".swiper-slide-shadow-right"):u.find(".swiper-slide-shadow-bottom");0===C.length&&(C=m('<div class="swiper-slide-shadow-'+(r?"left":"top")+'"></div>'),u.append(C)),0===S.length&&(S=m('<div class="swiper-slide-shadow-'+(r?"right":"bottom")+'"></div>'),u.append(S)),C.length&&(C[0].style.opacity=v>0?v:0),S.length&&(S[0].style.opacity=-v>0?-v:0)}}},setTransition:function(e){this.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e)}},ve={init:function(){var e=this.params.thumbs;if(this.thumbs.initialized)return!1;this.thumbs.initialized=!0;var t=this.constructor;return e.swiper instanceof t?(this.thumbs.swiper=e.swiper,M(this.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),M(this.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1})):C(e.swiper)&&(this.thumbs.swiper=new t(M({},e.swiper,{watchSlidesVisibility:!0,watchSlidesProgress:!0,slideToClickedSlide:!1})),this.thumbs.swiperCreated=!0),this.thumbs.swiper.$el.addClass(this.params.thumbs.thumbsContainerClass),this.thumbs.swiper.on("tap",this.thumbs.onThumbClick),!0},onThumbClick:function(){var e=this.thumbs.swiper;if(e){var t=e.clickedIndex,i=e.clickedSlide;if(!(i&&m(i).hasClass(this.params.thumbs.slideThumbActiveClass)||null==t)){var s;if(s=e.params.loop?parseInt(m(e.clickedSlide).attr("data-swiper-slide-index"),10):t,this.params.loop){var a=this.activeIndex;this.slides.eq(a).hasClass(this.params.slideDuplicateClass)&&(this.loopFix(),this._clientLeft=this.$wrapperEl[0].clientLeft,a=this.activeIndex);var r=this.slides.eq(a).prevAll('[data-swiper-slide-index="'+s+'"]').eq(0).index(),n=this.slides.eq(a).nextAll('[data-swiper-slide-index="'+s+'"]').eq(0).index();s=void 0===r?n:void 0===n?r:n-a<a-r?n:r}this.slideTo(s)}}},update:function(e){var t=this.thumbs.swiper;if(t){var i="auto"===t.params.slidesPerView?t.slidesPerViewDynamic():t.params.slidesPerView,s=this.params.thumbs.autoScrollOffset,a=s&&!t.params.loop;if(this.realIndex!==t.realIndex||a){var r,n,l=t.activeIndex;if(t.params.loop){t.slides.eq(l).hasClass(t.params.slideDuplicateClass)&&(t.loopFix(),t._clientLeft=t.$wrapperEl[0].clientLeft,l=t.activeIndex);var o=t.slides.eq(l).prevAll('[data-swiper-slide-index="'+this.realIndex+'"]').eq(0).index(),d=t.slides.eq(l).nextAll('[data-swiper-slide-index="'+this.realIndex+'"]').eq(0).index();r=void 0===o?d:void 0===d?o:d-l==l-o?t.params.slidesPerGroup>1?d:l:d-l<l-o?d:o,n=this.activeIndex>this.previousIndex?"next":"prev"}else n=(r=this.realIndex)>this.previousIndex?"next":"prev";a&&(r+="next"===n?s:-1*s),t.visibleSlidesIndexes&&t.visibleSlidesIndexes.indexOf(r)<0&&(t.params.centeredSlides?r=r>l?r-Math.floor(i/2)+1:r+Math.floor(i/2)-1:r>l&&t.params.slidesPerGroup,t.slideTo(r,e?0:void 0))}var h=1,p=this.params.thumbs.slideThumbActiveClass;if(this.params.slidesPerView>1&&!this.params.centeredSlides&&(h=this.params.slidesPerView),this.params.thumbs.multipleActiveThumbs||(h=1),h=Math.floor(h),t.slides.removeClass(p),t.params.loop||t.params.virtual&&t.params.virtual.enabled)for(var u=0;u<h;u+=1)t.$wrapperEl.children('[data-swiper-slide-index="'+(this.realIndex+u)+'"]').addClass(p);else for(var c=0;c<h;c+=1)t.slides.eq(this.realIndex+c).addClass(p)}}},fe=[U,Z,{name:"mousewheel",params:{mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null}},create:function(){z(this,{mousewheel:{enabled:!1,lastScrollTime:x(),lastEventBeforeSnap:void 0,recentWheelEvents:[],enable:J.enable,disable:J.disable,handle:J.handle,handleMouseEnter:J.handleMouseEnter,handleMouseLeave:J.handleMouseLeave,animateSlider:J.animateSlider,releaseScroll:J.releaseScroll}})},on:{init:function(e){!e.params.mousewheel.enabled&&e.params.cssMode&&e.mousewheel.disable(),e.params.mousewheel.enabled&&e.mousewheel.enable()},destroy:function(e){e.params.cssMode&&e.mousewheel.enable(),e.mousewheel.enabled&&e.mousewheel.disable()}}},{name:"navigation",params:{navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock"}},create:function(){z(this,{navigation:t({},Q)})},on:{init:function(e){e.navigation.init(),e.navigation.update()},toEdge:function(e){e.navigation.update()},fromEdge:function(e){e.navigation.update()},destroy:function(e){e.navigation.destroy()},"enable disable":function(e){var t=e.navigation,i=t.$nextEl,s=t.$prevEl;i&&i[e.enabled?"removeClass":"addClass"](e.params.navigation.lockClass),s&&s[e.enabled?"removeClass":"addClass"](e.params.navigation.lockClass)},click:function(e,t){var i=e.navigation,s=i.$nextEl,a=i.$prevEl,r=t.target;if(e.params.navigation.hideOnClick&&!m(r).is(a)&&!m(r).is(s)){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===r||e.pagination.el.contains(r)))return;var n;s?n=s.hasClass(e.params.navigation.hiddenClass):a&&(n=a.hasClass(e.params.navigation.hiddenClass)),!0===n?e.emit("navigationShow"):e.emit("navigationHide"),s&&s.toggleClass(e.params.navigation.hiddenClass),a&&a.toggleClass(e.params.navigation.hiddenClass)}}}},{name:"pagination",params:{pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:function(e){return e},formatFractionTotal:function(e){return e},bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",modifierClass:"swiper-pagination-",currentClass:"swiper-pagination-current",totalClass:"swiper-pagination-total",hiddenClass:"swiper-pagination-hidden",progressbarFillClass:"swiper-pagination-progressbar-fill",progressbarOppositeClass:"swiper-pagination-progressbar-opposite",clickableClass:"swiper-pagination-clickable",lockClass:"swiper-pagination-lock"}},create:function(){z(this,{pagination:t({dynamicBulletIndex:0},ee)})},on:{init:function(e){e.pagination.init(),e.pagination.render(),e.pagination.update()},activeIndexChange:function(e){(e.params.loop||void 0===e.snapIndex)&&e.pagination.update()},snapIndexChange:function(e){e.params.loop||e.pagination.update()},slidesLengthChange:function(e){e.params.loop&&(e.pagination.render(),e.pagination.update())},snapGridLengthChange:function(e){e.params.loop||(e.pagination.render(),e.pagination.update())},destroy:function(e){e.pagination.destroy()},"enable disable":function(e){var t=e.pagination.$el;t&&t[e.enabled?"removeClass":"addClass"](e.params.pagination.lockClass)},click:function(e,t){var i=t.target;if(e.params.pagination.el&&e.params.pagination.hideOnClick&&e.pagination.$el.length>0&&!m(i).hasClass(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&i===e.navigation.nextEl||e.navigation.prevEl&&i===e.navigation.prevEl))return;!0===e.pagination.$el.hasClass(e.params.pagination.hiddenClass)?e.emit("paginationShow"):e.emit("paginationHide"),e.pagination.$el.toggleClass(e.params.pagination.hiddenClass)}}}},{name:"scrollbar",params:{scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag"}},create:function(){z(this,{scrollbar:t({isTouched:!1,timeout:null,dragTimeout:null},te)})},on:{init:function(e){e.scrollbar.init(),e.scrollbar.updateSize(),e.scrollbar.setTranslate()},update:function(e){e.scrollbar.updateSize()},resize:function(e){e.scrollbar.updateSize()},observerUpdate:function(e){e.scrollbar.updateSize()},setTranslate:function(e){e.scrollbar.setTranslate()},setTransition:function(e,t){e.scrollbar.setTransition(t)},"enable disable":function(e){var t=e.scrollbar.$el;t&&t[e.enabled?"removeClass":"addClass"](e.params.scrollbar.lockClass)},destroy:function(e){e.scrollbar.destroy()}}},{name:"parallax",params:{parallax:{enabled:!1}},create:function(){z(this,{parallax:t({},ie)})},on:{beforeInit:function(e){e.params.parallax.enabled&&(e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0)},init:function(e){e.params.parallax.enabled&&e.parallax.setTranslate()},setTranslate:function(e){e.params.parallax.enabled&&e.parallax.setTranslate()},setTransition:function(e,t){e.params.parallax.enabled&&e.parallax.setTransition(t)}}},{name:"zoom",params:{zoom:{enabled:!1,maxRatio:3,minRatio:1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}},create:function(){var e=this;z(e,{zoom:t({enabled:!1,scale:1,currentScale:1,isScaling:!1,gesture:{$slideEl:void 0,slideWidth:void 0,slideHeight:void 0,$imageEl:void 0,$imageWrapEl:void 0,maxRatio:3},image:{isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},velocity:{x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0}},se)});var i=1;Object.defineProperty(e.zoom,"scale",{get:function(){return i},set:function(t){if(i!==t){var s=e.zoom.gesture.$imageEl?e.zoom.gesture.$imageEl[0]:void 0,a=e.zoom.gesture.$slideEl?e.zoom.gesture.$slideEl[0]:void 0;e.emit("zoomChange",t,s,a)}i=t}})},on:{init:function(e){e.params.zoom.enabled&&e.zoom.enable()},destroy:function(e){e.zoom.disable()},touchStart:function(e,t){e.zoom.enabled&&e.zoom.onTouchStart(t)},touchEnd:function(e,t){e.zoom.enabled&&e.zoom.onTouchEnd(t)},doubleTap:function(e,t){!e.animating&&e.params.zoom.enabled&&e.zoom.enabled&&e.params.zoom.toggle&&e.zoom.toggle(t)},transitionEnd:function(e){e.zoom.enabled&&e.params.zoom.enabled&&e.zoom.onTransitionEnd()},slideChange:function(e){e.zoom.enabled&&e.params.zoom.enabled&&e.params.cssMode&&e.zoom.onTransitionEnd()}}},{name:"lazy",params:{lazy:{checkInView:!1,enabled:!1,loadPrevNext:!1,loadPrevNextAmount:1,loadOnTransitionStart:!1,scrollingElement:"",elementClass:"swiper-lazy",loadingClass:"swiper-lazy-loading",loadedClass:"swiper-lazy-loaded",preloaderClass:"swiper-lazy-preloader"}},create:function(){z(this,{lazy:t({initialImageLoaded:!1},ae)})},on:{beforeInit:function(e){e.params.lazy.enabled&&e.params.preloadImages&&(e.params.preloadImages=!1)},init:function(e){e.params.lazy.enabled&&!e.params.loop&&0===e.params.initialSlide&&(e.params.lazy.checkInView?e.lazy.checkInViewOnLoad():e.lazy.load())},scroll:function(e){e.params.freeMode&&!e.params.freeModeSticky&&e.lazy.load()},"scrollbarDragMove resize _freeModeNoMomentumRelease":function(e){e.params.lazy.enabled&&e.lazy.load()},transitionStart:function(e){e.params.lazy.enabled&&(e.params.lazy.loadOnTransitionStart||!e.params.lazy.loadOnTransitionStart&&!e.lazy.initialImageLoaded)&&e.lazy.load()},transitionEnd:function(e){e.params.lazy.enabled&&!e.params.lazy.loadOnTransitionStart&&e.lazy.load()},slideChange:function(e){var t=e.params,i=t.lazy,s=t.cssMode,a=t.watchSlidesVisibility,r=t.watchSlidesProgress,n=t.touchReleaseOnEdges,l=t.resistanceRatio;i.enabled&&(s||(a||r)&&(n||0===l))&&e.lazy.load()}}},{name:"controller",params:{controller:{control:void 0,inverse:!1,by:"slide"}},create:function(){z(this,{controller:t({control:this.params.controller.control},re)})},on:{update:function(e){e.controller.control&&e.controller.spline&&(e.controller.spline=void 0,delete e.controller.spline)},resize:function(e){e.controller.control&&e.controller.spline&&(e.controller.spline=void 0,delete e.controller.spline)},observerUpdate:function(e){e.controller.control&&e.controller.spline&&(e.controller.spline=void 0,delete e.controller.spline)},setTranslate:function(e,t,i){e.controller.control&&e.controller.setTranslate(t,i)},setTransition:function(e,t,i){e.controller.control&&e.controller.setTransition(t,i)}}},{name:"a11y",params:{a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,itemRoleDescriptionMessage:null,slideRole:"group"}},create:function(){z(this,{a11y:t({},ne,{liveRegion:m('<span class="'+this.params.a11y.notificationClass+'" aria-live="assertive" aria-atomic="true"></span>')})})},on:{afterInit:function(e){e.params.a11y.enabled&&(e.a11y.init(),e.a11y.updateNavigation())},toEdge:function(e){e.params.a11y.enabled&&e.a11y.updateNavigation()},fromEdge:function(e){e.params.a11y.enabled&&e.a11y.updateNavigation()},paginationUpdate:function(e){e.params.a11y.enabled&&e.a11y.updatePagination()},destroy:function(e){e.params.a11y.enabled&&e.a11y.destroy()}}},{name:"history",params:{history:{enabled:!1,root:"",replaceState:!1,key:"slides"}},create:function(){z(this,{history:t({},le)})},on:{init:function(e){e.params.history.enabled&&e.history.init()},destroy:function(e){e.params.history.enabled&&e.history.destroy()},"transitionEnd _freeModeNoMomentumRelease":function(e){e.history.initialized&&e.history.setHistory(e.params.history.key,e.activeIndex)},slideChange:function(e){e.history.initialized&&e.params.cssMode&&e.history.setHistory(e.params.history.key,e.activeIndex)}}},{name:"hash-navigation",params:{hashNavigation:{enabled:!1,replaceState:!1,watchState:!1}},create:function(){z(this,{hashNavigation:t({initialized:!1},oe)})},on:{init:function(e){e.params.hashNavigation.enabled&&e.hashNavigation.init()},destroy:function(e){e.params.hashNavigation.enabled&&e.hashNavigation.destroy()},"transitionEnd _freeModeNoMomentumRelease":function(e){e.hashNavigation.initialized&&e.hashNavigation.setHash()},slideChange:function(e){e.hashNavigation.initialized&&e.params.cssMode&&e.hashNavigation.setHash()}}},{name:"autoplay",params:{autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}},create:function(){z(this,{autoplay:t({},de,{running:!1,paused:!1})})},on:{init:function(e){e.params.autoplay.enabled&&(e.autoplay.start(),r().addEventListener("visibilitychange",e.autoplay.onVisibilityChange),e.autoplay.attachMouseEvents())},beforeTransitionStart:function(e,t,i){e.autoplay.running&&(i||!e.params.autoplay.disableOnInteraction?e.autoplay.pause(t):e.autoplay.stop())},sliderFirstMove:function(e){e.autoplay.running&&(e.params.autoplay.disableOnInteraction?e.autoplay.stop():e.autoplay.pause())},touchEnd:function(e){e.params.cssMode&&e.autoplay.paused&&!e.params.autoplay.disableOnInteraction&&e.autoplay.run()},destroy:function(e){e.autoplay.detachMouseEvents(),e.autoplay.running&&e.autoplay.stop(),r().removeEventListener("visibilitychange",e.autoplay.onVisibilityChange)}}},{name:"effect-fade",params:{fadeEffect:{crossFade:!1}},create:function(){z(this,{fadeEffect:t({},he)})},on:{beforeInit:function(e){if("fade"===e.params.effect){e.classNames.push(e.params.containerModifierClass+"fade");var t={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!0};M(e.params,t),M(e.originalParams,t)}},setTranslate:function(e){"fade"===e.params.effect&&e.fadeEffect.setTranslate()},setTransition:function(e,t){"fade"===e.params.effect&&e.fadeEffect.setTransition(t)}}},{name:"effect-cube",params:{cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}},create:function(){z(this,{cubeEffect:t({},pe)})},on:{beforeInit:function(e){if("cube"===e.params.effect){e.classNames.push(e.params.containerModifierClass+"cube"),e.classNames.push(e.params.containerModifierClass+"3d");var t={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0};M(e.params,t),M(e.originalParams,t)}},setTranslate:function(e){"cube"===e.params.effect&&e.cubeEffect.setTranslate()},setTransition:function(e,t){"cube"===e.params.effect&&e.cubeEffect.setTransition(t)}}},{name:"effect-flip",params:{flipEffect:{slideShadows:!0,limitRotation:!0}},create:function(){z(this,{flipEffect:t({},ue)})},on:{beforeInit:function(e){if("flip"===e.params.effect){e.classNames.push(e.params.containerModifierClass+"flip"),e.classNames.push(e.params.containerModifierClass+"3d");var t={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!0};M(e.params,t),M(e.originalParams,t)}},setTranslate:function(e){"flip"===e.params.effect&&e.flipEffect.setTranslate()},setTransition:function(e,t){"flip"===e.params.effect&&e.flipEffect.setTransition(t)}}},{name:"effect-coverflow",params:{coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0}},create:function(){z(this,{coverflowEffect:t({},ce)})},on:{beforeInit:function(e){"coverflow"===e.params.effect&&(e.classNames.push(e.params.containerModifierClass+"coverflow"),e.classNames.push(e.params.containerModifierClass+"3d"),e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0)},setTranslate:function(e){"coverflow"===e.params.effect&&e.coverflowEffect.setTranslate()},setTransition:function(e,t){"coverflow"===e.params.effect&&e.coverflowEffect.setTransition(t)}}},{name:"thumbs",params:{thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-container-thumbs"}},create:function(){z(this,{thumbs:t({swiper:null,initialized:!1},ve)})},on:{beforeInit:function(e){var t=e.params.thumbs;t&&t.swiper&&(e.thumbs.init(),e.thumbs.update(!0))},slideChange:function(e){e.thumbs.swiper&&e.thumbs.update()},update:function(e){e.thumbs.swiper&&e.thumbs.update()},resize:function(e){e.thumbs.swiper&&e.thumbs.update()},observerUpdate:function(e){e.thumbs.swiper&&e.thumbs.update()},setTransition:function(e,t){var i=e.thumbs.swiper;i&&i.setTransition(t)},beforeDestroy:function(e){var t=e.thumbs.swiper;t&&e.thumbs.swiperCreated&&t&&t.destroy()}}}];return q.use(fe),q}));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInN3aXBlci1idW5kbGUuanMiXSwibmFtZXMiOlsiZ2xvYmFsIiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJkZWZpbmUiLCJhbWQiLCJnbG9iYWxUaGlzIiwic2VsZiIsIlN3aXBlciIsInRoaXMiLCJfZGVmaW5lUHJvcGVydGllcyIsInRhcmdldCIsInByb3BzIiwiaSIsImxlbmd0aCIsImRlc2NyaXB0b3IiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImtleSIsIl9leHRlbmRzIiwiYXNzaWduIiwiYXJndW1lbnRzIiwic291cmNlIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiYXBwbHkiLCJpc09iamVjdCQxIiwib2JqIiwiY29uc3RydWN0b3IiLCJleHRlbmQkMSIsInNyYyIsImtleXMiLCJmb3JFYWNoIiwic3NyRG9jdW1lbnQiLCJib2R5IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJhY3RpdmVFbGVtZW50IiwiYmx1ciIsIm5vZGVOYW1lIiwicXVlcnlTZWxlY3RvciIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJnZXRFbGVtZW50QnlJZCIsImNyZWF0ZUV2ZW50IiwiaW5pdEV2ZW50IiwiY3JlYXRlRWxlbWVudCIsImNoaWxkcmVuIiwiY2hpbGROb2RlcyIsInN0eWxlIiwic2V0QXR0cmlidXRlIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJjcmVhdGVFbGVtZW50TlMiLCJpbXBvcnROb2RlIiwibG9jYXRpb24iLCJoYXNoIiwiaG9zdCIsImhvc3RuYW1lIiwiaHJlZiIsIm9yaWdpbiIsInBhdGhuYW1lIiwicHJvdG9jb2wiLCJzZWFyY2giLCJnZXREb2N1bWVudCIsImRvYyIsImRvY3VtZW50Iiwic3NyV2luZG93IiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiaGlzdG9yeSIsInJlcGxhY2VTdGF0ZSIsInB1c2hTdGF0ZSIsImdvIiwiYmFjayIsIkN1c3RvbUV2ZW50IiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImdldFByb3BlcnR5VmFsdWUiLCJJbWFnZSIsIkRhdGUiLCJzY3JlZW4iLCJzZXRUaW1lb3V0IiwiY2xlYXJUaW1lb3V0IiwibWF0Y2hNZWRpYSIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImNhbGxiYWNrIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJpZCIsImdldFdpbmRvdyIsIndpbiIsIndpbmRvdyIsIl9nZXRQcm90b3R5cGVPZiIsIm8iLCJzZXRQcm90b3R5cGVPZiIsImdldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiX3NldFByb3RvdHlwZU9mIiwicCIsIl9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QiLCJSZWZsZWN0IiwiY29uc3RydWN0Iiwic2hhbSIsIlByb3h5IiwidG9TdHJpbmciLCJlIiwiX2NvbnN0cnVjdCIsIlBhcmVudCIsImFyZ3MiLCJDbGFzcyIsImEiLCJwdXNoIiwiaW5zdGFuY2UiLCJGdW5jdGlvbiIsImJpbmQiLCJfd3JhcE5hdGl2ZVN1cGVyIiwiX2NhY2hlIiwiTWFwIiwidW5kZWZpbmVkIiwiZm4iLCJpbmRleE9mIiwiVHlwZUVycm9yIiwiaGFzIiwiZ2V0Iiwic2V0IiwiV3JhcHBlciIsImNyZWF0ZSIsInZhbHVlIiwiRG9tNyIsIl9BcnJheSIsInN1YkNsYXNzIiwic3VwZXJDbGFzcyIsIml0ZW1zIiwiX3RoaXMiLCJwcm90byIsImNvbmNhdCIsIlJlZmVyZW5jZUVycm9yIiwiX2Fzc2VydFRoaXNJbml0aWFsaXplZCIsIkFycmF5IiwiYXJyYXlGbGF0IiwiYXJyIiwicmVzIiwiZWwiLCJpc0FycmF5IiwiYXJyYXlGaWx0ZXIiLCJmaWx0ZXIiLCIkIiwic2VsZWN0b3IiLCJjb250ZXh0IiwiaHRtbCIsInRyaW0iLCJ0b0NyZWF0ZSIsInRlbXBQYXJlbnQiLCJpbm5lckhUTUwiLCJxc2EiLCJub2RlVHlwZSIsInVuaXF1ZUFycmF5IiwiYXJyYXlVbmlxdWUiLCJzdXBwb3J0IiwiZGV2aWNlIiwiYnJvd3NlciIsIk1ldGhvZHMiLCJhZGRDbGFzcyIsIl9sZW4iLCJjbGFzc2VzIiwiX2tleSIsImNsYXNzTmFtZXMiLCJtYXAiLCJjIiwic3BsaXQiLCJfZWwkY2xhc3NMaXN0IiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlQ2xhc3MiLCJfbGVuMiIsIl9rZXkyIiwiX2VsJGNsYXNzTGlzdDIiLCJyZW1vdmUiLCJoYXNDbGFzcyIsIl9sZW40IiwiX2tleTQiLCJjbGFzc05hbWUiLCJjb250YWlucyIsInRvZ2dsZUNsYXNzIiwiX2xlbjMiLCJfa2V5MyIsInRvZ2dsZSIsImF0dHIiLCJhdHRycyIsImdldEF0dHJpYnV0ZSIsImF0dHJOYW1lIiwicmVtb3ZlQXR0ciIsInJlbW92ZUF0dHJpYnV0ZSIsInRyYW5zZm9ybSIsInRyYW5zaXRpb24iLCJkdXJhdGlvbiIsInRyYW5zaXRpb25EdXJhdGlvbiIsIm9uIiwiX2xlbjUiLCJfa2V5NSIsImV2ZW50VHlwZSIsInRhcmdldFNlbGVjdG9yIiwibGlzdGVuZXIiLCJjYXB0dXJlIiwiaGFuZGxlTGl2ZUV2ZW50IiwiZXZlbnREYXRhIiwiZG9tN0V2ZW50RGF0YSIsInVuc2hpZnQiLCJpcyIsIl9wYXJlbnRzIiwicGFyZW50cyIsImsiLCJoYW5kbGVFdmVudCIsImoiLCJldmVudHMiLCJfZXZlbnQiLCJkb203TGl2ZUxpc3RlbmVycyIsInByb3h5TGlzdGVuZXIiLCJldmVudCIsImRvbTdMaXN0ZW5lcnMiLCJvZmYiLCJfbGVuNiIsIl9rZXk2IiwiaGFuZGxlcnMiLCJoYW5kbGVyIiwiZG9tN3Byb3h5Iiwic3BsaWNlIiwidHJpZ2dlciIsIl9sZW45IiwiX2tleTkiLCJldnQiLCJkZXRhaWwiLCJidWJibGVzIiwiY2FuY2VsYWJsZSIsImRhdGEiLCJkYXRhSW5kZXgiLCJkaXNwYXRjaEV2ZW50IiwidHJhbnNpdGlvbkVuZCIsImRvbSIsImZpcmVDYWxsQmFjayIsIm91dGVyV2lkdGgiLCJpbmNsdWRlTWFyZ2lucyIsIl9zdHlsZXMiLCJzdHlsZXMiLCJvZmZzZXRXaWR0aCIsInBhcnNlRmxvYXQiLCJvdXRlckhlaWdodCIsIl9zdHlsZXMyIiwib2Zmc2V0SGVpZ2h0Iiwib2Zmc2V0IiwiYm94IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiY2xpZW50VG9wIiwiY2xpZW50TGVmdCIsInNjcm9sbFRvcCIsInNjcm9sbFkiLCJzY3JvbGxMZWZ0Iiwic2Nyb2xsWCIsInRvcCIsImxlZnQiLCJjc3MiLCJfcHJvcCIsImVhY2giLCJpbmRleCIsInRleHQiLCJ0ZXh0Q29udGVudCIsImNvbXBhcmVXaXRoIiwibWF0Y2hlcyIsIndlYmtpdE1hdGNoZXNTZWxlY3RvciIsIm1zTWF0Y2hlc1NlbGVjdG9yIiwiY2hpbGQiLCJwcmV2aW91c1NpYmxpbmciLCJlcSIsInJldHVybkluZGV4IiwiYXBwZW5kIiwibmV3Q2hpbGQiLCJ0ZW1wRGl2IiwiZmlyc3RDaGlsZCIsImFwcGVuZENoaWxkIiwicHJlcGVuZCIsImluc2VydEJlZm9yZSIsIm5leHQiLCJuZXh0RWxlbWVudFNpYmxpbmciLCJuZXh0QWxsIiwibmV4dEVscyIsIl9uZXh0IiwicHJldiIsInByZXZpb3VzRWxlbWVudFNpYmxpbmciLCJwcmV2QWxsIiwicHJldkVscyIsIl9wcmV2IiwicGFyZW50IiwicGFyZW50Tm9kZSIsIl9wYXJlbnQiLCJjbG9zZXN0IiwiZmluZCIsImZvdW5kRWxlbWVudHMiLCJmb3VuZCIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJyZW1vdmVDaGlsZCIsIm5leHRUaWNrIiwiZGVsYXkiLCJub3ciLCJnZXRUcmFuc2xhdGUiLCJheGlzIiwibWF0cml4IiwiY3VyVHJhbnNmb3JtIiwidHJhbnNmb3JtTWF0cml4IiwiY3VyU3R5bGUiLCJjdXJyZW50U3R5bGUiLCJnZXRDb21wdXRlZFN0eWxlJDEiLCJXZWJLaXRDU1NNYXRyaXgiLCJ3ZWJraXRUcmFuc2Zvcm0iLCJyZXBsYWNlIiwiam9pbiIsIk1velRyYW5zZm9ybSIsIk9UcmFuc2Zvcm0iLCJNc1RyYW5zZm9ybSIsIm1zVHJhbnNmb3JtIiwibTQxIiwibTQyIiwiaXNPYmplY3QiLCJzbGljZSIsImlzTm9kZSIsIm5vZGUiLCJIVE1MRWxlbWVudCIsImV4dGVuZCIsInRvIiwibm9FeHRlbmQiLCJuZXh0U291cmNlIiwia2V5c0FycmF5IiwibmV4dEluZGV4IiwibGVuIiwibmV4dEtleSIsImRlc2MiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJfX3N3aXBlcl9fIiwiYmluZE1vZHVsZU1ldGhvZHMiLCJzdWJLZXkiLCJjbGFzc2VzVG9TZWxlY3RvciIsImNyZWF0ZUVsZW1lbnRJZk5vdERlZmluZWQiLCIkY29udGFpbmVyIiwicGFyYW1zIiwiY3JlYXRlRWxlbWVudHMiLCJjaGVja1Byb3BzIiwiYXV0byIsImVsZW1lbnQiLCJnZXRTdXBwb3J0IiwidG91Y2giLCJEb2N1bWVudFRvdWNoIiwicG9pbnRlckV2ZW50cyIsIlBvaW50ZXJFdmVudCIsIm1heFRvdWNoUG9pbnRzIiwib2JzZXJ2ZXIiLCJwYXNzaXZlTGlzdGVuZXIiLCJzdXBwb3J0c1Bhc3NpdmUiLCJvcHRzIiwiZ2VzdHVyZXMiLCJjYWxjU3VwcG9ydCIsImdldERldmljZSIsIm92ZXJyaWRlcyIsIl90ZW1wIiwicGxhdGZvcm0iLCJ1YSIsImlvcyIsImFuZHJvaWQiLCJzY3JlZW5XaWR0aCIsIndpZHRoIiwic2NyZWVuSGVpZ2h0IiwiaGVpZ2h0IiwibWF0Y2giLCJpcGFkIiwiaXBvZCIsImlwaG9uZSIsIndpbmRvd3MiLCJtYWNvcyIsIm9zIiwiY2FsY0RldmljZSIsImdldEJyb3dzZXIiLCJpc0VkZ2UiLCJpc1NhZmFyaSIsInRvTG93ZXJDYXNlIiwiaXNXZWJWaWV3IiwidGVzdCIsImNhbGNCcm93c2VyIiwibWV0aG9kTmFtZSIsIlJlc2l6ZSIsIm5hbWUiLCJzd2lwZXIiLCJyZXNpemUiLCJjcmVhdGVPYnNlcnZlciIsImRlc3Ryb3llZCIsImluaXRpYWxpemVkIiwiUmVzaXplT2JzZXJ2ZXIiLCJlbnRyaWVzIiwibmV3V2lkdGgiLCJuZXdIZWlnaHQiLCJfcmVmIiwiY29udGVudEJveFNpemUiLCJjb250ZW50UmVjdCIsImlubGluZVNpemUiLCJibG9ja1NpemUiLCJyZXNpemVIYW5kbGVyIiwib2JzZXJ2ZSIsInJlbW92ZU9ic2VydmVyIiwidW5vYnNlcnZlIiwiZW1pdCIsIm9yaWVudGF0aW9uQ2hhbmdlSGFuZGxlciIsImluaXQiLCJyZXNpemVPYnNlcnZlciIsImRlc3Ryb3kiLCJPYnNlcnZlciIsImF0dGFjaCIsIm9wdGlvbnMiLCJNdXRhdGlvbk9ic2VydmVyIiwiV2Via2l0TXV0YXRpb25PYnNlcnZlciIsIm11dGF0aW9ucyIsIm9ic2VydmVyVXBkYXRlIiwiYXR0cmlidXRlcyIsImNoaWxkTGlzdCIsImNoYXJhY3RlckRhdGEiLCJvYnNlcnZlcnMiLCJvYnNlcnZlUGFyZW50cyIsImNvbnRhaW5lclBhcmVudHMiLCIkZWwiLCJvYnNlcnZlU2xpZGVDaGlsZHJlbiIsIiR3cmFwcGVyRWwiLCJkaXNjb25uZWN0IiwiT2JzZXJ2ZXIkMSIsIm9uVG91Y2hTdGFydCIsInRvdWNoRXZlbnRzRGF0YSIsInRvdWNoZXMiLCJlbmFibGVkIiwiYW5pbWF0aW5nIiwicHJldmVudEludGVyYWN0aW9uT25UcmFuc2l0aW9uIiwib3JpZ2luYWxFdmVudCIsIiR0YXJnZXRFbCIsInRvdWNoRXZlbnRzVGFyZ2V0Iiwid3JhcHBlckVsIiwiaXNUb3VjaEV2ZW50IiwidHlwZSIsIndoaWNoIiwiYnV0dG9uIiwiaXNUb3VjaGVkIiwiaXNNb3ZlZCIsIm5vU3dpcGluZ0NsYXNzIiwic2hhZG93Um9vdCIsInBhdGgiLCJub1N3aXBpbmdTZWxlY3RvciIsImlzVGFyZ2V0U2hhZG93Iiwibm9Td2lwaW5nIiwiYmFzZSIsIl9fY2xvc2VzdEZyb20iLCJhc3NpZ25lZFNsb3QiLCJnZXRSb290Tm9kZSIsImNsb3Nlc3RFbGVtZW50IiwiYWxsb3dDbGljayIsInN3aXBlSGFuZGxlciIsImN1cnJlbnRYIiwidGFyZ2V0VG91Y2hlcyIsInBhZ2VYIiwiY3VycmVudFkiLCJwYWdlWSIsInN0YXJ0WCIsInN0YXJ0WSIsImVkZ2VTd2lwZURldGVjdGlvbiIsImlPU0VkZ2VTd2lwZURldGVjdGlvbiIsImVkZ2VTd2lwZVRocmVzaG9sZCIsImlPU0VkZ2VTd2lwZVRocmVzaG9sZCIsImlubmVyV2lkdGgiLCJwcmV2ZW50RGVmYXVsdCIsImFsbG93VG91Y2hDYWxsYmFja3MiLCJpc1Njcm9sbGluZyIsInN0YXJ0TW92aW5nIiwidG91Y2hTdGFydFRpbWUiLCJ1cGRhdGVTaXplIiwic3dpcGVEaXJlY3Rpb24iLCJ0aHJlc2hvbGQiLCJhbGxvd1RocmVzaG9sZE1vdmUiLCJmb2N1c2FibGVFbGVtZW50cyIsInNob3VsZFByZXZlbnREZWZhdWx0IiwiYWxsb3dUb3VjaE1vdmUiLCJ0b3VjaFN0YXJ0UHJldmVudERlZmF1bHQiLCJ0b3VjaFN0YXJ0Rm9yY2VQcmV2ZW50RGVmYXVsdCIsImlzQ29udGVudEVkaXRhYmxlIiwib25Ub3VjaE1vdmUiLCJydGwiLCJydGxUcmFuc2xhdGUiLCJ0YXJnZXRUb3VjaCIsImNoYW5nZWRUb3VjaGVzIiwicHJldmVudGVkQnlOZXN0ZWRTd2lwZXIiLCJ0b3VjaFJlbGVhc2VPbkVkZ2VzIiwibG9vcCIsImlzVmVydGljYWwiLCJ0cmFuc2xhdGUiLCJtYXhUcmFuc2xhdGUiLCJtaW5UcmFuc2xhdGUiLCJkaWZmWCIsImRpZmZZIiwiTWF0aCIsInNxcnQiLCJwb3ciLCJ0b3VjaEFuZ2xlIiwiaXNIb3Jpem9udGFsIiwiYXRhbjIiLCJhYnMiLCJQSSIsImNzc01vZGUiLCJ0b3VjaE1vdmVTdG9wUHJvcGFnYXRpb24iLCJuZXN0ZWQiLCJzdG9wUHJvcGFnYXRpb24iLCJsb29wRml4Iiwic3RhcnRUcmFuc2xhdGUiLCJzZXRUcmFuc2l0aW9uIiwiYWxsb3dNb21lbnR1bUJvdW5jZSIsImdyYWJDdXJzb3IiLCJhbGxvd1NsaWRlTmV4dCIsImFsbG93U2xpZGVQcmV2Iiwic2V0R3JhYkN1cnNvciIsImRpZmYiLCJ0b3VjaFJhdGlvIiwiY3VycmVudFRyYW5zbGF0ZSIsImRpc2FibGVQYXJlbnRTd2lwZXIiLCJyZXNpc3RhbmNlUmF0aW8iLCJyZXNpc3RhbmNlIiwiZm9sbG93RmluZ2VyIiwiZnJlZU1vZGUiLCJ3YXRjaFNsaWRlc1Byb2dyZXNzIiwid2F0Y2hTbGlkZXNWaXNpYmlsaXR5IiwidXBkYXRlQWN0aXZlSW5kZXgiLCJ1cGRhdGVTbGlkZXNDbGFzc2VzIiwidmVsb2NpdGllcyIsInBvc2l0aW9uIiwidGltZSIsInVwZGF0ZVByb2dyZXNzIiwic2V0VHJhbnNsYXRlIiwib25Ub3VjaEVuZCIsInNsaWRlc0dyaWQiLCJzbmFwR3JpZCIsImN1cnJlbnRQb3MiLCJ0b3VjaEVuZFRpbWUiLCJ0aW1lRGlmZiIsInVwZGF0ZUNsaWNrZWRTbGlkZSIsImxhc3RDbGlja1RpbWUiLCJzbGlkZVRvIiwiYWN0aXZlSW5kZXgiLCJzbGlkZXMiLCJmcmVlTW9kZU1vbWVudHVtIiwibGFzdE1vdmVFdmVudCIsInBvcCIsInZlbG9jaXR5RXZlbnQiLCJkaXN0YW5jZSIsInZlbG9jaXR5IiwiZnJlZU1vZGVNaW5pbXVtVmVsb2NpdHkiLCJmcmVlTW9kZU1vbWVudHVtVmVsb2NpdHlSYXRpbyIsIm1vbWVudHVtRHVyYXRpb24iLCJmcmVlTW9kZU1vbWVudHVtUmF0aW8iLCJtb21lbnR1bURpc3RhbmNlIiwibmV3UG9zaXRpb24iLCJhZnRlckJvdW5jZVBvc2l0aW9uIiwibmVlZHNMb29wRml4IiwiZG9Cb3VuY2UiLCJib3VuY2VBbW91bnQiLCJmcmVlTW9kZU1vbWVudHVtQm91bmNlUmF0aW8iLCJmcmVlTW9kZU1vbWVudHVtQm91bmNlIiwiY2VudGVyZWRTbGlkZXMiLCJmcmVlTW9kZVN0aWNreSIsIm5leHRTbGlkZSIsIm9uY2UiLCJtb3ZlRGlzdGFuY2UiLCJjdXJyZW50U2xpZGVTaXplIiwic2xpZGVzU2l6ZXNHcmlkIiwic3BlZWQiLCJzbGlkZVRvQ2xvc2VzdCIsInRyYW5zaXRpb25TdGFydCIsImxvbmdTd2lwZXNNcyIsInN0b3BJbmRleCIsImdyb3VwU2l6ZSIsInNsaWRlc1Blckdyb3VwU2tpcCIsInNsaWRlc1Blckdyb3VwIiwiX2luY3JlbWVudCIsInJhdGlvIiwiaW5jcmVtZW50IiwibG9uZ1N3aXBlcyIsImxvbmdTd2lwZXNSYXRpbyIsInNob3J0U3dpcGVzIiwibmF2aWdhdGlvbiIsIm5leHRFbCIsInByZXZFbCIsIm9uUmVzaXplIiwiYnJlYWtwb2ludHMiLCJzZXRCcmVha3BvaW50IiwidXBkYXRlU2xpZGVzIiwic2xpZGVzUGVyVmlldyIsImlzRW5kIiwiaXNCZWdpbm5pbmciLCJhdXRvcGxheSIsInJ1bm5pbmciLCJwYXVzZWQiLCJydW4iLCJ3YXRjaE92ZXJmbG93IiwiY2hlY2tPdmVyZmxvdyIsIm9uQ2xpY2siLCJwcmV2ZW50Q2xpY2tzIiwicHJldmVudENsaWNrc1Byb3BhZ2F0aW9uIiwic3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uIiwib25TY3JvbGwiLCJwcmV2aW91c1RyYW5zbGF0ZSIsInNjcm9sbFdpZHRoIiwidHJhbnNsYXRlc0RpZmYiLCJwcm9ncmVzcyIsImR1bW15RXZlbnRBdHRhY2hlZCIsImR1bW15RXZlbnRMaXN0ZW5lciIsImRlZmF1bHRzIiwiZGlyZWN0aW9uIiwiaW5pdGlhbFNsaWRlIiwidXBkYXRlT25XaW5kb3dSZXNpemUiLCJ1cmwiLCJhdXRvSGVpZ2h0Iiwic2V0V3JhcHBlclNpemUiLCJ2aXJ0dWFsVHJhbnNsYXRlIiwiZWZmZWN0IiwiYnJlYWtwb2ludHNCYXNlIiwic3BhY2VCZXR3ZWVuIiwic2xpZGVzUGVyQ29sdW1uIiwic2xpZGVzUGVyQ29sdW1uRmlsbCIsImNlbnRlcmVkU2xpZGVzQm91bmRzIiwic2xpZGVzT2Zmc2V0QmVmb3JlIiwic2xpZGVzT2Zmc2V0QWZ0ZXIiLCJub3JtYWxpemVTbGlkZUluZGV4IiwiY2VudGVySW5zdWZmaWNpZW50U2xpZGVzIiwicm91bmRMZW5ndGhzIiwic2ltdWxhdGVUb3VjaCIsInVuaXF1ZU5hdkVsZW1lbnRzIiwic2xpZGVUb0NsaWNrZWRTbGlkZSIsInByZWxvYWRJbWFnZXMiLCJ1cGRhdGVPbkltYWdlc1JlYWR5IiwibG9vcEFkZGl0aW9uYWxTbGlkZXMiLCJsb29wZWRTbGlkZXMiLCJsb29wRmlsbEdyb3VwV2l0aEJsYW5rIiwibG9vcFByZXZlbnRzU2xpZGUiLCJwYXNzaXZlTGlzdGVuZXJzIiwiY29udGFpbmVyTW9kaWZpZXJDbGFzcyIsInNsaWRlQ2xhc3MiLCJzbGlkZUJsYW5rQ2xhc3MiLCJzbGlkZUFjdGl2ZUNsYXNzIiwic2xpZGVEdXBsaWNhdGVBY3RpdmVDbGFzcyIsInNsaWRlVmlzaWJsZUNsYXNzIiwic2xpZGVEdXBsaWNhdGVDbGFzcyIsInNsaWRlTmV4dENsYXNzIiwic2xpZGVEdXBsaWNhdGVOZXh0Q2xhc3MiLCJzbGlkZVByZXZDbGFzcyIsInNsaWRlRHVwbGljYXRlUHJldkNsYXNzIiwid3JhcHBlckNsYXNzIiwicnVuQ2FsbGJhY2tzT25Jbml0IiwiX2VtaXRDbGFzc2VzIiwicHJvdG90eXBlcyIsIm1vZHVsYXIiLCJ1c2VQYXJhbXMiLCJpbnN0YW5jZVBhcmFtcyIsIm1vZHVsZXMiLCJtb2R1bGVOYW1lIiwidXNlTW9kdWxlcyIsIm1vZHVsZXNQYXJhbXMiLCJtb2R1bGVQYXJhbXMiLCJtb2R1bGVFdmVudE5hbWUiLCJldmVudHNFbWl0dGVyIiwicHJpb3JpdHkiLCJtZXRob2QiLCJldmVudHNMaXN0ZW5lcnMiLCJvbmNlSGFuZGxlciIsIl9fZW1pdHRlclByb3h5Iiwib25BbnkiLCJldmVudHNBbnlMaXN0ZW5lcnMiLCJvZmZBbnkiLCJldmVudEhhbmRsZXIiLCJldmVudHNBcnJheSIsInVwZGF0ZSIsImNsaWVudFdpZHRoIiwiY2xpZW50SGVpZ2h0IiwicGFyc2VJbnQiLCJOdW1iZXIiLCJpc05hTiIsInNpemUiLCJnZXREaXJlY3Rpb25MYWJlbCIsInByb3BlcnR5IiwibWFyZ2luLXRvcCIsIm1hcmdpbi1ib3R0b20gIiwibWFyZ2luLWxlZnQiLCJtYXJnaW4tcmlnaHQiLCJwYWRkaW5nLWxlZnQiLCJwYWRkaW5nLXJpZ2h0IiwibWFyZ2luUmlnaHQiLCJnZXREaXJlY3Rpb25Qcm9wZXJ0eVZhbHVlIiwibGFiZWwiLCJzd2lwZXJTaXplIiwid3JvbmdSVEwiLCJpc1ZpcnR1YWwiLCJ2aXJ0dWFsIiwicHJldmlvdXNTbGlkZXNMZW5ndGgiLCJzbGlkZXNMZW5ndGgiLCJvZmZzZXRCZWZvcmUiLCJvZmZzZXRBZnRlciIsInByZXZpb3VzU25hcEdyaWRMZW5ndGgiLCJwcmV2aW91c1NsaWRlc0dyaWRMZW5ndGgiLCJzbGlkZVBvc2l0aW9uIiwicHJldlNsaWRlU2l6ZSIsInNsaWRlc051bWJlckV2ZW5Ub1Jvd3MiLCJzbGlkZVNpemUiLCJ2aXJ0dWFsU2l6ZSIsIm1hcmdpbkxlZnQiLCJtYXJnaW5Cb3R0b20iLCJtYXJnaW5Ub3AiLCJmbG9vciIsImNlaWwiLCJtYXgiLCJuZXdTbGlkZXNHcmlkIiwiXyR3cmFwcGVyRWwkY3NzIiwiXyR3cmFwcGVyRWwkY3NzMiIsInNsaWRlc1BlclJvdyIsIm51bUZ1bGxDb2x1bW5zIiwic2xpZGUiLCJuZXdTbGlkZU9yZGVySW5kZXgiLCJjb2x1bW4iLCJyb3ciLCJncm91cEluZGV4Iiwic2xpZGVJbmRleEluR3JvdXAiLCJjb2x1bW5zSW5Hcm91cCIsIm1pbiIsIi13ZWJraXQtYm94LW9yZGluYWwtZ3JvdXAiLCItbW96LWJveC1vcmRpbmFsLWdyb3VwIiwiLW1zLWZsZXgtb3JkZXIiLCItd2Via2l0LW9yZGVyIiwib3JkZXIiLCJzbGlkZVN0eWxlcyIsImN1cnJlbnRUcmFuc2Zvcm0iLCJjdXJyZW50V2ViS2l0VHJhbnNmb3JtIiwicGFkZGluZ0xlZnQiLCJwYWRkaW5nUmlnaHQiLCJib3hTaXppbmciLCJfc2xpZGUkIiwic3dpcGVyU2xpZGVTaXplIiwiX2kiLCJzbGlkZXNHcmlkSXRlbSIsIl9pMiIsIl9zbGlkZXNHcmlkSXRlbSIsIl9zbGlkZXMkZmlsdGVyJGNzcyIsIl8iLCJzbGlkZUluZGV4IiwiYWxsU2xpZGVzU2l6ZSIsInNsaWRlU2l6ZVZhbHVlIiwibWF4U25hcCIsInNuYXAiLCJfYWxsU2xpZGVzU2l6ZSIsImFsbFNsaWRlc09mZnNldCIsInNuYXBJbmRleCIsInVwZGF0ZVNsaWRlc09mZnNldCIsInVwZGF0ZUF1dG9IZWlnaHQiLCJhY3RpdmVTbGlkZXMiLCJnZXRTbGlkZUJ5SW5kZXgiLCJ2aXNpYmxlU2xpZGVzIiwic3dpcGVyU2xpZGVPZmZzZXQiLCJvZmZzZXRMZWZ0Iiwib2Zmc2V0VG9wIiwidXBkYXRlU2xpZGVzUHJvZ3Jlc3MiLCJvZmZzZXRDZW50ZXIiLCJ2aXNpYmxlU2xpZGVzSW5kZXhlcyIsInNsaWRlUHJvZ3Jlc3MiLCJzbGlkZUJlZm9yZSIsInNsaWRlQWZ0ZXIiLCJtdWx0aXBsaWVyIiwid2FzQmVnaW5uaW5nIiwid2FzRW5kIiwiYWN0aXZlU2xpZGUiLCJyZWFsSW5kZXgiLCJwcmV2U2xpZGUiLCJlbWl0U2xpZGVzQ2xhc3NlcyIsIm5ld0FjdGl2ZUluZGV4IiwicHJldmlvdXNJbmRleCIsInByZXZpb3VzUmVhbEluZGV4IiwicHJldmlvdXNTbmFwSW5kZXgiLCJza2lwIiwic2xpZGVGb3VuZCIsImNsaWNrZWRTbGlkZSIsImNsaWNrZWRJbmRleCIsImJ5Q29udHJvbGxlciIsIngiLCJ5IiwidHJhbnNsYXRlVG8iLCJydW5DYWxsYmFja3MiLCJ0cmFuc2xhdGVCb3VuZHMiLCJpbnRlcm5hbCIsIm5ld1RyYW5zbGF0ZSIsIl93cmFwcGVyRWwkc2Nyb2xsVG8iLCJpc0giLCJzY3JvbGxUbyIsImJlaGF2aW9yIiwib25UcmFuc2xhdGVUb1dyYXBwZXJUcmFuc2l0aW9uRW5kIiwiZGlyIiwiaW5pdGlhbCIsIkVycm9yIiwiaW5kZXhBc051bWJlciIsImlzRmluaXRlIiwibm9ybWFsaXplZFRyYW5zbGF0ZSIsIm5vcm1hbGl6ZWRHaXJkIiwibm9ybWFsaXplZEdyaWROZXh0IiwidCIsIm9uU2xpZGVUb1dyYXBwZXJUcmFuc2l0aW9uRW5kIiwic2xpZGVUb0xvb3AiLCJuZXdJbmRleCIsInNsaWRlTmV4dCIsIl9jbGllbnRMZWZ0Iiwic2xpZGVQcmV2Iiwibm9ybWFsaXplIiwidmFsIiwicHJldkluZGV4Iiwibm9ybWFsaXplZFNuYXBHcmlkIiwicHJldlNuYXAiLCJzbGlkZVJlc2V0IiwiY3VycmVudFNuYXAiLCJzbGlkZXNQZXJWaWV3RHluYW1pYyIsInNsaWRlVG9JbmRleCIsImxvb3BDcmVhdGUiLCJibGFua1NsaWRlc051bSIsImJsYW5rTm9kZSIsInByZXBlbmRTbGlkZXMiLCJhcHBlbmRTbGlkZXMiLCJjbG9uZU5vZGUiLCJsb29wRGVzdHJveSIsIm1vdmluZyIsImlzTG9ja2VkIiwiY3Vyc29yIiwidW5zZXRHcmFiQ3Vyc29yIiwibWFuaXB1bGF0aW9uIiwiYXBwZW5kU2xpZGUiLCJwcmVwZW5kU2xpZGUiLCJhZGRTbGlkZSIsImFjdGl2ZUluZGV4QnVmZmVyIiwiYmFzZUxlbmd0aCIsInNsaWRlc0J1ZmZlciIsImN1cnJlbnRTbGlkZSIsInJlbW92ZVNsaWRlIiwic2xpZGVzSW5kZXhlcyIsImluZGV4VG9SZW1vdmUiLCJyZW1vdmVBbGxTbGlkZXMiLCJhdHRhY2hFdmVudHMiLCJ0b3VjaEV2ZW50cyIsInN0YXJ0IiwibW92ZSIsImVuZCIsInBhc3NpdmUiLCJjYW5jZWwiLCJkZXRhY2hFdmVudHMiLCJfc3dpcGVyJGxvb3BlZFNsaWRlcyIsImJyZWFrcG9pbnQiLCJnZXRCcmVha3BvaW50IiwiY3VycmVudEJyZWFrcG9pbnQiLCJicmVha3BvaW50T25seVBhcmFtcyIsInBhcmFtIiwicGFyYW1WYWx1ZSIsImJyZWFrcG9pbnRQYXJhbXMiLCJvcmlnaW5hbFBhcmFtcyIsIndhc011bHRpUm93IiwiaXNNdWx0aVJvdyIsIndhc0VuYWJsZWQiLCJlbWl0Q29udGFpbmVyQ2xhc3NlcyIsImRpcmVjdGlvbkNoYW5nZWQiLCJuZWVkc1JlTG9vcCIsImNoYW5nZURpcmVjdGlvbiIsImlzRW5hYmxlZCIsImRpc2FibGUiLCJlbmFibGUiLCJjb250YWluZXJFbCIsImN1cnJlbnRIZWlnaHQiLCJpbm5lckhlaWdodCIsInBvaW50cyIsInBvaW50IiwibWluUmF0aW8iLCJzdWJzdHIiLCJzb3J0IiwiYiIsIl9wb2ludHMkaSIsIndhc0xvY2tlZCIsImxhc3RTbGlkZVBvc2l0aW9uIiwiYWRkQ2xhc3NlcyIsInByZWZpeCIsInJlc3VsdENsYXNzZXMiLCJzdWZmaXhlcyIsInBvaW50ZXItZXZlbnRzIiwiZnJlZS1tb2RlIiwiYXV0b2hlaWdodCIsIm11bHRpcm93IiwibXVsdGlyb3ctY29sdW1uIiwiY3NzLW1vZGUiLCJpdGVtIiwicmVtb3ZlQ2xhc3NlcyIsImltYWdlcyIsImxvYWRJbWFnZSIsImltYWdlRWwiLCJzcmNzZXQiLCJzaXplcyIsImNoZWNrRm9yQ29tcGxldGUiLCJpbWFnZSIsIm9uUmVhZHkiLCJjb21wbGV0ZSIsIm9ubG9hZCIsIm9uZXJyb3IiLCJpbWFnZXNMb2FkZWQiLCJpbWFnZXNUb0xvYWQiLCJjdXJyZW50U3JjIiwiZXh0ZW5kZWREZWZhdWx0cyIsInN3aXBlcnMiLCJuZXdQYXJhbXMiLCJtb2R1bGVQYXJhbU5hbWUiLCJkZXNrdG9wIiwic3dpcGVyUGFyYW1zIiwicGFzc2VkUGFyYW1zIiwiZXZlbnROYW1lIiwidG91Y2hFdmVudHNUb3VjaCIsInRvdWNoRXZlbnRzRGVza3RvcCIsImNsaWNrVGltZW91dCIsIkNvbnN0cnVjdG9yIiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiX3Byb3RvIiwic2V0UHJvZ3Jlc3MiLCJjdXJyZW50IiwiZ2V0U2xpZGVDbGFzc2VzIiwic2xpZGVFbCIsInVwZGF0ZXMiLCJzcHYiLCJicmVha0xvb3AiLCJ0cmFuc2xhdGVWYWx1ZSIsIm5ld0RpcmVjdGlvbiIsIm5lZWRVcGRhdGUiLCJjdXJyZW50RGlyZWN0aW9uIiwibW91bnQiLCJtb3VudGVkIiwiZ2V0V3JhcHBlclNlbGVjdG9yIiwiZ2V0V3JhcHBlciIsIndyYXBwZXIiLCJkZWxldGVJbnN0YW5jZSIsImNsZWFuU3R5bGVzIiwib2JqZWN0IiwiZXh0ZW5kRGVmYXVsdHMiLCJuZXdEZWZhdWx0cyIsImluc3RhbGxNb2R1bGUiLCJ1c2UiLCJtIiwicHJvdG90eXBlR3JvdXAiLCJwcm90b01ldGhvZCIsIlZpcnR1YWwiLCJmb3JjZSIsIl9zd2lwZXIkcGFyYW1zIiwiX3N3aXBlciRwYXJhbXMkdmlydHVhIiwiYWRkU2xpZGVzQmVmb3JlIiwiYWRkU2xpZGVzQWZ0ZXIiLCJfc3dpcGVyJHZpcnR1YWwiLCJwcmV2aW91c0Zyb20iLCJmcm9tIiwicHJldmlvdXNUbyIsInByZXZpb3VzU2xpZGVzR3JpZCIsInJlbmRlclNsaWRlIiwicHJldmlvdXNPZmZzZXQiLCJvZmZzZXRQcm9wIiwic2xpZGVzQWZ0ZXIiLCJzbGlkZXNCZWZvcmUiLCJvblJlbmRlcmVkIiwibGF6eSIsImxvYWQiLCJyZW5kZXJFeHRlcm5hbCIsInNsaWRlc1RvUmVuZGVyIiwicmVuZGVyRXh0ZXJuYWxVcGRhdGUiLCJwcmVwZW5kSW5kZXhlcyIsImFwcGVuZEluZGV4ZXMiLCJjYWNoZSIsIiRzbGlkZUVsIiwibnVtYmVyT2ZOZXdTbGlkZXMiLCJuZXdDYWNoZSIsImNhY2hlZEluZGV4IiwiJGNhY2hlZEVsIiwiY2FjaGVkRWxJbmRleCIsIlZpcnR1YWwkMSIsImJlZm9yZUluaXQiLCJvdmVyd3JpdGVQYXJhbXMiLCJLZXlib2FyZCIsImhhbmRsZSIsImtjIiwia2V5Q29kZSIsImNoYXJDb2RlIiwicGFnZVVwRG93biIsImtleWJvYXJkIiwiaXNQYWdlVXAiLCJpc1BhZ2VEb3duIiwiaXNBcnJvd0xlZnQiLCJpc0Fycm93UmlnaHQiLCJpc0Fycm93VXAiLCJpc0Fycm93RG93biIsInNoaWZ0S2V5IiwiYWx0S2V5IiwiY3RybEtleSIsIm1ldGFLZXkiLCJvbmx5SW5WaWV3cG9ydCIsImluVmlldyIsInN3aXBlcldpZHRoIiwic3dpcGVySGVpZ2h0Iiwid2luZG93V2lkdGgiLCJ3aW5kb3dIZWlnaHQiLCJzd2lwZXJPZmZzZXQiLCJzd2lwZXJDb29yZCIsInJldHVyblZhbHVlIiwiS2V5Ym9hcmQkMSIsIk1vdXNld2hlZWwiLCJsYXN0U2Nyb2xsVGltZSIsImxhc3RFdmVudEJlZm9yZVNuYXAiLCJyZWNlbnRXaGVlbEV2ZW50cyIsImlzU3VwcG9ydGVkIiwiaW1wbGVtZW50YXRpb24iLCJoYXNGZWF0dXJlIiwiaXNFdmVudFN1cHBvcnRlZCIsInNYIiwic1kiLCJwWCIsInBZIiwid2hlZWxEZWx0YSIsIndoZWVsRGVsdGFZIiwid2hlZWxEZWx0YVgiLCJIT1JJWk9OVEFMX0FYSVMiLCJkZWx0YVkiLCJkZWx0YVgiLCJkZWx0YU1vZGUiLCJzcGluWCIsInNwaW5ZIiwicGl4ZWxYIiwicGl4ZWxZIiwiaGFuZGxlTW91c2VFbnRlciIsIm1vdXNlRW50ZXJlZCIsImhhbmRsZU1vdXNlTGVhdmUiLCJtb3VzZXdoZWVsIiwiZXZlbnRzVGFyZ2V0IiwicmVsZWFzZU9uRWRnZXMiLCJkZWx0YSIsInJ0bEZhY3RvciIsImZvcmNlVG9BeGlzIiwiaW52ZXJ0IiwicG9zaXRpb25zIiwic2Vuc2l0aXZpdHkiLCJfbmV3RXZlbnQiLCJzaWduIiwiaWdub3JlV2hlZWxFdmVudHMiLCJ0aW1lb3V0IiwiX3JlY2VudFdoZWVsRXZlbnRzIiwic2hpZnQiLCJfcHJldkV2ZW50IiwiZmlyc3RFdmVudCIsInNuYXBUb1RocmVzaG9sZCIsImF1dG9wbGF5RGlzYWJsZU9uSW50ZXJhY3Rpb24iLCJzdG9wIiwibmV3RXZlbnQiLCJyYXciLCJwcmV2RXZlbnQiLCJhbmltYXRlU2xpZGVyIiwicmVsZWFzZVNjcm9sbCIsInRocmVzaG9sZERlbHRhIiwidGhyZXNob2xkVGltZSIsImdldFRpbWUiLCJOYXZpZ2F0aW9uIiwidG9nZ2xlRWwiLCJkaXNhYmxlZCIsImRpc2FibGVkQ2xhc3MiLCJ0YWdOYW1lIiwiX3N3aXBlciRuYXZpZ2F0aW9uIiwiJG5leHRFbCIsIiRwcmV2RWwiLCJsb2NrQ2xhc3MiLCJvblByZXZDbGljayIsIm9uTmV4dENsaWNrIiwiX3N3aXBlciRuYXZpZ2F0aW9uMiIsIlBhZ2luYXRpb24iLCJwYWdpbmF0aW9uIiwidG90YWwiLCJwYWdpbmF0aW9uVHlwZSIsImJ1bGxldHMiLCJmaXJzdEluZGV4IiwibGFzdEluZGV4IiwibWlkSW5kZXgiLCJkeW5hbWljQnVsbGV0cyIsImJ1bGxldFNpemUiLCJkeW5hbWljTWFpbkJ1bGxldHMiLCJkeW5hbWljQnVsbGV0SW5kZXgiLCJidWxsZXRBY3RpdmVDbGFzcyIsImJ1bGxldCIsIiRidWxsZXQiLCJidWxsZXRJbmRleCIsIiRmaXJzdERpc3BsYXllZEJ1bGxldCIsIiRsYXN0RGlzcGxheWVkQnVsbGV0IiwiZHluYW1pY0J1bGxldHNMZW5ndGgiLCJidWxsZXRzT2Zmc2V0IiwiY3VycmVudENsYXNzIiwiZm9ybWF0RnJhY3Rpb25DdXJyZW50IiwidG90YWxDbGFzcyIsImZvcm1hdEZyYWN0aW9uVG90YWwiLCJwcm9ncmVzc2JhckRpcmVjdGlvbiIsInByb2dyZXNzYmFyT3Bwb3NpdGUiLCJzY2FsZSIsInNjYWxlWCIsInNjYWxlWSIsInByb2dyZXNzYmFyRmlsbENsYXNzIiwicmVuZGVyQ3VzdG9tIiwicmVuZGVyIiwicGFnaW5hdGlvbkhUTUwiLCJudW1iZXJPZkJ1bGxldHMiLCJyZW5kZXJCdWxsZXQiLCJidWxsZXRDbGFzcyIsImJ1bGxldEVsZW1lbnQiLCJyZW5kZXJGcmFjdGlvbiIsInJlbmRlclByb2dyZXNzYmFyIiwiY2xpY2thYmxlIiwiY2xpY2thYmxlQ2xhc3MiLCJtb2RpZmllckNsYXNzIiwicHJvZ3Jlc3NiYXJPcHBvc2l0ZUNsYXNzIiwiaGlkZGVuQ2xhc3MiLCJTY3JvbGxiYXIiLCJzY3JvbGxiYXIiLCJkcmFnU2l6ZSIsInRyYWNrU2l6ZSIsIiRkcmFnRWwiLCJuZXdTaXplIiwibmV3UG9zIiwiaGlkZSIsIm9wYWNpdHkiLCJkaXZpZGVyIiwibW92ZURpdmlkZXIiLCJkaXNwbGF5IiwiZ2V0UG9pbnRlclBvc2l0aW9uIiwiY2xpZW50WCIsImNsaWVudFkiLCJzZXREcmFnUG9zaXRpb24iLCJwb3NpdGlvblJhdGlvIiwiZHJhZ1N0YXJ0UG9zIiwib25EcmFnU3RhcnQiLCJkcmFnVGltZW91dCIsIm9uRHJhZ01vdmUiLCJvbkRyYWdFbmQiLCJzbmFwT25SZWxlYXNlIiwiZW5hYmxlRHJhZ2dhYmxlIiwiYWN0aXZlTGlzdGVuZXIiLCJkaXNhYmxlRHJhZ2dhYmxlIiwiJHN3aXBlckVsIiwiZHJhZ0NsYXNzIiwiZHJhZ0VsIiwiZHJhZ2dhYmxlIiwiUGFyYWxsYXgiLCJzZXRUcmFuc2Zvcm0iLCJjdXJyZW50T3BhY2l0eSIsImN1cnJlbnRTY2FsZSIsInBhcmFsbGF4IiwicGFyYWxsYXhFbCIsIiRwYXJhbGxheEVsIiwicGFyYWxsYXhEdXJhdGlvbiIsIlpvb20iLCJnZXREaXN0YW5jZUJldHdlZW5Ub3VjaGVzIiwieDEiLCJ5MSIsIngyIiwieTIiLCJvbkdlc3R1cmVTdGFydCIsInpvb20iLCJnZXN0dXJlIiwiZmFrZUdlc3R1cmVUb3VjaGVkIiwiZmFrZUdlc3R1cmVNb3ZlZCIsInNjYWxlU3RhcnQiLCIkaW1hZ2VFbCIsIiRpbWFnZVdyYXBFbCIsImNvbnRhaW5lckNsYXNzIiwibWF4UmF0aW8iLCJpc1NjYWxpbmciLCJvbkdlc3R1cmVDaGFuZ2UiLCJzY2FsZU1vdmUiLCJvbkdlc3R1cmVFbmQiLCJ0b3VjaGVzU3RhcnQiLCJzbGlkZVdpZHRoIiwic2xpZGVIZWlnaHQiLCJzY2FsZWRXaWR0aCIsInNjYWxlZEhlaWdodCIsIm1pblgiLCJtYXhYIiwibWluWSIsIm1heFkiLCJ0b3VjaGVzQ3VycmVudCIsInByZXZQb3NpdGlvblgiLCJwcmV2UG9zaXRpb25ZIiwicHJldlRpbWUiLCJtb21lbnR1bUR1cmF0aW9uWCIsIm1vbWVudHVtRHVyYXRpb25ZIiwibW9tZW50dW1EaXN0YW5jZVgiLCJuZXdQb3NpdGlvblgiLCJtb21lbnR1bURpc3RhbmNlWSIsIm5ld1Bvc2l0aW9uWSIsIm9uVHJhbnNpdGlvbkVuZCIsIm91dCIsImluIiwidG91Y2hYIiwidG91Y2hZIiwidHJhbnNsYXRlWCIsInRyYW5zbGF0ZVkiLCJpbWFnZVdpZHRoIiwiaW1hZ2VIZWlnaHQiLCJ0cmFuc2xhdGVNaW5YIiwidHJhbnNsYXRlTWluWSIsInRyYW5zbGF0ZU1heFgiLCJ0cmFuc2xhdGVNYXhZIiwiem9vbWVkU2xpZGVDbGFzcyIsInRvZ2dsZUdlc3R1cmVzIiwic2xpZGVTZWxlY3RvciIsImVuYWJsZUdlc3R1cmVzIiwiZ2VzdHVyZXNFbmFibGVkIiwiZGlzYWJsZUdlc3R1cmVzIiwiYWN0aXZlTGlzdGVuZXJXaXRoQ2FwdHVyZSIsIkxhenkiLCJsb2FkSW5TbGlkZSIsImxvYWRJbkR1cGxpY2F0ZSIsIiRpbWFnZXMiLCJlbGVtZW50Q2xhc3MiLCJsb2FkZWRDbGFzcyIsImxvYWRpbmdDbGFzcyIsImJhY2tncm91bmQiLCIkcGljdHVyZUVsIiwic291cmNlRWwiLCIkc291cmNlIiwicHJlbG9hZGVyQ2xhc3MiLCJzbGlkZU9yaWdpbmFsSW5kZXgiLCJvcmlnaW5hbFNsaWRlIiwiZHVwbGljYXRlZFNsaWRlIiwic2xpZGVFeGlzdCIsImluaXRpYWxJbWFnZUxvYWRlZCIsImxvYWRQcmV2TmV4dCIsImxvYWRQcmV2TmV4dEFtb3VudCIsImFtb3VudCIsIm1heEluZGV4IiwibWluSW5kZXgiLCJjaGVja0luVmlld09uTG9hZCIsIiRzY3JvbGxFbGVtZW50Iiwic2Nyb2xsaW5nRWxlbWVudCIsImlzV2luZG93Iiwic2Nyb2xsRWxlbWVudFdpZHRoIiwic2Nyb2xsRWxlbWVudEhlaWdodCIsInNjcm9sbEhhbmRsZXJBdHRhY2hlZCIsIkNvbnRyb2xsZXIiLCJMaW5lYXJTcGxpbmUiLCJndWVzcyIsImkxIiwiaTMiLCJiaW5hcnlTZWFyY2giLCJhcnJheSIsImludGVycG9sYXRlIiwiZ2V0SW50ZXJwb2xhdGVGdW5jdGlvbiIsImNvbnRyb2xsZXIiLCJzcGxpbmUiLCJfc2V0VHJhbnNsYXRlIiwiY29udHJvbGxlZFRyYW5zbGF0ZSIsImNvbnRyb2xsZWQiLCJjb250cm9sIiwic2V0Q29udHJvbGxlZFRyYW5zbGF0ZSIsImJ5IiwiaW52ZXJzZSIsInNldENvbnRyb2xsZWRUcmFuc2l0aW9uIiwiQTExeSIsImdldFJhbmRvbU51bWJlciIsInJlcGVhdCIsInJvdW5kIiwicmFuZG9tIiwibWFrZUVsRm9jdXNhYmxlIiwibWFrZUVsTm90Rm9jdXNhYmxlIiwiYWRkRWxSb2xlIiwicm9sZSIsImFkZEVsUm9sZURlc2NyaXB0aW9uIiwiZGVzY3JpcHRpb24iLCJhZGRFbENvbnRyb2xzIiwiY29udHJvbHMiLCJhZGRFbExhYmVsIiwiYWRkRWxJZCIsImFkZEVsTGl2ZSIsImxpdmUiLCJkaXNhYmxlRWwiLCJlbmFibGVFbCIsIm9uRW50ZXJPclNwYWNlS2V5IiwiYTExeSIsIm5vdGlmeSIsImxhc3RTbGlkZU1lc3NhZ2UiLCJuZXh0U2xpZGVNZXNzYWdlIiwiZmlyc3RTbGlkZU1lc3NhZ2UiLCJwcmV2U2xpZGVNZXNzYWdlIiwiY2xpY2siLCJtZXNzYWdlIiwibm90aWZpY2F0aW9uIiwibGl2ZVJlZ2lvbiIsInVwZGF0ZU5hdmlnYXRpb24iLCJ1cGRhdGVQYWdpbmF0aW9uIiwiYnVsbGV0RWwiLCIkYnVsbGV0RWwiLCJwYWdpbmF0aW9uQnVsbGV0TWVzc2FnZSIsIiRjb250YWluZXJFbCIsImNvbnRhaW5lclJvbGVEZXNjcmlwdGlvbk1lc3NhZ2UiLCJjb250YWluZXJNZXNzYWdlIiwid3JhcHBlcklkIiwiaXRlbVJvbGVEZXNjcmlwdGlvbk1lc3NhZ2UiLCJzbGlkZVJvbGUiLCJhcmlhTGFiZWxNZXNzYWdlIiwic2xpZGVMYWJlbE1lc3NhZ2UiLCJIaXN0b3J5IiwiaGFzaE5hdmlnYXRpb24iLCJwYXRocyIsImdldFBhdGhWYWx1ZXMiLCJzY3JvbGxUb1NsaWRlIiwic2V0SGlzdG9yeVBvcFN0YXRlIiwidXJsT3ZlcnJpZGUiLCJwYXRoQXJyYXkiLCJVUkwiLCJwYXJ0Iiwic2V0SGlzdG9yeSIsInNsdWdpZnkiLCJyb290IiwiaW5jbHVkZXMiLCJjdXJyZW50U3RhdGUiLCJzdGF0ZSIsIkhhc2hOYXZpZ2F0aW9uIiwib25IYXNoQ2hhbmdlIiwibmV3SGFzaCIsInNldEhhc2giLCJ3YXRjaFN0YXRlIiwiQXV0b3BsYXkiLCIkYWN0aXZlU2xpZGVFbCIsImF1dG9wbGF5UmVzdWx0IiwicmV2ZXJzZURpcmVjdGlvbiIsInN0b3BPbkxhc3RTbGlkZSIsInBhdXNlIiwid2FpdEZvclRyYW5zaXRpb24iLCJvblZpc2liaWxpdHlDaGFuZ2UiLCJ2aXNpYmlsaXR5U3RhdGUiLCJvbk1vdXNlRW50ZXIiLCJkaXNhYmxlT25JbnRlcmFjdGlvbiIsIm9uTW91c2VMZWF2ZSIsImF0dGFjaE1vdXNlRXZlbnRzIiwicGF1c2VPbk1vdXNlRW50ZXIiLCJkZXRhY2hNb3VzZUV2ZW50cyIsIkZhZGUiLCJ0eCIsInR5Iiwic2xpZGVPcGFjaXR5IiwiZmFkZUVmZmVjdCIsImNyb3NzRmFkZSIsImV2ZW50VHJpZ2dlcmVkIiwidHJpZ2dlckV2ZW50cyIsIkN1YmUiLCIkY3ViZVNoYWRvd0VsIiwiY3ViZUVmZmVjdCIsIndyYXBwZXJSb3RhdGUiLCJzaGFkb3ciLCJzbGlkZUFuZ2xlIiwidHoiLCJzbGlkZVNoYWRvd3MiLCJzaGFkb3dCZWZvcmUiLCJzaGFkb3dBZnRlciIsIi13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbiIsIi1tb3otdHJhbnNmb3JtLW9yaWdpbiIsIi1tcy10cmFuc2Zvcm0tb3JpZ2luIiwidHJhbnNmb3JtLW9yaWdpbiIsInNoYWRvd09mZnNldCIsInNoYWRvd1NjYWxlIiwic2hhZG93QW5nbGUiLCJzaW4iLCJjb3MiLCJzY2FsZTEiLCJzY2FsZTIiLCJ6RmFjdG9yIiwiRmxpcCIsImZsaXBFZmZlY3QiLCJsaW1pdFJvdGF0aW9uIiwicm90YXRlWSIsInJvdGF0ZVgiLCJ6SW5kZXgiLCJDb3ZlcmZsb3ciLCJjb3ZlcmZsb3dFZmZlY3QiLCJjZW50ZXIiLCJyb3RhdGUiLCJkZXB0aCIsIm9mZnNldE11bHRpcGxpZXIiLCJtb2RpZmllciIsInRyYW5zbGF0ZVoiLCJzdHJldGNoIiwic2xpZGVUcmFuc2Zvcm0iLCIkc2hhZG93QmVmb3JlRWwiLCIkc2hhZG93QWZ0ZXJFbCIsIlRodW1icyIsInRodW1ic1BhcmFtcyIsInRodW1icyIsIlN3aXBlckNsYXNzIiwic3dpcGVyQ3JlYXRlZCIsInRodW1ic0NvbnRhaW5lckNsYXNzIiwib25UaHVtYkNsaWNrIiwidGh1bWJzU3dpcGVyIiwic2xpZGVUaHVtYkFjdGl2ZUNsYXNzIiwiY3VycmVudEluZGV4IiwiYXV0b1Njcm9sbE9mZnNldCIsInVzZU9mZnNldCIsIm5ld1RodW1ic0luZGV4IiwiY3VycmVudFRodW1ic0luZGV4IiwicHJldlRodW1ic0luZGV4IiwibmV4dFRodW1ic0luZGV4IiwidGh1bWJzVG9BY3RpdmF0ZSIsInRodW1iQWN0aXZlQ2xhc3MiLCJtdWx0aXBsZUFjdGl2ZVRodW1icyIsImNvbXBvbmVudHMiLCJoaWRlT25DbGljayIsInRvRWRnZSIsImZyb21FZGdlIiwiZW5hYmxlIGRpc2FibGUiLCJfc3dpcGVyJG5hdmlnYXRpb24zIiwiX3N3aXBlciRuYXZpZ2F0aW9uNCIsInRhcmdldEVsIiwiaXNIaWRkZW4iLCJudW1iZXIiLCJhY3RpdmVJbmRleENoYW5nZSIsInNuYXBJbmRleENoYW5nZSIsInNsaWRlc0xlbmd0aENoYW5nZSIsInNuYXBHcmlkTGVuZ3RoQ2hhbmdlIiwidG91Y2hTdGFydCIsInRvdWNoRW5kIiwiZG91YmxlVGFwIiwic2xpZGVDaGFuZ2UiLCJjaGVja0luVmlldyIsImxvYWRPblRyYW5zaXRpb25TdGFydCIsInNjcm9sbCIsInNjcm9sbGJhckRyYWdNb3ZlIHJlc2l6ZSBfZnJlZU1vZGVOb01vbWVudHVtUmVsZWFzZSIsIm5vdGlmaWNhdGlvbkNsYXNzIiwiYWZ0ZXJJbml0IiwicGFnaW5hdGlvblVwZGF0ZSIsInRyYW5zaXRpb25FbmQgX2ZyZWVNb2RlTm9Nb21lbnR1bVJlbGVhc2UiLCJiZWZvcmVUcmFuc2l0aW9uU3RhcnQiLCJzbGlkZXJGaXJzdE1vdmUiLCJiZWZvcmVEZXN0cm95Il0sIm1hcHBpbmdzIjoiQ0FZQSxTQUFBQSxFQUFBQyxHQUNBLGlCQUFBQyxTQUFBLG9CQUFBQyxPQUFBQSxPQUFBRCxRQUFBRCxJQUNBLG1CQUFBRyxRQUFBQSxPQUFBQyxJQUFBRCxPQUFBSCxJQUNBRCxFQUFBLG9CQUFBTSxXQUFBQSxXQUFB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Y0FVQSxPQUZBclosRUFBQTg2QixJQUFBa2QsSUFFQWg0QyIsImZpbGUiOiJsaWJzLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogU3dpcGVyIDYuOC4xXG4gKiBNb3N0IG1vZGVybiBtb2JpbGUgdG91Y2ggc2xpZGVyIGFuZCBmcmFtZXdvcmsgd2l0aCBoYXJkd2FyZSBhY2NlbGVyYXRlZCB0cmFuc2l0aW9uc1xuICogaHR0cHM6Ly9zd2lwZXJqcy5jb21cbiAqXG4gKiBDb3B5cmlnaHQgMjAxNC0yMDIxIFZsYWRpbWlyIEtoYXJsYW1waWRpXG4gKlxuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlXG4gKlxuICogUmVsZWFzZWQgb246IEF1Z3VzdCAzLCAyMDIxXG4gKi9cblxuKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcbiAgdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnID8gbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCkgOlxuICB0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoZmFjdG9yeSkgOlxuICAoZ2xvYmFsID0gdHlwZW9mIGdsb2JhbFRoaXMgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsVGhpcyA6IGdsb2JhbCB8fCBzZWxmLCBnbG9iYWwuU3dpcGVyID0gZmFjdG9yeSgpKTtcbn0odGhpcywgKGZ1bmN0aW9uICgpIHsgJ3VzZSBzdHJpY3QnO1xuXG4gIGZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gICAgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gICAgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICAgIHJldHVybiBDb25zdHJ1Y3RvcjtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9leHRlbmRzKCkge1xuICAgIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cblxuICAvKipcbiAgICogU1NSIFdpbmRvdyAzLjAuMFxuICAgKiBCZXR0ZXIgaGFuZGxpbmcgZm9yIHdpbmRvdyBvYmplY3QgaW4gU1NSIGVudmlyb25tZW50XG4gICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9ub2xpbWl0czR3ZWIvc3NyLXdpbmRvd1xuICAgKlxuICAgKiBDb3B5cmlnaHQgMjAyMCwgVmxhZGltaXIgS2hhcmxhbXBpZGlcbiAgICpcbiAgICogTGljZW5zZWQgdW5kZXIgTUlUXG4gICAqXG4gICAqIFJlbGVhc2VkIG9uOiBOb3ZlbWJlciA5LCAyMDIwXG4gICAqL1xuXG4gIC8qIGVzbGludC1kaXNhYmxlIG5vLXBhcmFtLXJlYXNzaWduICovXG4gIGZ1bmN0aW9uIGlzT2JqZWN0JDEob2JqKSB7XG4gICAgcmV0dXJuIG9iaiAhPT0gbnVsbCAmJiB0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJiAnY29uc3RydWN0b3InIGluIG9iaiAmJiBvYmouY29uc3RydWN0b3IgPT09IE9iamVjdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGV4dGVuZCQxKHRhcmdldCwgc3JjKSB7XG4gICAgaWYgKHRhcmdldCA9PT0gdm9pZCAwKSB7XG4gICAgICB0YXJnZXQgPSB7fTtcbiAgICB9XG5cbiAgICBpZiAoc3JjID09PSB2b2lkIDApIHtcbiAgICAgIHNyYyA9IHt9O1xuICAgIH1cblxuICAgIE9iamVjdC5rZXlzKHNyYykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICBpZiAodHlwZW9mIHRhcmdldFtrZXldID09PSAndW5kZWZpbmVkJykgdGFyZ2V0W2tleV0gPSBzcmNba2V5XTtlbHNlIGlmIChpc09iamVjdCQxKHNyY1trZXldKSAmJiBpc09iamVjdCQxKHRhcmdldFtrZXldKSAmJiBPYmplY3Qua2V5cyhzcmNba2V5XSkubGVuZ3RoID4gMCkge1xuICAgICAgICBleHRlbmQkMSh0YXJnZXRba2V5XSwgc3JjW2tleV0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgdmFyIHNzckRvY3VtZW50ID0ge1xuICAgIGJvZHk6IHt9LFxuICAgIGFkZEV2ZW50TGlzdGVuZXI6IGZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXIoKSB7fSxcbiAgICByZW1vdmVFdmVudExpc3RlbmVyOiBmdW5jdGlvbiByZW1vdmVFdmVudExpc3RlbmVyKCkge30sXG4gICAgYWN0aXZlRWxlbWVudDoge1xuICAgICAgYmx1cjogZnVuY3Rpb24gYmx1cigpIHt9LFxuICAgICAgbm9kZU5hbWU6ICcnXG4gICAgfSxcbiAgICBxdWVyeVNlbGVjdG9yOiBmdW5jdGlvbiBxdWVyeVNlbGVjdG9yKCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSxcbiAgICBxdWVyeVNlbGVjdG9yQWxsOiBmdW5jdGlvbiBxdWVyeVNlbGVjdG9yQWxsKCkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH0sXG4gICAgZ2V0RWxlbWVudEJ5SWQ6IGZ1bmN0aW9uIGdldEVsZW1lbnRCeUlkKCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSxcbiAgICBjcmVhdGVFdmVudDogZnVuY3Rpb24gY3JlYXRlRXZlbnQoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBpbml0RXZlbnQ6IGZ1bmN0aW9uIGluaXRFdmVudCgpIHt9XG4gICAgICB9O1xuICAgIH0sXG4gICAgY3JlYXRlRWxlbWVudDogZnVuY3Rpb24gY3JlYXRlRWxlbWVudCgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNoaWxkcmVuOiBbXSxcbiAgICAgICAgY2hpbGROb2RlczogW10sXG4gICAgICAgIHN0eWxlOiB7fSxcbiAgICAgICAgc2V0QXR0cmlidXRlOiBmdW5jdGlvbiBzZXRBdHRyaWJ1dGUoKSB7fSxcbiAgICAgICAgZ2V0RWxlbWVudHNCeVRhZ05hbWU6IGZ1bmN0aW9uIGdldEVsZW1lbnRzQnlUYWdOYW1lKCkge1xuICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9LFxuICAgIGNyZWF0ZUVsZW1lbnROUzogZnVuY3Rpb24gY3JlYXRlRWxlbWVudE5TKCkge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH0sXG4gICAgaW1wb3J0Tm9kZTogZnVuY3Rpb24gaW1wb3J0Tm9kZSgpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0sXG4gICAgbG9jYXRpb246IHtcbiAgICAgIGhhc2g6ICcnLFxuICAgICAgaG9zdDogJycsXG4gICAgICBob3N0bmFtZTogJycsXG4gICAgICBocmVmOiAnJyxcbiAgICAgIG9yaWdpbjogJycsXG4gICAgICBwYXRobmFtZTogJycsXG4gICAgICBwcm90b2NvbDogJycsXG4gICAgICBzZWFyY2g6ICcnXG4gICAgfVxuICB9O1xuXG4gIGZ1bmN0aW9uIGdldERvY3VtZW50KCkge1xuICAgIHZhciBkb2MgPSB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnID8gZG9jdW1lbnQgOiB7fTtcbiAgICBleHRlbmQkMShkb2MsIHNzckRvY3VtZW50KTtcbiAgICByZXR1cm4gZG9jO1xuICB9XG5cbiAgdmFyIHNzcldpbmRvdyA9IHtcbiAgICBkb2N1bWVudDogc3NyRG9jdW1lbnQsXG4gICAgbmF2aWdhdG9yOiB7XG4gICAgICB1c2VyQWdlbnQ6ICcnXG4gICAgfSxcbiAgICBsb2NhdGlvbjoge1xuICAgICAgaGFzaDogJycsXG4gICAgICBob3N0OiAnJyxcbiAgICAgIGhvc3RuYW1lOiAnJyxcbiAgICAgIGhyZWY6ICcnLFxuICAgICAgb3JpZ2luOiAnJyxcbiAgICAgIHBhdGhuYW1lOiAnJyxcbiAgICAgIHByb3RvY29sOiAnJyxcbiAgICAgIHNlYXJjaDogJydcbiAgICB9LFxuICAgIGhpc3Rvcnk6IHtcbiAgICAgIHJlcGxhY2VTdGF0ZTogZnVuY3Rpb24gcmVwbGFjZVN0YXRlKCkge30sXG4gICAgICBwdXNoU3RhdGU6IGZ1bmN0aW9uIHB1c2hTdGF0ZSgpIHt9LFxuICAgICAgZ286IGZ1bmN0aW9uIGdvKCkge30sXG4gICAgICBiYWNrOiBmdW5jdGlvbiBiYWNrKCkge31cbiAgICB9LFxuICAgIEN1c3RvbUV2ZW50OiBmdW5jdGlvbiBDdXN0b21FdmVudCgpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG4gICAgYWRkRXZlbnRMaXN0ZW5lcjogZnVuY3Rpb24gYWRkRXZlbnRMaXN0ZW5lcigpIHt9LFxuICAgIHJlbW92ZUV2ZW50TGlzdGVuZXI6IGZ1bmN0aW9uIHJlbW92ZUV2ZW50TGlzdGVuZXIoKSB7fSxcbiAgICBnZXRDb21wdXRlZFN0eWxlOiBmdW5jdGlvbiBnZXRDb21wdXRlZFN0eWxlKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZ2V0UHJvcGVydHlWYWx1ZTogZnVuY3Rpb24gZ2V0UHJvcGVydHlWYWx1ZSgpIHtcbiAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSxcbiAgICBJbWFnZTogZnVuY3Rpb24gSW1hZ2UoKSB7fSxcbiAgICBEYXRlOiBmdW5jdGlvbiBEYXRlKCkge30sXG4gICAgc2NyZWVuOiB7fSxcbiAgICBzZXRUaW1lb3V0OiBmdW5jdGlvbiBzZXRUaW1lb3V0KCkge30sXG4gICAgY2xlYXJUaW1lb3V0OiBmdW5jdGlvbiBjbGVhclRpbWVvdXQoKSB7fSxcbiAgICBtYXRjaE1lZGlhOiBmdW5jdGlvbiBtYXRjaE1lZGlhKCkge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH0sXG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lOiBmdW5jdGlvbiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoY2FsbGJhY2spIHtcbiAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZXRUaW1lb3V0KGNhbGxiYWNrLCAwKTtcbiAgICB9LFxuICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lOiBmdW5jdGlvbiBjYW5jZWxBbmltYXRpb25GcmFtZShpZCkge1xuICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNsZWFyVGltZW91dChpZCk7XG4gICAgfVxuICB9O1xuXG4gIGZ1bmN0aW9uIGdldFdpbmRvdygpIHtcbiAgICB2YXIgd2luID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiB7fTtcbiAgICBleHRlbmQkMSh3aW4sIHNzcldpbmRvdyk7XG4gICAgcmV0dXJuIHdpbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBEb203IDMuMC4wXG4gICAqIE1pbmltYWxpc3RpYyBKYXZhU2NyaXB0IGxpYnJhcnkgZm9yIERPTSBtYW5pcHVsYXRpb24sIHdpdGggYSBqUXVlcnktY29tcGF0aWJsZSBBUElcbiAgICogaHR0cHM6Ly9mcmFtZXdvcms3LmlvL2RvY3MvZG9tNy5odG1sXG4gICAqXG4gICAqIENvcHlyaWdodCAyMDIwLCBWbGFkaW1pciBLaGFybGFtcGlkaVxuICAgKlxuICAgKiBMaWNlbnNlZCB1bmRlciBNSVRcbiAgICpcbiAgICogUmVsZWFzZWQgb246IE5vdmVtYmVyIDksIDIwMjBcbiAgICovXG5cbiAgZnVuY3Rpb24gX2luaGVyaXRzTG9vc2Uoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgICBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MucHJvdG90eXBlKTtcbiAgICBzdWJDbGFzcy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBzdWJDbGFzcztcbiAgICBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzO1xuICB9XG5cbiAgZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHtcbiAgICBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2Yobykge1xuICAgICAgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTtcbiAgICB9O1xuICAgIHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7XG4gIH1cblxuICBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkge1xuICAgIF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkge1xuICAgICAgby5fX3Byb3RvX18gPSBwO1xuICAgICAgcmV0dXJuIG87XG4gICAgfTtcblxuICAgIHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7XG4gIH1cblxuICBmdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkge1xuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhUmVmbGVjdC5jb25zdHJ1Y3QpIHJldHVybiBmYWxzZTtcbiAgICBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlO1xuICAgIGlmICh0eXBlb2YgUHJveHkgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHRydWU7XG5cbiAgICB0cnkge1xuICAgICAgRGF0ZS5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChEYXRlLCBbXSwgZnVuY3Rpb24gKCkge30pKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBfY29uc3RydWN0KFBhcmVudCwgYXJncywgQ2xhc3MpIHtcbiAgICBpZiAoX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpKSB7XG4gICAgICBfY29uc3RydWN0ID0gUmVmbGVjdC5jb25zdHJ1Y3Q7XG4gICAgfSBlbHNlIHtcbiAgICAgIF9jb25zdHJ1Y3QgPSBmdW5jdGlvbiBfY29uc3RydWN0KFBhcmVudCwgYXJncywgQ2xhc3MpIHtcbiAgICAgICAgdmFyIGEgPSBbbnVsbF07XG4gICAgICAgIGEucHVzaC5hcHBseShhLCBhcmdzKTtcbiAgICAgICAgdmFyIENvbnN0cnVjdG9yID0gRnVuY3Rpb24uYmluZC5hcHBseShQYXJlbnQsIGEpO1xuICAgICAgICB2YXIgaW5zdGFuY2UgPSBuZXcgQ29uc3RydWN0b3IoKTtcbiAgICAgICAgaWYgKENsYXNzKSBfc2V0UHJvdG90eXBlT2YoaW5zdGFuY2UsIENsYXNzLnByb3RvdHlwZSk7XG4gICAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIF9jb25zdHJ1Y3QuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9pc05hdGl2ZUZ1bmN0aW9uKGZuKSB7XG4gICAgcmV0dXJuIEZ1bmN0aW9uLnRvU3RyaW5nLmNhbGwoZm4pLmluZGV4T2YoXCJbbmF0aXZlIGNvZGVdXCIpICE9PSAtMTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF93cmFwTmF0aXZlU3VwZXIoQ2xhc3MpIHtcbiAgICB2YXIgX2NhY2hlID0gdHlwZW9mIE1hcCA9PT0gXCJmdW5jdGlvblwiID8gbmV3IE1hcCgpIDogdW5kZWZpbmVkO1xuXG4gICAgX3dyYXBOYXRpdmVTdXBlciA9IGZ1bmN0aW9uIF93cmFwTmF0aXZlU3VwZXIoQ2xhc3MpIHtcbiAgICAgIGlmIChDbGFzcyA9PT0gbnVsbCB8fCAhX2lzTmF0aXZlRnVuY3Rpb24oQ2xhc3MpKSByZXR1cm4gQ2xhc3M7XG5cbiAgICAgIGlmICh0eXBlb2YgQ2xhc3MgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgX2NhY2hlICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIGlmIChfY2FjaGUuaGFzKENsYXNzKSkgcmV0dXJuIF9jYWNoZS5nZXQoQ2xhc3MpO1xuXG4gICAgICAgIF9jYWNoZS5zZXQoQ2xhc3MsIFdyYXBwZXIpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBXcmFwcGVyKCkge1xuICAgICAgICByZXR1cm4gX2NvbnN0cnVjdChDbGFzcywgYXJndW1lbnRzLCBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3IpO1xuICAgICAgfVxuXG4gICAgICBXcmFwcGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQ2xhc3MucHJvdG90eXBlLCB7XG4gICAgICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICAgICAgdmFsdWU6IFdyYXBwZXIsXG4gICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihXcmFwcGVyLCBDbGFzcyk7XG4gICAgfTtcblxuICAgIHJldHVybiBfd3JhcE5hdGl2ZVN1cGVyKENsYXNzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikge1xuICAgIGlmIChzZWxmID09PSB2b2lkIDApIHtcbiAgICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc2VsZjtcbiAgfVxuICAvKiBlc2xpbnQtZGlzYWJsZSBuby1wcm90byAqL1xuXG5cbiAgZnVuY3Rpb24gbWFrZVJlYWN0aXZlKG9iaikge1xuICAgIHZhciBwcm90byA9IG9iai5fX3Byb3RvX187XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgJ19fcHJvdG9fXycsIHtcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gcHJvdG87XG4gICAgICB9LFxuICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgICAgcHJvdG8uX19wcm90b19fID0gdmFsdWU7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICB2YXIgRG9tNyA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0FycmF5KSB7XG4gICAgX2luaGVyaXRzTG9vc2UoRG9tNywgX0FycmF5KTtcblxuICAgIGZ1bmN0aW9uIERvbTcoaXRlbXMpIHtcbiAgICAgIHZhciBfdGhpcztcblxuICAgICAgX3RoaXMgPSBfQXJyYXkuY2FsbC5hcHBseShfQXJyYXksIFt0aGlzXS5jb25jYXQoaXRlbXMpKSB8fCB0aGlzO1xuICAgICAgbWFrZVJlYWN0aXZlKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKTtcbiAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICByZXR1cm4gRG9tNztcbiAgfSggLyojX19QVVJFX18qL193cmFwTmF0aXZlU3VwZXIoQXJyYXkpKTtcblxuICBmdW5jdGlvbiBhcnJheUZsYXQoYXJyKSB7XG4gICAgaWYgKGFyciA9PT0gdm9pZCAwKSB7XG4gICAgICBhcnIgPSBbXTtcbiAgICB9XG5cbiAgICB2YXIgcmVzID0gW107XG4gICAgYXJyLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShlbCkpIHtcbiAgICAgICAgcmVzLnB1c2guYXBwbHkocmVzLCBhcnJheUZsYXQoZWwpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlcy5wdXNoKGVsKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gcmVzO1xuICB9XG5cbiAgZnVuY3Rpb24gYXJyYXlGaWx0ZXIoYXJyLCBjYWxsYmFjaykge1xuICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwoYXJyLCBjYWxsYmFjayk7XG4gIH1cblxuICBmdW5jdGlvbiBhcnJheVVuaXF1ZShhcnIpIHtcbiAgICB2YXIgdW5pcXVlQXJyYXkgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBpZiAodW5pcXVlQXJyYXkuaW5kZXhPZihhcnJbaV0pID09PSAtMSkgdW5pcXVlQXJyYXkucHVzaChhcnJbaV0pO1xuICAgIH1cblxuICAgIHJldHVybiB1bmlxdWVBcnJheTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHFzYShzZWxlY3RvciwgY29udGV4dCkge1xuICAgIGlmICh0eXBlb2Ygc2VsZWN0b3IgIT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gW3NlbGVjdG9yXTtcbiAgICB9XG5cbiAgICB2YXIgYSA9IFtdO1xuICAgIHZhciByZXMgPSBjb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIGEucHVzaChyZXNbaV0pO1xuICAgIH1cblxuICAgIHJldHVybiBhO1xuICB9XG5cbiAgZnVuY3Rpb24gJChzZWxlY3RvciwgY29udGV4dCkge1xuICAgIHZhciB3aW5kb3cgPSBnZXRXaW5kb3coKTtcbiAgICB2YXIgZG9jdW1lbnQgPSBnZXREb2N1bWVudCgpO1xuICAgIHZhciBhcnIgPSBbXTtcblxuICAgIGlmICghY29udGV4dCAmJiBzZWxlY3RvciBpbnN0YW5jZW9mIERvbTcpIHtcbiAgICAgIHJldHVybiBzZWxlY3RvcjtcbiAgICB9XG5cbiAgICBpZiAoIXNlbGVjdG9yKSB7XG4gICAgICByZXR1cm4gbmV3IERvbTcoYXJyKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHNlbGVjdG9yID09PSAnc3RyaW5nJykge1xuICAgICAgdmFyIGh0bWwgPSBzZWxlY3Rvci50cmltKCk7XG5cbiAgICAgIGlmIChodG1sLmluZGV4T2YoJzwnKSA+PSAwICYmIGh0bWwuaW5kZXhPZignPicpID49IDApIHtcbiAgICAgICAgdmFyIHRvQ3JlYXRlID0gJ2Rpdic7XG4gICAgICAgIGlmIChodG1sLmluZGV4T2YoJzxsaScpID09PSAwKSB0b0NyZWF0ZSA9ICd1bCc7XG4gICAgICAgIGlmIChodG1sLmluZGV4T2YoJzx0cicpID09PSAwKSB0b0NyZWF0ZSA9ICd0Ym9keSc7XG4gICAgICAgIGlmIChodG1sLmluZGV4T2YoJzx0ZCcpID09PSAwIHx8IGh0bWwuaW5kZXhPZignPHRoJykgPT09IDApIHRvQ3JlYXRlID0gJ3RyJztcbiAgICAgICAgaWYgKGh0bWwuaW5kZXhPZignPHRib2R5JykgPT09IDApIHRvQ3JlYXRlID0gJ3RhYmxlJztcbiAgICAgICAgaWYgKGh0bWwuaW5kZXhPZignPG9wdGlvbicpID09PSAwKSB0b0NyZWF0ZSA9ICdzZWxlY3QnO1xuICAgICAgICB2YXIgdGVtcFBhcmVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodG9DcmVhdGUpO1xuICAgICAgICB0ZW1wUGFyZW50LmlubmVySFRNTCA9IGh0bWw7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZW1wUGFyZW50LmNoaWxkTm9kZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICBhcnIucHVzaCh0ZW1wUGFyZW50LmNoaWxkTm9kZXNbaV0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhcnIgPSBxc2Eoc2VsZWN0b3IudHJpbSgpLCBjb250ZXh0IHx8IGRvY3VtZW50KTtcbiAgICAgIH0gLy8gYXJyID0gcXNhKHNlbGVjdG9yLCBkb2N1bWVudCk7XG5cbiAgICB9IGVsc2UgaWYgKHNlbGVjdG9yLm5vZGVUeXBlIHx8IHNlbGVjdG9yID09PSB3aW5kb3cgfHwgc2VsZWN0b3IgPT09IGRvY3VtZW50KSB7XG4gICAgICBhcnIucHVzaChzZWxlY3Rvcik7XG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHNlbGVjdG9yKSkge1xuICAgICAgaWYgKHNlbGVjdG9yIGluc3RhbmNlb2YgRG9tNykgcmV0dXJuIHNlbGVjdG9yO1xuICAgICAgYXJyID0gc2VsZWN0b3I7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBEb203KGFycmF5VW5pcXVlKGFycikpO1xuICB9XG5cbiAgJC5mbiA9IERvbTcucHJvdG90eXBlO1xuXG4gIGZ1bmN0aW9uIGFkZENsYXNzKCkge1xuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBjbGFzc2VzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgY2xhc3Nlc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICB2YXIgY2xhc3NOYW1lcyA9IGFycmF5RmxhdChjbGFzc2VzLm1hcChmdW5jdGlvbiAoYykge1xuICAgICAgcmV0dXJuIGMuc3BsaXQoJyAnKTtcbiAgICB9KSk7XG4gICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uIChlbCkge1xuICAgICAgdmFyIF9lbCRjbGFzc0xpc3Q7XG5cbiAgICAgIChfZWwkY2xhc3NMaXN0ID0gZWwuY2xhc3NMaXN0KS5hZGQuYXBwbHkoX2VsJGNsYXNzTGlzdCwgY2xhc3NOYW1lcyk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBmdW5jdGlvbiByZW1vdmVDbGFzcygpIHtcbiAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGNsYXNzZXMgPSBuZXcgQXJyYXkoX2xlbjIpLCBfa2V5MiA9IDA7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICAgIGNsYXNzZXNbX2tleTJdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICB9XG5cbiAgICB2YXIgY2xhc3NOYW1lcyA9IGFycmF5RmxhdChjbGFzc2VzLm1hcChmdW5jdGlvbiAoYykge1xuICAgICAgcmV0dXJuIGMuc3BsaXQoJyAnKTtcbiAgICB9KSk7XG4gICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uIChlbCkge1xuICAgICAgdmFyIF9lbCRjbGFzc0xpc3QyO1xuXG4gICAgICAoX2VsJGNsYXNzTGlzdDIgPSBlbC5jbGFzc0xpc3QpLnJlbW92ZS5hcHBseShfZWwkY2xhc3NMaXN0MiwgY2xhc3NOYW1lcyk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBmdW5jdGlvbiB0b2dnbGVDbGFzcygpIHtcbiAgICBmb3IgKHZhciBfbGVuMyA9IGFyZ3VtZW50cy5sZW5ndGgsIGNsYXNzZXMgPSBuZXcgQXJyYXkoX2xlbjMpLCBfa2V5MyA9IDA7IF9rZXkzIDwgX2xlbjM7IF9rZXkzKyspIHtcbiAgICAgIGNsYXNzZXNbX2tleTNdID0gYXJndW1lbnRzW19rZXkzXTtcbiAgICB9XG5cbiAgICB2YXIgY2xhc3NOYW1lcyA9IGFycmF5RmxhdChjbGFzc2VzLm1hcChmdW5jdGlvbiAoYykge1xuICAgICAgcmV0dXJuIGMuc3BsaXQoJyAnKTtcbiAgICB9KSk7XG4gICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uIChlbCkge1xuICAgICAgY2xhc3NOYW1lcy5mb3JFYWNoKGZ1bmN0aW9uIChjbGFzc05hbWUpIHtcbiAgICAgICAgZWwuY2xhc3NMaXN0LnRvZ2dsZShjbGFzc05hbWUpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBoYXNDbGFzcygpIHtcbiAgICBmb3IgKHZhciBfbGVuNCA9IGFyZ3VtZW50cy5sZW5ndGgsIGNsYXNzZXMgPSBuZXcgQXJyYXkoX2xlbjQpLCBfa2V5NCA9IDA7IF9rZXk0IDwgX2xlbjQ7IF9rZXk0KyspIHtcbiAgICAgIGNsYXNzZXNbX2tleTRdID0gYXJndW1lbnRzW19rZXk0XTtcbiAgICB9XG5cbiAgICB2YXIgY2xhc3NOYW1lcyA9IGFycmF5RmxhdChjbGFzc2VzLm1hcChmdW5jdGlvbiAoYykge1xuICAgICAgcmV0dXJuIGMuc3BsaXQoJyAnKTtcbiAgICB9KSk7XG4gICAgcmV0dXJuIGFycmF5RmlsdGVyKHRoaXMsIGZ1bmN0aW9uIChlbCkge1xuICAgICAgcmV0dXJuIGNsYXNzTmFtZXMuZmlsdGVyKGZ1bmN0aW9uIChjbGFzc05hbWUpIHtcbiAgICAgICAgcmV0dXJuIGVsLmNsYXNzTGlzdC5jb250YWlucyhjbGFzc05hbWUpO1xuICAgICAgfSkubGVuZ3RoID4gMDtcbiAgICB9KS5sZW5ndGggPiAwO1xuICB9XG5cbiAgZnVuY3Rpb24gYXR0cihhdHRycywgdmFsdWUpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSAmJiB0eXBlb2YgYXR0cnMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyBHZXQgYXR0clxuICAgICAgaWYgKHRoaXNbMF0pIHJldHVybiB0aGlzWzBdLmdldEF0dHJpYnV0ZShhdHRycyk7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0gLy8gU2V0IGF0dHJzXG5cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgLy8gU3RyaW5nXG4gICAgICAgIHRoaXNbaV0uc2V0QXR0cmlidXRlKGF0dHJzLCB2YWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBPYmplY3RcbiAgICAgICAgZm9yICh2YXIgYXR0ck5hbWUgaW4gYXR0cnMpIHtcbiAgICAgICAgICB0aGlzW2ldW2F0dHJOYW1lXSA9IGF0dHJzW2F0dHJOYW1lXTtcbiAgICAgICAgICB0aGlzW2ldLnNldEF0dHJpYnV0ZShhdHRyTmFtZSwgYXR0cnNbYXR0ck5hbWVdKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVtb3ZlQXR0cihhdHRyKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICB0aGlzW2ldLnJlbW92ZUF0dHJpYnV0ZShhdHRyKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGZ1bmN0aW9uIHRyYW5zZm9ybSh0cmFuc2Zvcm0pIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIHRoaXNbaV0uc3R5bGUudHJhbnNmb3JtID0gdHJhbnNmb3JtO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgZnVuY3Rpb24gdHJhbnNpdGlvbiQxKGR1cmF0aW9uKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICB0aGlzW2ldLnN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbiA9IHR5cGVvZiBkdXJhdGlvbiAhPT0gJ3N0cmluZycgPyBkdXJhdGlvbiArIFwibXNcIiA6IGR1cmF0aW9uO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgZnVuY3Rpb24gb24oKSB7XG4gICAgZm9yICh2YXIgX2xlbjUgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW41KSwgX2tleTUgPSAwOyBfa2V5NSA8IF9sZW41OyBfa2V5NSsrKSB7XG4gICAgICBhcmdzW19rZXk1XSA9IGFyZ3VtZW50c1tfa2V5NV07XG4gICAgfVxuXG4gICAgdmFyIGV2ZW50VHlwZSA9IGFyZ3NbMF0sXG4gICAgICAgIHRhcmdldFNlbGVjdG9yID0gYXJnc1sxXSxcbiAgICAgICAgbGlzdGVuZXIgPSBhcmdzWzJdLFxuICAgICAgICBjYXB0dXJlID0gYXJnc1szXTtcblxuICAgIGlmICh0eXBlb2YgYXJnc1sxXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgZXZlbnRUeXBlID0gYXJnc1swXTtcbiAgICAgIGxpc3RlbmVyID0gYXJnc1sxXTtcbiAgICAgIGNhcHR1cmUgPSBhcmdzWzJdO1xuICAgICAgdGFyZ2V0U2VsZWN0b3IgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgaWYgKCFjYXB0dXJlKSBjYXB0dXJlID0gZmFsc2U7XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVMaXZlRXZlbnQoZSkge1xuICAgICAgdmFyIHRhcmdldCA9IGUudGFyZ2V0O1xuICAgICAgaWYgKCF0YXJnZXQpIHJldHVybjtcbiAgICAgIHZhciBldmVudERhdGEgPSBlLnRhcmdldC5kb203RXZlbnREYXRhIHx8IFtdO1xuXG4gICAgICBpZiAoZXZlbnREYXRhLmluZGV4T2YoZSkgPCAwKSB7XG4gICAgICAgIGV2ZW50RGF0YS51bnNoaWZ0KGUpO1xuICAgICAgfVxuXG4gICAgICBpZiAoJCh0YXJnZXQpLmlzKHRhcmdldFNlbGVjdG9yKSkgbGlzdGVuZXIuYXBwbHkodGFyZ2V0LCBldmVudERhdGEpO2Vsc2Uge1xuICAgICAgICB2YXIgX3BhcmVudHMgPSAkKHRhcmdldCkucGFyZW50cygpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG5cblxuICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IF9wYXJlbnRzLmxlbmd0aDsgayArPSAxKSB7XG4gICAgICAgICAgaWYgKCQoX3BhcmVudHNba10pLmlzKHRhcmdldFNlbGVjdG9yKSkgbGlzdGVuZXIuYXBwbHkoX3BhcmVudHNba10sIGV2ZW50RGF0YSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVFdmVudChlKSB7XG4gICAgICB2YXIgZXZlbnREYXRhID0gZSAmJiBlLnRhcmdldCA/IGUudGFyZ2V0LmRvbTdFdmVudERhdGEgfHwgW10gOiBbXTtcblxuICAgICAgaWYgKGV2ZW50RGF0YS5pbmRleE9mKGUpIDwgMCkge1xuICAgICAgICBldmVudERhdGEudW5zaGlmdChlKTtcbiAgICAgIH1cblxuICAgICAgbGlzdGVuZXIuYXBwbHkodGhpcywgZXZlbnREYXRhKTtcbiAgICB9XG5cbiAgICB2YXIgZXZlbnRzID0gZXZlbnRUeXBlLnNwbGl0KCcgJyk7XG4gICAgdmFyIGo7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIHZhciBlbCA9IHRoaXNbaV07XG5cbiAgICAgIGlmICghdGFyZ2V0U2VsZWN0b3IpIHtcbiAgICAgICAgZm9yIChqID0gMDsgaiA8IGV2ZW50cy5sZW5ndGg7IGogKz0gMSkge1xuICAgICAgICAgIHZhciBldmVudCA9IGV2ZW50c1tqXTtcbiAgICAgICAgICBpZiAoIWVsLmRvbTdMaXN0ZW5lcnMpIGVsLmRvbTdMaXN0ZW5lcnMgPSB7fTtcbiAgICAgICAgICBpZiAoIWVsLmRvbTdMaXN0ZW5lcnNbZXZlbnRdKSBlbC5kb203TGlzdGVuZXJzW2V2ZW50XSA9IFtdO1xuICAgICAgICAgIGVsLmRvbTdMaXN0ZW5lcnNbZXZlbnRdLnB1c2goe1xuICAgICAgICAgICAgbGlzdGVuZXI6IGxpc3RlbmVyLFxuICAgICAgICAgICAgcHJveHlMaXN0ZW5lcjogaGFuZGxlRXZlbnRcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGVFdmVudCwgY2FwdHVyZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIExpdmUgZXZlbnRzXG4gICAgICAgIGZvciAoaiA9IDA7IGogPCBldmVudHMubGVuZ3RoOyBqICs9IDEpIHtcbiAgICAgICAgICB2YXIgX2V2ZW50ID0gZXZlbnRzW2pdO1xuICAgICAgICAgIGlmICghZWwuZG9tN0xpdmVMaXN0ZW5lcnMpIGVsLmRvbTdMaXZlTGlzdGVuZXJzID0ge307XG4gICAgICAgICAgaWYgKCFlbC5kb203TGl2ZUxpc3RlbmVyc1tfZXZlbnRdKSBlbC5kb203TGl2ZUxpc3RlbmVyc1tfZXZlbnRdID0gW107XG5cbiAgICAgICAgICBlbC5kb203TGl2ZUxpc3RlbmVyc1tfZXZlbnRdLnB1c2goe1xuICAgICAgICAgICAgbGlzdGVuZXI6IGxpc3RlbmVyLFxuICAgICAgICAgICAgcHJveHlMaXN0ZW5lcjogaGFuZGxlTGl2ZUV2ZW50XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKF9ldmVudCwgaGFuZGxlTGl2ZUV2ZW50LCBjYXB0dXJlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgZnVuY3Rpb24gb2ZmKCkge1xuICAgIGZvciAodmFyIF9sZW42ID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuNiksIF9rZXk2ID0gMDsgX2tleTYgPCBfbGVuNjsgX2tleTYrKykge1xuICAgICAgYXJnc1tfa2V5Nl0gPSBhcmd1bWVudHNbX2tleTZdO1xuICAgIH1cblxuICAgIHZhciBldmVudFR5cGUgPSBhcmdzWzBdLFxuICAgICAgICB0YXJnZXRTZWxlY3RvciA9IGFyZ3NbMV0sXG4gICAgICAgIGxpc3RlbmVyID0gYXJnc1syXSxcbiAgICAgICAgY2FwdHVyZSA9IGFyZ3NbM107XG5cbiAgICBpZiAodHlwZW9mIGFyZ3NbMV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGV2ZW50VHlwZSA9IGFyZ3NbMF07XG4gICAgICBsaXN0ZW5lciA9IGFyZ3NbMV07XG4gICAgICBjYXB0dXJlID0gYXJnc1syXTtcbiAgICAgIHRhcmdldFNlbGVjdG9yID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGlmICghY2FwdHVyZSkgY2FwdHVyZSA9IGZhbHNlO1xuICAgIHZhciBldmVudHMgPSBldmVudFR5cGUuc3BsaXQoJyAnKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXZlbnRzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICB2YXIgZXZlbnQgPSBldmVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGhpcy5sZW5ndGg7IGogKz0gMSkge1xuICAgICAgICB2YXIgZWwgPSB0aGlzW2pdO1xuICAgICAgICB2YXIgaGFuZGxlcnMgPSB2b2lkIDA7XG5cbiAgICAgICAgaWYgKCF0YXJnZXRTZWxlY3RvciAmJiBlbC5kb203TGlzdGVuZXJzKSB7XG4gICAgICAgICAgaGFuZGxlcnMgPSBlbC5kb203TGlzdGVuZXJzW2V2ZW50XTtcbiAgICAgICAgfSBlbHNlIGlmICh0YXJnZXRTZWxlY3RvciAmJiBlbC5kb203TGl2ZUxpc3RlbmVycykge1xuICAgICAgICAgIGhhbmRsZXJzID0gZWwuZG9tN0xpdmVMaXN0ZW5lcnNbZXZlbnRdO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhhbmRsZXJzICYmIGhhbmRsZXJzLmxlbmd0aCkge1xuICAgICAgICAgIGZvciAodmFyIGsgPSBoYW5kbGVycy5sZW5ndGggLSAxOyBrID49IDA7IGsgLT0gMSkge1xuICAgICAgICAgICAgdmFyIGhhbmRsZXIgPSBoYW5kbGVyc1trXTtcblxuICAgICAgICAgICAgaWYgKGxpc3RlbmVyICYmIGhhbmRsZXIubGlzdGVuZXIgPT09IGxpc3RlbmVyKSB7XG4gICAgICAgICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGhhbmRsZXIucHJveHlMaXN0ZW5lciwgY2FwdHVyZSk7XG4gICAgICAgICAgICAgIGhhbmRsZXJzLnNwbGljZShrLCAxKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobGlzdGVuZXIgJiYgaGFuZGxlci5saXN0ZW5lciAmJiBoYW5kbGVyLmxpc3RlbmVyLmRvbTdwcm94eSAmJiBoYW5kbGVyLmxpc3RlbmVyLmRvbTdwcm94eSA9PT0gbGlzdGVuZXIpIHtcbiAgICAgICAgICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlci5wcm94eUxpc3RlbmVyLCBjYXB0dXJlKTtcbiAgICAgICAgICAgICAgaGFuZGxlcnMuc3BsaWNlKGssIDEpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICghbGlzdGVuZXIpIHtcbiAgICAgICAgICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlci5wcm94eUxpc3RlbmVyLCBjYXB0dXJlKTtcbiAgICAgICAgICAgICAgaGFuZGxlcnMuc3BsaWNlKGssIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgZnVuY3Rpb24gdHJpZ2dlcigpIHtcbiAgICB2YXIgd2luZG93ID0gZ2V0V2luZG93KCk7XG5cbiAgICBmb3IgKHZhciBfbGVuOSA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjkpLCBfa2V5OSA9IDA7IF9rZXk5IDwgX2xlbjk7IF9rZXk5KyspIHtcbiAgICAgIGFyZ3NbX2tleTldID0gYXJndW1lbnRzW19rZXk5XTtcbiAgICB9XG5cbiAgICB2YXIgZXZlbnRzID0gYXJnc1swXS5zcGxpdCgnICcpO1xuICAgIHZhciBldmVudERhdGEgPSBhcmdzWzFdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBldmVudHMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIHZhciBldmVudCA9IGV2ZW50c1tpXTtcblxuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB0aGlzLmxlbmd0aDsgaiArPSAxKSB7XG4gICAgICAgIHZhciBlbCA9IHRoaXNbal07XG5cbiAgICAgICAgaWYgKHdpbmRvdy5DdXN0b21FdmVudCkge1xuICAgICAgICAgIHZhciBldnQgPSBuZXcgd2luZG93LkN1c3RvbUV2ZW50KGV2ZW50LCB7XG4gICAgICAgICAgICBkZXRhaWw6IGV2ZW50RGF0YSxcbiAgICAgICAgICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgICAgICAgICBjYW5jZWxhYmxlOiB0cnVlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgZWwuZG9tN0V2ZW50RGF0YSA9IGFyZ3MuZmlsdGVyKGZ1bmN0aW9uIChkYXRhLCBkYXRhSW5kZXgpIHtcbiAgICAgICAgICAgIHJldHVybiBkYXRhSW5kZXggPiAwO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGVsLmRpc3BhdGNoRXZlbnQoZXZ0KTtcbiAgICAgICAgICBlbC5kb203RXZlbnREYXRhID0gW107XG4gICAgICAgICAgZGVsZXRlIGVsLmRvbTdFdmVudERhdGE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGZ1bmN0aW9uIHRyYW5zaXRpb25FbmQkMShjYWxsYmFjaykge1xuICAgIHZhciBkb20gPSB0aGlzO1xuXG4gICAgZnVuY3Rpb24gZmlyZUNhbGxCYWNrKGUpIHtcbiAgICAgIGlmIChlLnRhcmdldCAhPT0gdGhpcykgcmV0dXJuO1xuICAgICAgY2FsbGJhY2suY2FsbCh0aGlzLCBlKTtcbiAgICAgIGRvbS5vZmYoJ3RyYW5zaXRpb25lbmQnLCBmaXJlQ2FsbEJhY2spO1xuICAgIH1cblxuICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgZG9tLm9uKCd0cmFuc2l0aW9uZW5kJywgZmlyZUNhbGxCYWNrKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGZ1bmN0aW9uIG91dGVyV2lkdGgoaW5jbHVkZU1hcmdpbnMpIHtcbiAgICBpZiAodGhpcy5sZW5ndGggPiAwKSB7XG4gICAgICBpZiAoaW5jbHVkZU1hcmdpbnMpIHtcbiAgICAgICAgdmFyIF9zdHlsZXMgPSB0aGlzLnN0eWxlcygpO1xuXG4gICAgICAgIHJldHVybiB0aGlzWzBdLm9mZnNldFdpZHRoICsgcGFyc2VGbG9hdChfc3R5bGVzLmdldFByb3BlcnR5VmFsdWUoJ21hcmdpbi1yaWdodCcpKSArIHBhcnNlRmxvYXQoX3N0eWxlcy5nZXRQcm9wZXJ0eVZhbHVlKCdtYXJnaW4tbGVmdCcpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXNbMF0ub2Zmc2V0V2lkdGg7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBmdW5jdGlvbiBvdXRlckhlaWdodChpbmNsdWRlTWFyZ2lucykge1xuICAgIGlmICh0aGlzLmxlbmd0aCA+IDApIHtcbiAgICAgIGlmIChpbmNsdWRlTWFyZ2lucykge1xuICAgICAgICB2YXIgX3N0eWxlczIgPSB0aGlzLnN0eWxlcygpO1xuXG4gICAgICAgIHJldHVybiB0aGlzWzBdLm9mZnNldEhlaWdodCArIHBhcnNlRmxvYXQoX3N0eWxlczIuZ2V0UHJvcGVydHlWYWx1ZSgnbWFyZ2luLXRvcCcpKSArIHBhcnNlRmxvYXQoX3N0eWxlczIuZ2V0UHJvcGVydHlWYWx1ZSgnbWFyZ2luLWJvdHRvbScpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXNbMF0ub2Zmc2V0SGVpZ2h0O1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgZnVuY3Rpb24gb2Zmc2V0KCkge1xuICAgIGlmICh0aGlzLmxlbmd0aCA+IDApIHtcbiAgICAgIHZhciB3aW5kb3cgPSBnZXRXaW5kb3coKTtcbiAgICAgIHZhciBkb2N1bWVudCA9IGdldERvY3VtZW50KCk7XG4gICAgICB2YXIgZWwgPSB0aGlzWzBdO1xuICAgICAgdmFyIGJveCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgdmFyIGJvZHkgPSBkb2N1bWVudC5ib2R5O1xuICAgICAgdmFyIGNsaWVudFRvcCA9IGVsLmNsaWVudFRvcCB8fCBib2R5LmNsaWVudFRvcCB8fCAwO1xuICAgICAgdmFyIGNsaWVudExlZnQgPSBlbC5jbGllbnRMZWZ0IHx8IGJvZHkuY2xpZW50TGVmdCB8fCAwO1xuICAgICAgdmFyIHNjcm9sbFRvcCA9IGVsID09PSB3aW5kb3cgPyB3aW5kb3cuc2Nyb2xsWSA6IGVsLnNjcm9sbFRvcDtcbiAgICAgIHZhciBzY3JvbGxMZWZ0ID0gZWwgPT09IHdpbmRvdyA/IHdpbmRvdy5zY3JvbGxYIDogZWwuc2Nyb2xsTGVmdDtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRvcDogYm94LnRvcCArIHNjcm9sbFRvcCAtIGNsaWVudFRvcCxcbiAgICAgICAgbGVmdDogYm94LmxlZnQgKyBzY3JvbGxMZWZ0IC0gY2xpZW50TGVmdFxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHN0eWxlcygpIHtcbiAgICB2YXIgd2luZG93ID0gZ2V0V2luZG93KCk7XG4gICAgaWYgKHRoaXNbMF0pIHJldHVybiB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzWzBdLCBudWxsKTtcbiAgICByZXR1cm4ge307XG4gIH1cblxuICBmdW5jdGlvbiBjc3MocHJvcHMsIHZhbHVlKSB7XG4gICAgdmFyIHdpbmRvdyA9IGdldFdpbmRvdygpO1xuICAgIHZhciBpO1xuXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICAgIGlmICh0eXBlb2YgcHJvcHMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIC8vIC5jc3MoJ3dpZHRoJylcbiAgICAgICAgaWYgKHRoaXNbMF0pIHJldHVybiB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzWzBdLCBudWxsKS5nZXRQcm9wZXJ0eVZhbHVlKHByb3BzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIC5jc3MoeyB3aWR0aDogJzEwMHB4JyB9KVxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgIGZvciAodmFyIF9wcm9wIGluIHByb3BzKSB7XG4gICAgICAgICAgICB0aGlzW2ldLnN0eWxlW19wcm9wXSA9IHByb3BzW19wcm9wXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMiAmJiB0eXBlb2YgcHJvcHMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyAuY3NzKCd3aWR0aCcsICcxMDBweCcpXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICB0aGlzW2ldLnN0eWxlW3Byb3BzXSA9IHZhbHVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGZ1bmN0aW9uIGVhY2goY2FsbGJhY2spIHtcbiAgICBpZiAoIWNhbGxiYWNrKSByZXR1cm4gdGhpcztcbiAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24gKGVsLCBpbmRleCkge1xuICAgICAgY2FsbGJhY2suYXBwbHkoZWwsIFtlbCwgaW5kZXhdKTtcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbHRlcihjYWxsYmFjaykge1xuICAgIHZhciByZXN1bHQgPSBhcnJheUZpbHRlcih0aGlzLCBjYWxsYmFjayk7XG4gICAgcmV0dXJuICQocmVzdWx0KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGh0bWwoaHRtbCkge1xuICAgIGlmICh0eXBlb2YgaHRtbCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybiB0aGlzWzBdID8gdGhpc1swXS5pbm5lckhUTUwgOiBudWxsO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgdGhpc1tpXS5pbm5lckhUTUwgPSBodG1sO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgZnVuY3Rpb24gdGV4dCh0ZXh0KSB7XG4gICAgaWYgKHR5cGVvZiB0ZXh0ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuIHRoaXNbMF0gPyB0aGlzWzBdLnRleHRDb250ZW50LnRyaW0oKSA6IG51bGw7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICB0aGlzW2ldLnRleHRDb250ZW50ID0gdGV4dDtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzKHNlbGVjdG9yKSB7XG4gICAgdmFyIHdpbmRvdyA9IGdldFdpbmRvdygpO1xuICAgIHZhciBkb2N1bWVudCA9IGdldERvY3VtZW50KCk7XG4gICAgdmFyIGVsID0gdGhpc1swXTtcbiAgICB2YXIgY29tcGFyZVdpdGg7XG4gICAgdmFyIGk7XG4gICAgaWYgKCFlbCB8fCB0eXBlb2Ygc2VsZWN0b3IgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gZmFsc2U7XG5cbiAgICBpZiAodHlwZW9mIHNlbGVjdG9yID09PSAnc3RyaW5nJykge1xuICAgICAgaWYgKGVsLm1hdGNoZXMpIHJldHVybiBlbC5tYXRjaGVzKHNlbGVjdG9yKTtcbiAgICAgIGlmIChlbC53ZWJraXRNYXRjaGVzU2VsZWN0b3IpIHJldHVybiBlbC53ZWJraXRNYXRjaGVzU2VsZWN0b3Ioc2VsZWN0b3IpO1xuICAgICAgaWYgKGVsLm1zTWF0Y2hlc1NlbGVjdG9yKSByZXR1cm4gZWwubXNNYXRjaGVzU2VsZWN0b3Ioc2VsZWN0b3IpO1xuICAgICAgY29tcGFyZVdpdGggPSAkKHNlbGVjdG9yKTtcblxuICAgICAgZm9yIChpID0gMDsgaSA8IGNvbXBhcmVXaXRoLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGlmIChjb21wYXJlV2l0aFtpXSA9PT0gZWwpIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKHNlbGVjdG9yID09PSBkb2N1bWVudCkge1xuICAgICAgcmV0dXJuIGVsID09PSBkb2N1bWVudDtcbiAgICB9XG5cbiAgICBpZiAoc2VsZWN0b3IgPT09IHdpbmRvdykge1xuICAgICAgcmV0dXJuIGVsID09PSB3aW5kb3c7XG4gICAgfVxuXG4gICAgaWYgKHNlbGVjdG9yLm5vZGVUeXBlIHx8IHNlbGVjdG9yIGluc3RhbmNlb2YgRG9tNykge1xuICAgICAgY29tcGFyZVdpdGggPSBzZWxlY3Rvci5ub2RlVHlwZSA/IFtzZWxlY3Rvcl0gOiBzZWxlY3RvcjtcblxuICAgICAgZm9yIChpID0gMDsgaSA8IGNvbXBhcmVXaXRoLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGlmIChjb21wYXJlV2l0aFtpXSA9PT0gZWwpIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5kZXgoKSB7XG4gICAgdmFyIGNoaWxkID0gdGhpc1swXTtcbiAgICB2YXIgaTtcblxuICAgIGlmIChjaGlsZCkge1xuICAgICAgaSA9IDA7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuXG4gICAgICB3aGlsZSAoKGNoaWxkID0gY2hpbGQucHJldmlvdXNTaWJsaW5nKSAhPT0gbnVsbCkge1xuICAgICAgICBpZiAoY2hpbGQubm9kZVR5cGUgPT09IDEpIGkgKz0gMTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGVxKGluZGV4KSB7XG4gICAgaWYgKHR5cGVvZiBpbmRleCA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiB0aGlzO1xuICAgIHZhciBsZW5ndGggPSB0aGlzLmxlbmd0aDtcblxuICAgIGlmIChpbmRleCA+IGxlbmd0aCAtIDEpIHtcbiAgICAgIHJldHVybiAkKFtdKTtcbiAgICB9XG5cbiAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICB2YXIgcmV0dXJuSW5kZXggPSBsZW5ndGggKyBpbmRleDtcbiAgICAgIGlmIChyZXR1cm5JbmRleCA8IDApIHJldHVybiAkKFtdKTtcbiAgICAgIHJldHVybiAkKFt0aGlzW3JldHVybkluZGV4XV0pO1xuICAgIH1cblxuICAgIHJldHVybiAkKFt0aGlzW2luZGV4XV0pO1xuICB9XG5cbiAgZnVuY3Rpb24gYXBwZW5kKCkge1xuICAgIHZhciBuZXdDaGlsZDtcbiAgICB2YXIgZG9jdW1lbnQgPSBnZXREb2N1bWVudCgpO1xuXG4gICAgZm9yICh2YXIgayA9IDA7IGsgPCBhcmd1bWVudHMubGVuZ3RoOyBrICs9IDEpIHtcbiAgICAgIG5ld0NoaWxkID0gayA8IDAgfHwgYXJndW1lbnRzLmxlbmd0aCA8PSBrID8gdW5kZWZpbmVkIDogYXJndW1lbnRzW2tdO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBuZXdDaGlsZCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICB2YXIgdGVtcERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgIHRlbXBEaXYuaW5uZXJIVE1MID0gbmV3Q2hpbGQ7XG5cbiAgICAgICAgICB3aGlsZSAodGVtcERpdi5maXJzdENoaWxkKSB7XG4gICAgICAgICAgICB0aGlzW2ldLmFwcGVuZENoaWxkKHRlbXBEaXYuZmlyc3RDaGlsZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKG5ld0NoaWxkIGluc3RhbmNlb2YgRG9tNykge1xuICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbmV3Q2hpbGQubGVuZ3RoOyBqICs9IDEpIHtcbiAgICAgICAgICAgIHRoaXNbaV0uYXBwZW5kQ2hpbGQobmV3Q2hpbGRbal0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzW2ldLmFwcGVuZENoaWxkKG5ld0NoaWxkKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgZnVuY3Rpb24gcHJlcGVuZChuZXdDaGlsZCkge1xuICAgIHZhciBkb2N1bWVudCA9IGdldERvY3VtZW50KCk7XG4gICAgdmFyIGk7XG4gICAgdmFyIGo7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgaWYgKHR5cGVvZiBuZXdDaGlsZCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdmFyIHRlbXBEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGVtcERpdi5pbm5lckhUTUwgPSBuZXdDaGlsZDtcblxuICAgICAgICBmb3IgKGogPSB0ZW1wRGl2LmNoaWxkTm9kZXMubGVuZ3RoIC0gMTsgaiA+PSAwOyBqIC09IDEpIHtcbiAgICAgICAgICB0aGlzW2ldLmluc2VydEJlZm9yZSh0ZW1wRGl2LmNoaWxkTm9kZXNbal0sIHRoaXNbaV0uY2hpbGROb2Rlc1swXSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAobmV3Q2hpbGQgaW5zdGFuY2VvZiBEb203KSB7XG4gICAgICAgIGZvciAoaiA9IDA7IGogPCBuZXdDaGlsZC5sZW5ndGg7IGogKz0gMSkge1xuICAgICAgICAgIHRoaXNbaV0uaW5zZXJ0QmVmb3JlKG5ld0NoaWxkW2pdLCB0aGlzW2ldLmNoaWxkTm9kZXNbMF0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzW2ldLmluc2VydEJlZm9yZShuZXdDaGlsZCwgdGhpc1tpXS5jaGlsZE5vZGVzWzBdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGZ1bmN0aW9uIG5leHQoc2VsZWN0b3IpIHtcbiAgICBpZiAodGhpcy5sZW5ndGggPiAwKSB7XG4gICAgICBpZiAoc2VsZWN0b3IpIHtcbiAgICAgICAgaWYgKHRoaXNbMF0ubmV4dEVsZW1lbnRTaWJsaW5nICYmICQodGhpc1swXS5uZXh0RWxlbWVudFNpYmxpbmcpLmlzKHNlbGVjdG9yKSkge1xuICAgICAgICAgIHJldHVybiAkKFt0aGlzWzBdLm5leHRFbGVtZW50U2libGluZ10pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICQoW10pO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpc1swXS5uZXh0RWxlbWVudFNpYmxpbmcpIHJldHVybiAkKFt0aGlzWzBdLm5leHRFbGVtZW50U2libGluZ10pO1xuICAgICAgcmV0dXJuICQoW10pO1xuICAgIH1cblxuICAgIHJldHVybiAkKFtdKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG5leHRBbGwoc2VsZWN0b3IpIHtcbiAgICB2YXIgbmV4dEVscyA9IFtdO1xuICAgIHZhciBlbCA9IHRoaXNbMF07XG4gICAgaWYgKCFlbCkgcmV0dXJuICQoW10pO1xuXG4gICAgd2hpbGUgKGVsLm5leHRFbGVtZW50U2libGluZykge1xuICAgICAgdmFyIF9uZXh0ID0gZWwubmV4dEVsZW1lbnRTaWJsaW5nOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG5cbiAgICAgIGlmIChzZWxlY3Rvcikge1xuICAgICAgICBpZiAoJChfbmV4dCkuaXMoc2VsZWN0b3IpKSBuZXh0RWxzLnB1c2goX25leHQpO1xuICAgICAgfSBlbHNlIG5leHRFbHMucHVzaChfbmV4dCk7XG5cbiAgICAgIGVsID0gX25leHQ7XG4gICAgfVxuXG4gICAgcmV0dXJuICQobmV4dEVscyk7XG4gIH1cblxuICBmdW5jdGlvbiBwcmV2KHNlbGVjdG9yKSB7XG4gICAgaWYgKHRoaXMubGVuZ3RoID4gMCkge1xuICAgICAgdmFyIGVsID0gdGhpc1swXTtcblxuICAgICAgaWYgKHNlbGVjdG9yKSB7XG4gICAgICAgIGlmIChlbC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nICYmICQoZWwucHJldmlvdXNFbGVtZW50U2libGluZykuaXMoc2VsZWN0b3IpKSB7XG4gICAgICAgICAgcmV0dXJuICQoW2VsLnByZXZpb3VzRWxlbWVudFNpYmxpbmddKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAkKFtdKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGVsLnByZXZpb3VzRWxlbWVudFNpYmxpbmcpIHJldHVybiAkKFtlbC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nXSk7XG4gICAgICByZXR1cm4gJChbXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuICQoW10pO1xuICB9XG5cbiAgZnVuY3Rpb24gcHJldkFsbChzZWxlY3Rvcikge1xuICAgIHZhciBwcmV2RWxzID0gW107XG4gICAgdmFyIGVsID0gdGhpc1swXTtcbiAgICBpZiAoIWVsKSByZXR1cm4gJChbXSk7XG5cbiAgICB3aGlsZSAoZWwucHJldmlvdXNFbGVtZW50U2libGluZykge1xuICAgICAgdmFyIF9wcmV2ID0gZWwucHJldmlvdXNFbGVtZW50U2libGluZzsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuXG4gICAgICBpZiAoc2VsZWN0b3IpIHtcbiAgICAgICAgaWYgKCQoX3ByZXYpLmlzKHNlbGVjdG9yKSkgcHJldkVscy5wdXNoKF9wcmV2KTtcbiAgICAgIH0gZWxzZSBwcmV2RWxzLnB1c2goX3ByZXYpO1xuXG4gICAgICBlbCA9IF9wcmV2O1xuICAgIH1cblxuICAgIHJldHVybiAkKHByZXZFbHMpO1xuICB9XG5cbiAgZnVuY3Rpb24gcGFyZW50KHNlbGVjdG9yKSB7XG4gICAgdmFyIHBhcmVudHMgPSBbXTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBpZiAodGhpc1tpXS5wYXJlbnROb2RlICE9PSBudWxsKSB7XG4gICAgICAgIGlmIChzZWxlY3Rvcikge1xuICAgICAgICAgIGlmICgkKHRoaXNbaV0ucGFyZW50Tm9kZSkuaXMoc2VsZWN0b3IpKSBwYXJlbnRzLnB1c2godGhpc1tpXS5wYXJlbnROb2RlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwYXJlbnRzLnB1c2godGhpc1tpXS5wYXJlbnROb2RlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiAkKHBhcmVudHMpO1xuICB9XG5cbiAgZnVuY3Rpb24gcGFyZW50cyhzZWxlY3Rvcikge1xuICAgIHZhciBwYXJlbnRzID0gW107IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgdmFyIF9wYXJlbnQgPSB0aGlzW2ldLnBhcmVudE5vZGU7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcblxuICAgICAgd2hpbGUgKF9wYXJlbnQpIHtcbiAgICAgICAgaWYgKHNlbGVjdG9yKSB7XG4gICAgICAgICAgaWYgKCQoX3BhcmVudCkuaXMoc2VsZWN0b3IpKSBwYXJlbnRzLnB1c2goX3BhcmVudCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGFyZW50cy5wdXNoKF9wYXJlbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgX3BhcmVudCA9IF9wYXJlbnQucGFyZW50Tm9kZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gJChwYXJlbnRzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNsb3Nlc3Qoc2VsZWN0b3IpIHtcbiAgICB2YXIgY2xvc2VzdCA9IHRoaXM7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcblxuICAgIGlmICh0eXBlb2Ygc2VsZWN0b3IgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm4gJChbXSk7XG4gICAgfVxuXG4gICAgaWYgKCFjbG9zZXN0LmlzKHNlbGVjdG9yKSkge1xuICAgICAgY2xvc2VzdCA9IGNsb3Nlc3QucGFyZW50cyhzZWxlY3RvcikuZXEoMCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNsb3Nlc3Q7XG4gIH1cblxuICBmdW5jdGlvbiBmaW5kKHNlbGVjdG9yKSB7XG4gICAgdmFyIGZvdW5kRWxlbWVudHMgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIGZvdW5kID0gdGhpc1tpXS5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmxvZyhzZWxlY3Rvcik7XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZm91bmQubGVuZ3RoOyBqICs9IDEpIHtcbiAgICAgICAgZm91bmRFbGVtZW50cy5wdXNoKGZvdW5kW2pdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gJChmb3VuZEVsZW1lbnRzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNoaWxkcmVuKHNlbGVjdG9yKSB7XG4gICAgdmFyIGNoaWxkcmVuID0gW107IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgdmFyIGNoaWxkTm9kZXMgPSB0aGlzW2ldLmNoaWxkcmVuO1xuXG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGNoaWxkTm9kZXMubGVuZ3RoOyBqICs9IDEpIHtcbiAgICAgICAgaWYgKCFzZWxlY3RvciB8fCAkKGNoaWxkTm9kZXNbal0pLmlzKHNlbGVjdG9yKSkge1xuICAgICAgICAgIGNoaWxkcmVuLnB1c2goY2hpbGROb2Rlc1tqXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gJChjaGlsZHJlbik7XG4gIH1cblxuICBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBpZiAodGhpc1tpXS5wYXJlbnROb2RlKSB0aGlzW2ldLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpc1tpXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICB2YXIgTWV0aG9kcyA9IHtcbiAgICBhZGRDbGFzczogYWRkQ2xhc3MsXG4gICAgcmVtb3ZlQ2xhc3M6IHJlbW92ZUNsYXNzLFxuICAgIGhhc0NsYXNzOiBoYXNDbGFzcyxcbiAgICB0b2dnbGVDbGFzczogdG9nZ2xlQ2xhc3MsXG4gICAgYXR0cjogYXR0cixcbiAgICByZW1vdmVBdHRyOiByZW1vdmVBdHRyLFxuICAgIHRyYW5zZm9ybTogdHJhbnNmb3JtLFxuICAgIHRyYW5zaXRpb246IHRyYW5zaXRpb24kMSxcbiAgICBvbjogb24sXG4gICAgb2ZmOiBvZmYsXG4gICAgdHJpZ2dlcjogdHJpZ2dlcixcbiAgICB0cmFuc2l0aW9uRW5kOiB0cmFuc2l0aW9uRW5kJDEsXG4gICAgb3V0ZXJXaWR0aDogb3V0ZXJXaWR0aCxcbiAgICBvdXRlckhlaWdodDogb3V0ZXJIZWlnaHQsXG4gICAgc3R5bGVzOiBzdHlsZXMsXG4gICAgb2Zmc2V0OiBvZmZzZXQsXG4gICAgY3NzOiBjc3MsXG4gICAgZWFjaDogZWFjaCxcbiAgICBodG1sOiBodG1sLFxuICAgIHRleHQ6IHRleHQsXG4gICAgaXM6IGlzLFxuICAgIGluZGV4OiBpbmRleCxcbiAgICBlcTogZXEsXG4gICAgYXBwZW5kOiBhcHBlbmQsXG4gICAgcHJlcGVuZDogcHJlcGVuZCxcbiAgICBuZXh0OiBuZXh0LFxuICAgIG5leHRBbGw6IG5leHRBbGwsXG4gICAgcHJldjogcHJldixcbiAgICBwcmV2QWxsOiBwcmV2QWxsLFxuICAgIHBhcmVudDogcGFyZW50LFxuICAgIHBhcmVudHM6IHBhcmVudHMsXG4gICAgY2xvc2VzdDogY2xvc2VzdCxcbiAgICBmaW5kOiBmaW5kLFxuICAgIGNoaWxkcmVuOiBjaGlsZHJlbixcbiAgICBmaWx0ZXI6IGZpbHRlcixcbiAgICByZW1vdmU6IHJlbW92ZVxuICB9O1xuICBPYmplY3Qua2V5cyhNZXRob2RzKS5mb3JFYWNoKGZ1bmN0aW9uIChtZXRob2ROYW1lKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KCQuZm4sIG1ldGhvZE5hbWUsIHtcbiAgICAgIHZhbHVlOiBNZXRob2RzW21ldGhvZE5hbWVdLFxuICAgICAgd3JpdGFibGU6IHRydWVcbiAgICB9KTtcbiAgfSk7XG5cbiAgZnVuY3Rpb24gZGVsZXRlUHJvcHMob2JqKSB7XG4gICAgdmFyIG9iamVjdCA9IG9iajtcbiAgICBPYmplY3Qua2V5cyhvYmplY3QpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgb2JqZWN0W2tleV0gPSBudWxsO1xuICAgICAgfSBjYXRjaCAoZSkgey8vIG5vIGdldHRlciBmb3Igb2JqZWN0XG4gICAgICB9XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGRlbGV0ZSBvYmplY3Rba2V5XTtcbiAgICAgIH0gY2F0Y2ggKGUpIHsvLyBzb21ldGhpbmcgZ290IHdyb25nXG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBuZXh0VGljayhjYWxsYmFjaywgZGVsYXkpIHtcbiAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkge1xuICAgICAgZGVsYXkgPSAwO1xuICAgIH1cblxuICAgIHJldHVybiBzZXRUaW1lb3V0KGNhbGxiYWNrLCBkZWxheSk7XG4gIH1cblxuICBmdW5jdGlvbiBub3coKSB7XG4gICAgcmV0dXJuIERhdGUubm93KCk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRDb21wdXRlZFN0eWxlJDEoZWwpIHtcbiAgICB2YXIgd2luZG93ID0gZ2V0V2luZG93KCk7XG4gICAgdmFyIHN0eWxlO1xuXG4gICAgaWYgKHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKSB7XG4gICAgICBzdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsLCBudWxsKTtcbiAgICB9XG5cbiAgICBpZiAoIXN0eWxlICYmIGVsLmN1cnJlbnRTdHlsZSkge1xuICAgICAgc3R5bGUgPSBlbC5jdXJyZW50U3R5bGU7XG4gICAgfVxuXG4gICAgaWYgKCFzdHlsZSkge1xuICAgICAgc3R5bGUgPSBlbC5zdHlsZTtcbiAgICB9XG5cbiAgICByZXR1cm4gc3R5bGU7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRUcmFuc2xhdGUoZWwsIGF4aXMpIHtcbiAgICBpZiAoYXhpcyA9PT0gdm9pZCAwKSB7XG4gICAgICBheGlzID0gJ3gnO1xuICAgIH1cblxuICAgIHZhciB3aW5kb3cgPSBnZXRXaW5kb3coKTtcbiAgICB2YXIgbWF0cml4O1xuICAgIHZhciBjdXJUcmFuc2Zvcm07XG4gICAgdmFyIHRyYW5zZm9ybU1hdHJpeDtcbiAgICB2YXIgY3VyU3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlJDEoZWwpO1xuXG4gICAgaWYgKHdpbmRvdy5XZWJLaXRDU1NNYXRyaXgpIHtcbiAgICAgIGN1clRyYW5zZm9ybSA9IGN1clN0eWxlLnRyYW5zZm9ybSB8fCBjdXJTdHlsZS53ZWJraXRUcmFuc2Zvcm07XG5cbiAgICAgIGlmIChjdXJUcmFuc2Zvcm0uc3BsaXQoJywnKS5sZW5ndGggPiA2KSB7XG4gICAgICAgIGN1clRyYW5zZm9ybSA9IGN1clRyYW5zZm9ybS5zcGxpdCgnLCAnKS5tYXAoZnVuY3Rpb24gKGEpIHtcbiAgICAgICAgICByZXR1cm4gYS5yZXBsYWNlKCcsJywgJy4nKTtcbiAgICAgICAgfSkuam9pbignLCAnKTtcbiAgICAgIH0gLy8gU29tZSBvbGQgdmVyc2lvbnMgb2YgV2Via2l0IGNob2tlIHdoZW4gJ25vbmUnIGlzIHBhc3NlZDsgcGFzc1xuICAgICAgLy8gZW1wdHkgc3RyaW5nIGluc3RlYWQgaW4gdGhpcyBjYXNlXG5cblxuICAgICAgdHJhbnNmb3JtTWF0cml4ID0gbmV3IHdpbmRvdy5XZWJLaXRDU1NNYXRyaXgoY3VyVHJhbnNmb3JtID09PSAnbm9uZScgPyAnJyA6IGN1clRyYW5zZm9ybSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRyYW5zZm9ybU1hdHJpeCA9IGN1clN0eWxlLk1velRyYW5zZm9ybSB8fCBjdXJTdHlsZS5PVHJhbnNmb3JtIHx8IGN1clN0eWxlLk1zVHJhbnNmb3JtIHx8IGN1clN0eWxlLm1zVHJhbnNmb3JtIHx8IGN1clN0eWxlLnRyYW5zZm9ybSB8fCBjdXJTdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCd0cmFuc2Zvcm0nKS5yZXBsYWNlKCd0cmFuc2xhdGUoJywgJ21hdHJpeCgxLCAwLCAwLCAxLCcpO1xuICAgICAgbWF0cml4ID0gdHJhbnNmb3JtTWF0cml4LnRvU3RyaW5nKCkuc3BsaXQoJywnKTtcbiAgICB9XG5cbiAgICBpZiAoYXhpcyA9PT0gJ3gnKSB7XG4gICAgICAvLyBMYXRlc3QgQ2hyb21lIGFuZCB3ZWJraXRzIEZpeFxuICAgICAgaWYgKHdpbmRvdy5XZWJLaXRDU1NNYXRyaXgpIGN1clRyYW5zZm9ybSA9IHRyYW5zZm9ybU1hdHJpeC5tNDE7IC8vIENyYXp5IElFMTAgTWF0cml4XG4gICAgICBlbHNlIGlmIChtYXRyaXgubGVuZ3RoID09PSAxNikgY3VyVHJhbnNmb3JtID0gcGFyc2VGbG9hdChtYXRyaXhbMTJdKTsgLy8gTm9ybWFsIEJyb3dzZXJzXG4gICAgICAgIGVsc2UgY3VyVHJhbnNmb3JtID0gcGFyc2VGbG9hdChtYXRyaXhbNF0pO1xuICAgIH1cblxuICAgIGlmIChheGlzID09PSAneScpIHtcbiAgICAgIC8vIExhdGVzdCBDaHJvbWUgYW5kIHdlYmtpdHMgRml4XG4gICAgICBpZiAod2luZG93LldlYktpdENTU01hdHJpeCkgY3VyVHJhbnNmb3JtID0gdHJhbnNmb3JtTWF0cml4Lm00MjsgLy8gQ3JhenkgSUUxMCBNYXRyaXhcbiAgICAgIGVsc2UgaWYgKG1hdHJpeC5sZW5ndGggPT09IDE2KSBjdXJUcmFuc2Zvcm0gPSBwYXJzZUZsb2F0KG1hdHJpeFsxM10pOyAvLyBOb3JtYWwgQnJvd3NlcnNcbiAgICAgICAgZWxzZSBjdXJUcmFuc2Zvcm0gPSBwYXJzZUZsb2F0KG1hdHJpeFs1XSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGN1clRyYW5zZm9ybSB8fCAwO1xuICB9XG5cbiAgZnVuY3Rpb24gaXNPYmplY3Qobykge1xuICAgIHJldHVybiB0eXBlb2YgbyA9PT0gJ29iamVjdCcgJiYgbyAhPT0gbnVsbCAmJiBvLmNvbnN0cnVjdG9yICYmIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSkgPT09ICdPYmplY3QnO1xuICB9XG5cbiAgZnVuY3Rpb24gaXNOb2RlKG5vZGUpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHdpbmRvdy5IVE1MRWxlbWVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybiBub2RlIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5vZGUgJiYgKG5vZGUubm9kZVR5cGUgPT09IDEgfHwgbm9kZS5ub2RlVHlwZSA9PT0gMTEpO1xuICB9XG5cbiAgZnVuY3Rpb24gZXh0ZW5kKCkge1xuICAgIHZhciB0byA9IE9iamVjdChhcmd1bWVudHMubGVuZ3RoIDw9IDAgPyB1bmRlZmluZWQgOiBhcmd1bWVudHNbMF0pO1xuICAgIHZhciBub0V4dGVuZCA9IFsnX19wcm90b19fJywgJ2NvbnN0cnVjdG9yJywgJ3Byb3RvdHlwZSddO1xuXG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIHZhciBuZXh0U291cmNlID0gaSA8IDAgfHwgYXJndW1lbnRzLmxlbmd0aCA8PSBpID8gdW5kZWZpbmVkIDogYXJndW1lbnRzW2ldO1xuXG4gICAgICBpZiAobmV4dFNvdXJjZSAhPT0gdW5kZWZpbmVkICYmIG5leHRTb3VyY2UgIT09IG51bGwgJiYgIWlzTm9kZShuZXh0U291cmNlKSkge1xuICAgICAgICB2YXIga2V5c0FycmF5ID0gT2JqZWN0LmtleXMoT2JqZWN0KG5leHRTb3VyY2UpKS5maWx0ZXIoZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgIHJldHVybiBub0V4dGVuZC5pbmRleE9mKGtleSkgPCAwO1xuICAgICAgICB9KTtcblxuICAgICAgICBmb3IgKHZhciBuZXh0SW5kZXggPSAwLCBsZW4gPSBrZXlzQXJyYXkubGVuZ3RoOyBuZXh0SW5kZXggPCBsZW47IG5leHRJbmRleCArPSAxKSB7XG4gICAgICAgICAgdmFyIG5leHRLZXkgPSBrZXlzQXJyYXlbbmV4dEluZGV4XTtcbiAgICAgICAgICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobmV4dFNvdXJjZSwgbmV4dEtleSk7XG5cbiAgICAgICAgICBpZiAoZGVzYyAhPT0gdW5kZWZpbmVkICYmIGRlc2MuZW51bWVyYWJsZSkge1xuICAgICAgICAgICAgaWYgKGlzT2JqZWN0KHRvW25leHRLZXldKSAmJiBpc09iamVjdChuZXh0U291cmNlW25leHRLZXldKSkge1xuICAgICAgICAgICAgICBpZiAobmV4dFNvdXJjZVtuZXh0S2V5XS5fX3N3aXBlcl9fKSB7XG4gICAgICAgICAgICAgICAgdG9bbmV4dEtleV0gPSBuZXh0U291cmNlW25leHRLZXldO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGV4dGVuZCh0b1tuZXh0S2V5XSwgbmV4dFNvdXJjZVtuZXh0S2V5XSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIWlzT2JqZWN0KHRvW25leHRLZXldKSAmJiBpc09iamVjdChuZXh0U291cmNlW25leHRLZXldKSkge1xuICAgICAgICAgICAgICB0b1tuZXh0S2V5XSA9IHt9O1xuXG4gICAgICAgICAgICAgIGlmIChuZXh0U291cmNlW25leHRLZXldLl9fc3dpcGVyX18pIHtcbiAgICAgICAgICAgICAgICB0b1tuZXh0S2V5XSA9IG5leHRTb3VyY2VbbmV4dEtleV07XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZXh0ZW5kKHRvW25leHRLZXldLCBuZXh0U291cmNlW25leHRLZXldKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdG9bbmV4dEtleV0gPSBuZXh0U291cmNlW25leHRLZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0bztcbiAgfVxuXG4gIGZ1bmN0aW9uIGJpbmRNb2R1bGVNZXRob2RzKGluc3RhbmNlLCBvYmopIHtcbiAgICBPYmplY3Qua2V5cyhvYmopLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgaWYgKGlzT2JqZWN0KG9ialtrZXldKSkge1xuICAgICAgICBPYmplY3Qua2V5cyhvYmpba2V5XSkuZm9yRWFjaChmdW5jdGlvbiAoc3ViS2V5KSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBvYmpba2V5XVtzdWJLZXldID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBvYmpba2V5XVtzdWJLZXldID0gb2JqW2tleV1bc3ViS2V5XS5iaW5kKGluc3RhbmNlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpbnN0YW5jZVtrZXldID0gb2JqW2tleV07XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBjbGFzc2VzVG9TZWxlY3RvcihjbGFzc2VzKSB7XG4gICAgaWYgKGNsYXNzZXMgPT09IHZvaWQgMCkge1xuICAgICAgY2xhc3NlcyA9ICcnO1xuICAgIH1cblxuICAgIHJldHVybiBcIi5cIiArIGNsYXNzZXMudHJpbSgpLnJlcGxhY2UoLyhbXFwuOlxcL10pL2csICdcXFxcJDEnKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgLnJlcGxhY2UoLyAvZywgJy4nKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnRJZk5vdERlZmluZWQoJGNvbnRhaW5lciwgcGFyYW1zLCBjcmVhdGVFbGVtZW50cywgY2hlY2tQcm9wcykge1xuICAgIHZhciBkb2N1bWVudCA9IGdldERvY3VtZW50KCk7XG5cbiAgICBpZiAoY3JlYXRlRWxlbWVudHMpIHtcbiAgICAgIE9iamVjdC5rZXlzKGNoZWNrUHJvcHMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBpZiAoIXBhcmFtc1trZXldICYmIHBhcmFtcy5hdXRvID09PSB0cnVlKSB7XG4gICAgICAgICAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICBlbGVtZW50LmNsYXNzTmFtZSA9IGNoZWNrUHJvcHNba2V5XTtcbiAgICAgICAgICAkY29udGFpbmVyLmFwcGVuZChlbGVtZW50KTtcbiAgICAgICAgICBwYXJhbXNba2V5XSA9IGVsZW1lbnQ7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBwYXJhbXM7XG4gIH1cblxuICB2YXIgc3VwcG9ydDtcblxuICBmdW5jdGlvbiBjYWxjU3VwcG9ydCgpIHtcbiAgICB2YXIgd2luZG93ID0gZ2V0V2luZG93KCk7XG4gICAgdmFyIGRvY3VtZW50ID0gZ2V0RG9jdW1lbnQoKTtcbiAgICByZXR1cm4ge1xuICAgICAgdG91Y2g6ICEhKCdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdyB8fCB3aW5kb3cuRG9jdW1lbnRUb3VjaCAmJiBkb2N1bWVudCBpbnN0YW5jZW9mIHdpbmRvdy5Eb2N1bWVudFRvdWNoKSxcbiAgICAgIHBvaW50ZXJFdmVudHM6ICEhd2luZG93LlBvaW50ZXJFdmVudCAmJiAnbWF4VG91Y2hQb2ludHMnIGluIHdpbmRvdy5uYXZpZ2F0b3IgJiYgd2luZG93Lm5hdmlnYXRvci5tYXhUb3VjaFBvaW50cyA+PSAwLFxuICAgICAgb2JzZXJ2ZXI6IGZ1bmN0aW9uIGNoZWNrT2JzZXJ2ZXIoKSB7XG4gICAgICAgIHJldHVybiAnTXV0YXRpb25PYnNlcnZlcicgaW4gd2luZG93IHx8ICdXZWJraXRNdXRhdGlvbk9ic2VydmVyJyBpbiB3aW5kb3c7XG4gICAgICB9KCksXG4gICAgICBwYXNzaXZlTGlzdGVuZXI6IGZ1bmN0aW9uIGNoZWNrUGFzc2l2ZUxpc3RlbmVyKCkge1xuICAgICAgICB2YXIgc3VwcG9ydHNQYXNzaXZlID0gZmFsc2U7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB2YXIgb3B0cyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgJ3Bhc3NpdmUnLCB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICBzdXBwb3J0c1Bhc3NpdmUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0ZXN0UGFzc2l2ZUxpc3RlbmVyJywgbnVsbCwgb3B0cyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHsvLyBObyBzdXBwb3J0XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3VwcG9ydHNQYXNzaXZlO1xuICAgICAgfSgpLFxuICAgICAgZ2VzdHVyZXM6IGZ1bmN0aW9uIGNoZWNrR2VzdHVyZXMoKSB7XG4gICAgICAgIHJldHVybiAnb25nZXN0dXJlc3RhcnQnIGluIHdpbmRvdztcbiAgICAgIH0oKVxuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBnZXRTdXBwb3J0KCkge1xuICAgIGlmICghc3VwcG9ydCkge1xuICAgICAgc3VwcG9ydCA9IGNhbGNTdXBwb3J0KCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN1cHBvcnQ7XG4gIH1cblxuICB2YXIgZGV2aWNlO1xuXG4gIGZ1bmN0aW9uIGNhbGNEZXZpY2UoX3RlbXApIHtcbiAgICB2YXIgX3JlZiA9IF90ZW1wID09PSB2b2lkIDAgPyB7fSA6IF90ZW1wLFxuICAgICAgICB1c2VyQWdlbnQgPSBfcmVmLnVzZXJBZ2VudDtcblxuICAgIHZhciBzdXBwb3J0ID0gZ2V0U3VwcG9ydCgpO1xuICAgIHZhciB3aW5kb3cgPSBnZXRXaW5kb3coKTtcbiAgICB2YXIgcGxhdGZvcm0gPSB3aW5kb3cubmF2aWdhdG9yLnBsYXRmb3JtO1xuICAgIHZhciB1YSA9IHVzZXJBZ2VudCB8fCB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudDtcbiAgICB2YXIgZGV2aWNlID0ge1xuICAgICAgaW9zOiBmYWxzZSxcbiAgICAgIGFuZHJvaWQ6IGZhbHNlXG4gICAgfTtcbiAgICB2YXIgc2NyZWVuV2lkdGggPSB3aW5kb3cuc2NyZWVuLndpZHRoO1xuICAgIHZhciBzY3JlZW5IZWlnaHQgPSB3aW5kb3cuc2NyZWVuLmhlaWdodDtcbiAgICB2YXIgYW5kcm9pZCA9IHVhLm1hdGNoKC8oQW5kcm9pZCk7P1tcXHNcXC9dKyhbXFxkLl0rKT8vKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuXG4gICAgdmFyIGlwYWQgPSB1YS5tYXRjaCgvKGlQYWQpLipPU1xccyhbXFxkX10rKS8pO1xuICAgIHZhciBpcG9kID0gdWEubWF0Y2goLyhpUG9kKSguKk9TXFxzKFtcXGRfXSspKT8vKTtcbiAgICB2YXIgaXBob25lID0gIWlwYWQgJiYgdWEubWF0Y2goLyhpUGhvbmVcXHNPU3xpT1MpXFxzKFtcXGRfXSspLyk7XG4gICAgdmFyIHdpbmRvd3MgPSBwbGF0Zm9ybSA9PT0gJ1dpbjMyJztcbiAgICB2YXIgbWFjb3MgPSBwbGF0Zm9ybSA9PT0gJ01hY0ludGVsJzsgLy8gaVBhZE9zIDEzIGZpeFxuXG4gICAgdmFyIGlQYWRTY3JlZW5zID0gWycxMDI0eDEzNjYnLCAnMTM2NngxMDI0JywgJzgzNHgxMTk0JywgJzExOTR4ODM0JywgJzgzNHgxMTEyJywgJzExMTJ4ODM0JywgJzc2OHgxMDI0JywgJzEwMjR4NzY4JywgJzgyMHgxMTgwJywgJzExODB4ODIwJywgJzgxMHgxMDgwJywgJzEwODB4ODEwJ107XG5cbiAgICBpZiAoIWlwYWQgJiYgbWFjb3MgJiYgc3VwcG9ydC50b3VjaCAmJiBpUGFkU2NyZWVucy5pbmRleE9mKHNjcmVlbldpZHRoICsgXCJ4XCIgKyBzY3JlZW5IZWlnaHQpID49IDApIHtcbiAgICAgIGlwYWQgPSB1YS5tYXRjaCgvKFZlcnNpb24pXFwvKFtcXGQuXSspLyk7XG4gICAgICBpZiAoIWlwYWQpIGlwYWQgPSBbMCwgMSwgJzEzXzBfMCddO1xuICAgICAgbWFjb3MgPSBmYWxzZTtcbiAgICB9IC8vIEFuZHJvaWRcblxuXG4gICAgaWYgKGFuZHJvaWQgJiYgIXdpbmRvd3MpIHtcbiAgICAgIGRldmljZS5vcyA9ICdhbmRyb2lkJztcbiAgICAgIGRldmljZS5hbmRyb2lkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoaXBhZCB8fCBpcGhvbmUgfHwgaXBvZCkge1xuICAgICAgZGV2aWNlLm9zID0gJ2lvcyc7XG4gICAgICBkZXZpY2UuaW9zID0gdHJ1ZTtcbiAgICB9IC8vIEV4cG9ydCBvYmplY3RcblxuXG4gICAgcmV0dXJuIGRldmljZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldERldmljZShvdmVycmlkZXMpIHtcbiAgICBpZiAob3ZlcnJpZGVzID09PSB2b2lkIDApIHtcbiAgICAgIG92ZXJyaWRlcyA9IHt9O1xuICAgIH1cblxuICAgIGlmICghZGV2aWNlKSB7XG4gICAgICBkZXZpY2UgPSBjYWxjRGV2aWNlKG92ZXJyaWRlcyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRldmljZTtcbiAgfVxuXG4gIHZhciBicm93c2VyO1xuXG4gIGZ1bmN0aW9uIGNhbGNCcm93c2VyKCkge1xuICAgIHZhciB3aW5kb3cgPSBnZXRXaW5kb3coKTtcblxuICAgIGZ1bmN0aW9uIGlzU2FmYXJpKCkge1xuICAgICAgdmFyIHVhID0gd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKTtcbiAgICAgIHJldHVybiB1YS5pbmRleE9mKCdzYWZhcmknKSA+PSAwICYmIHVhLmluZGV4T2YoJ2Nocm9tZScpIDwgMCAmJiB1YS5pbmRleE9mKCdhbmRyb2lkJykgPCAwO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBpc0VkZ2U6ICEhd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0VkZ2UvZyksXG4gICAgICBpc1NhZmFyaTogaXNTYWZhcmkoKSxcbiAgICAgIGlzV2ViVmlldzogLyhpUGhvbmV8aVBvZHxpUGFkKS4qQXBwbGVXZWJLaXQoPyEuKlNhZmFyaSkvaS50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KVxuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBnZXRCcm93c2VyKCkge1xuICAgIGlmICghYnJvd3Nlcikge1xuICAgICAgYnJvd3NlciA9IGNhbGNCcm93c2VyKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGJyb3dzZXI7XG4gIH1cblxuICB2YXIgc3VwcG9ydHNSZXNpemVPYnNlcnZlciA9IGZ1bmN0aW9uIHN1cHBvcnRzUmVzaXplT2JzZXJ2ZXIoKSB7XG4gICAgdmFyIHdpbmRvdyA9IGdldFdpbmRvdygpO1xuICAgIHJldHVybiB0eXBlb2Ygd2luZG93LlJlc2l6ZU9ic2VydmVyICE9PSAndW5kZWZpbmVkJztcbiAgfTtcblxuICB2YXIgUmVzaXplID0ge1xuICAgIG5hbWU6ICdyZXNpemUnLFxuICAgIGNyZWF0ZTogZnVuY3Rpb24gY3JlYXRlKCkge1xuICAgICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgICBleHRlbmQoc3dpcGVyLCB7XG4gICAgICAgIHJlc2l6ZToge1xuICAgICAgICAgIG9ic2VydmVyOiBudWxsLFxuICAgICAgICAgIGNyZWF0ZU9ic2VydmVyOiBmdW5jdGlvbiBjcmVhdGVPYnNlcnZlcigpIHtcbiAgICAgICAgICAgIGlmICghc3dpcGVyIHx8IHN3aXBlci5kZXN0cm95ZWQgfHwgIXN3aXBlci5pbml0aWFsaXplZCkgcmV0dXJuO1xuICAgICAgICAgICAgc3dpcGVyLnJlc2l6ZS5vYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcihmdW5jdGlvbiAoZW50cmllcykge1xuICAgICAgICAgICAgICB2YXIgd2lkdGggPSBzd2lwZXIud2lkdGgsXG4gICAgICAgICAgICAgICAgICBoZWlnaHQgPSBzd2lwZXIuaGVpZ2h0O1xuICAgICAgICAgICAgICB2YXIgbmV3V2lkdGggPSB3aWR0aDtcbiAgICAgICAgICAgICAgdmFyIG5ld0hlaWdodCA9IGhlaWdodDtcbiAgICAgICAgICAgICAgZW50cmllcy5mb3JFYWNoKGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNvbnRlbnRCb3hTaXplID0gX3JlZi5jb250ZW50Qm94U2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgY29udGVudFJlY3QgPSBfcmVmLmNvbnRlbnRSZWN0LFxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQgPSBfcmVmLnRhcmdldDtcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0ICYmIHRhcmdldCAhPT0gc3dpcGVyLmVsKSByZXR1cm47XG4gICAgICAgICAgICAgICAgbmV3V2lkdGggPSBjb250ZW50UmVjdCA/IGNvbnRlbnRSZWN0LndpZHRoIDogKGNvbnRlbnRCb3hTaXplWzBdIHx8IGNvbnRlbnRCb3hTaXplKS5pbmxpbmVTaXplO1xuICAgICAgICAgICAgICAgIG5ld0hlaWdodCA9IGNvbnRlbnRSZWN0ID8gY29udGVudFJlY3QuaGVpZ2h0IDogKGNvbnRlbnRCb3hTaXplWzBdIHx8IGNvbnRlbnRCb3hTaXplKS5ibG9ja1NpemU7XG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGlmIChuZXdXaWR0aCAhPT0gd2lkdGggfHwgbmV3SGVpZ2h0ICE9PSBoZWlnaHQpIHtcbiAgICAgICAgICAgICAgICBzd2lwZXIucmVzaXplLnJlc2l6ZUhhbmRsZXIoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzd2lwZXIucmVzaXplLm9ic2VydmVyLm9ic2VydmUoc3dpcGVyLmVsKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHJlbW92ZU9ic2VydmVyOiBmdW5jdGlvbiByZW1vdmVPYnNlcnZlcigpIHtcbiAgICAgICAgICAgIGlmIChzd2lwZXIucmVzaXplLm9ic2VydmVyICYmIHN3aXBlci5yZXNpemUub2JzZXJ2ZXIudW5vYnNlcnZlICYmIHN3aXBlci5lbCkge1xuICAgICAgICAgICAgICBzd2lwZXIucmVzaXplLm9ic2VydmVyLnVub2JzZXJ2ZShzd2lwZXIuZWwpO1xuICAgICAgICAgICAgICBzd2lwZXIucmVzaXplLm9ic2VydmVyID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHJlc2l6ZUhhbmRsZXI6IGZ1bmN0aW9uIHJlc2l6ZUhhbmRsZXIoKSB7XG4gICAgICAgICAgICBpZiAoIXN3aXBlciB8fCBzd2lwZXIuZGVzdHJveWVkIHx8ICFzd2lwZXIuaW5pdGlhbGl6ZWQpIHJldHVybjtcbiAgICAgICAgICAgIHN3aXBlci5lbWl0KCdiZWZvcmVSZXNpemUnKTtcbiAgICAgICAgICAgIHN3aXBlci5lbWl0KCdyZXNpemUnKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIG9yaWVudGF0aW9uQ2hhbmdlSGFuZGxlcjogZnVuY3Rpb24gb3JpZW50YXRpb25DaGFuZ2VIYW5kbGVyKCkge1xuICAgICAgICAgICAgaWYgKCFzd2lwZXIgfHwgc3dpcGVyLmRlc3Ryb3llZCB8fCAhc3dpcGVyLmluaXRpYWxpemVkKSByZXR1cm47XG4gICAgICAgICAgICBzd2lwZXIuZW1pdCgnb3JpZW50YXRpb25jaGFuZ2UnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG4gICAgb246IHtcbiAgICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoc3dpcGVyKSB7XG4gICAgICAgIHZhciB3aW5kb3cgPSBnZXRXaW5kb3coKTtcblxuICAgICAgICBpZiAoc3dpcGVyLnBhcmFtcy5yZXNpemVPYnNlcnZlciAmJiBzdXBwb3J0c1Jlc2l6ZU9ic2VydmVyKCkpIHtcbiAgICAgICAgICBzd2lwZXIucmVzaXplLmNyZWF0ZU9ic2VydmVyKCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IC8vIEVtaXQgcmVzaXplXG5cblxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgc3dpcGVyLnJlc2l6ZS5yZXNpemVIYW5kbGVyKTsgLy8gRW1pdCBvcmllbnRhdGlvbmNoYW5nZVxuXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvcmllbnRhdGlvbmNoYW5nZScsIHN3aXBlci5yZXNpemUub3JpZW50YXRpb25DaGFuZ2VIYW5kbGVyKTtcbiAgICAgIH0sXG4gICAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KHN3aXBlcikge1xuICAgICAgICB2YXIgd2luZG93ID0gZ2V0V2luZG93KCk7XG4gICAgICAgIHN3aXBlci5yZXNpemUucmVtb3ZlT2JzZXJ2ZXIoKTtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHN3aXBlci5yZXNpemUucmVzaXplSGFuZGxlcik7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdvcmllbnRhdGlvbmNoYW5nZScsIHN3aXBlci5yZXNpemUub3JpZW50YXRpb25DaGFuZ2VIYW5kbGVyKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgdmFyIE9ic2VydmVyID0ge1xuICAgIGF0dGFjaDogZnVuY3Rpb24gYXR0YWNoKHRhcmdldCwgb3B0aW9ucykge1xuICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgICAgICBvcHRpb25zID0ge307XG4gICAgICB9XG5cbiAgICAgIHZhciB3aW5kb3cgPSBnZXRXaW5kb3coKTtcbiAgICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgICAgdmFyIE9ic2VydmVyRnVuYyA9IHdpbmRvdy5NdXRhdGlvbk9ic2VydmVyIHx8IHdpbmRvdy5XZWJraXRNdXRhdGlvbk9ic2VydmVyO1xuICAgICAgdmFyIG9ic2VydmVyID0gbmV3IE9ic2VydmVyRnVuYyhmdW5jdGlvbiAobXV0YXRpb25zKSB7XG4gICAgICAgIC8vIFRoZSBvYnNlcnZlclVwZGF0ZSBldmVudCBzaG91bGQgb25seSBiZSB0cmlnZ2VyZWRcbiAgICAgICAgLy8gb25jZSBkZXNwaXRlIHRoZSBudW1iZXIgb2YgbXV0YXRpb25zLiAgQWRkaXRpb25hbFxuICAgICAgICAvLyB0cmlnZ2VycyBhcmUgcmVkdW5kYW50IGFuZCBhcmUgdmVyeSBjb3N0bHlcbiAgICAgICAgaWYgKG11dGF0aW9ucy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICBzd2lwZXIuZW1pdCgnb2JzZXJ2ZXJVcGRhdGUnLCBtdXRhdGlvbnNbMF0pO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBvYnNlcnZlclVwZGF0ZSA9IGZ1bmN0aW9uIG9ic2VydmVyVXBkYXRlKCkge1xuICAgICAgICAgIHN3aXBlci5lbWl0KCdvYnNlcnZlclVwZGF0ZScsIG11dGF0aW9uc1swXSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUpIHtcbiAgICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKG9ic2VydmVyVXBkYXRlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dChvYnNlcnZlclVwZGF0ZSwgMCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZSh0YXJnZXQsIHtcbiAgICAgICAgYXR0cmlidXRlczogdHlwZW9mIG9wdGlvbnMuYXR0cmlidXRlcyA9PT0gJ3VuZGVmaW5lZCcgPyB0cnVlIDogb3B0aW9ucy5hdHRyaWJ1dGVzLFxuICAgICAgICBjaGlsZExpc3Q6IHR5cGVvZiBvcHRpb25zLmNoaWxkTGlzdCA9PT0gJ3VuZGVmaW5lZCcgPyB0cnVlIDogb3B0aW9ucy5jaGlsZExpc3QsXG4gICAgICAgIGNoYXJhY3RlckRhdGE6IHR5cGVvZiBvcHRpb25zLmNoYXJhY3RlckRhdGEgPT09ICd1bmRlZmluZWQnID8gdHJ1ZSA6IG9wdGlvbnMuY2hhcmFjdGVyRGF0YVxuICAgICAgfSk7XG4gICAgICBzd2lwZXIub2JzZXJ2ZXIub2JzZXJ2ZXJzLnB1c2gob2JzZXJ2ZXIpO1xuICAgIH0sXG4gICAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHtcbiAgICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgICAgaWYgKCFzd2lwZXIuc3VwcG9ydC5vYnNlcnZlciB8fCAhc3dpcGVyLnBhcmFtcy5vYnNlcnZlcikgcmV0dXJuO1xuXG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy5vYnNlcnZlUGFyZW50cykge1xuICAgICAgICB2YXIgY29udGFpbmVyUGFyZW50cyA9IHN3aXBlci4kZWwucGFyZW50cygpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29udGFpbmVyUGFyZW50cy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgIHN3aXBlci5vYnNlcnZlci5hdHRhY2goY29udGFpbmVyUGFyZW50c1tpXSk7XG4gICAgICAgIH1cbiAgICAgIH0gLy8gT2JzZXJ2ZSBjb250YWluZXJcblxuXG4gICAgICBzd2lwZXIub2JzZXJ2ZXIuYXR0YWNoKHN3aXBlci4kZWxbMF0sIHtcbiAgICAgICAgY2hpbGRMaXN0OiBzd2lwZXIucGFyYW1zLm9ic2VydmVTbGlkZUNoaWxkcmVuXG4gICAgICB9KTsgLy8gT2JzZXJ2ZSB3cmFwcGVyXG5cbiAgICAgIHN3aXBlci5vYnNlcnZlci5hdHRhY2goc3dpcGVyLiR3cmFwcGVyRWxbMF0sIHtcbiAgICAgICAgYXR0cmlidXRlczogZmFsc2VcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgICAgc3dpcGVyLm9ic2VydmVyLm9ic2VydmVycy5mb3JFYWNoKGZ1bmN0aW9uIChvYnNlcnZlcikge1xuICAgICAgICBvYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICB9KTtcbiAgICAgIHN3aXBlci5vYnNlcnZlci5vYnNlcnZlcnMgPSBbXTtcbiAgICB9XG4gIH07XG4gIHZhciBPYnNlcnZlciQxID0ge1xuICAgIG5hbWU6ICdvYnNlcnZlcicsXG4gICAgcGFyYW1zOiB7XG4gICAgICBvYnNlcnZlcjogZmFsc2UsXG4gICAgICBvYnNlcnZlUGFyZW50czogZmFsc2UsXG4gICAgICBvYnNlcnZlU2xpZGVDaGlsZHJlbjogZmFsc2VcbiAgICB9LFxuICAgIGNyZWF0ZTogZnVuY3Rpb24gY3JlYXRlKCkge1xuICAgICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgICBiaW5kTW9kdWxlTWV0aG9kcyhzd2lwZXIsIHtcbiAgICAgICAgb2JzZXJ2ZXI6IF9leHRlbmRzKHt9LCBPYnNlcnZlciwge1xuICAgICAgICAgIG9ic2VydmVyczogW11cbiAgICAgICAgfSlcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgb246IHtcbiAgICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoc3dpcGVyKSB7XG4gICAgICAgIHN3aXBlci5vYnNlcnZlci5pbml0KCk7XG4gICAgICB9LFxuICAgICAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveShzd2lwZXIpIHtcbiAgICAgICAgc3dpcGVyLm9ic2VydmVyLmRlc3Ryb3koKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgdmFyIG1vZHVsYXIgPSB7XG4gICAgdXNlUGFyYW1zOiBmdW5jdGlvbiB1c2VQYXJhbXMoaW5zdGFuY2VQYXJhbXMpIHtcbiAgICAgIHZhciBpbnN0YW5jZSA9IHRoaXM7XG4gICAgICBpZiAoIWluc3RhbmNlLm1vZHVsZXMpIHJldHVybjtcbiAgICAgIE9iamVjdC5rZXlzKGluc3RhbmNlLm1vZHVsZXMpLmZvckVhY2goZnVuY3Rpb24gKG1vZHVsZU5hbWUpIHtcbiAgICAgICAgdmFyIG1vZHVsZSA9IGluc3RhbmNlLm1vZHVsZXNbbW9kdWxlTmFtZV07IC8vIEV4dGVuZCBwYXJhbXNcblxuICAgICAgICBpZiAobW9kdWxlLnBhcmFtcykge1xuICAgICAgICAgIGV4dGVuZChpbnN0YW5jZVBhcmFtcywgbW9kdWxlLnBhcmFtcyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG4gICAgdXNlTW9kdWxlczogZnVuY3Rpb24gdXNlTW9kdWxlcyhtb2R1bGVzUGFyYW1zKSB7XG4gICAgICBpZiAobW9kdWxlc1BhcmFtcyA9PT0gdm9pZCAwKSB7XG4gICAgICAgIG1vZHVsZXNQYXJhbXMgPSB7fTtcbiAgICAgIH1cblxuICAgICAgdmFyIGluc3RhbmNlID0gdGhpcztcbiAgICAgIGlmICghaW5zdGFuY2UubW9kdWxlcykgcmV0dXJuO1xuICAgICAgT2JqZWN0LmtleXMoaW5zdGFuY2UubW9kdWxlcykuZm9yRWFjaChmdW5jdGlvbiAobW9kdWxlTmFtZSkge1xuICAgICAgICB2YXIgbW9kdWxlID0gaW5zdGFuY2UubW9kdWxlc1ttb2R1bGVOYW1lXTtcbiAgICAgICAgdmFyIG1vZHVsZVBhcmFtcyA9IG1vZHVsZXNQYXJhbXNbbW9kdWxlTmFtZV0gfHwge307IC8vIEFkZCBldmVudCBsaXN0ZW5lcnNcblxuICAgICAgICBpZiAobW9kdWxlLm9uICYmIGluc3RhbmNlLm9uKSB7XG4gICAgICAgICAgT2JqZWN0LmtleXMobW9kdWxlLm9uKS5mb3JFYWNoKGZ1bmN0aW9uIChtb2R1bGVFdmVudE5hbWUpIHtcbiAgICAgICAgICAgIGluc3RhbmNlLm9uKG1vZHVsZUV2ZW50TmFtZSwgbW9kdWxlLm9uW21vZHVsZUV2ZW50TmFtZV0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IC8vIE1vZHVsZSBjcmVhdGUgY2FsbGJhY2tcblxuXG4gICAgICAgIGlmIChtb2R1bGUuY3JlYXRlKSB7XG4gICAgICAgICAgbW9kdWxlLmNyZWF0ZS5iaW5kKGluc3RhbmNlKShtb2R1bGVQYXJhbXMpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgLyogZXNsaW50LWRpc2FibGUgbm8tdW5kZXJzY29yZS1kYW5nbGUgKi9cbiAgdmFyIGV2ZW50c0VtaXR0ZXIgPSB7XG4gICAgb246IGZ1bmN0aW9uIG9uKGV2ZW50cywgaGFuZGxlciwgcHJpb3JpdHkpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIGlmICh0eXBlb2YgaGFuZGxlciAhPT0gJ2Z1bmN0aW9uJykgcmV0dXJuIHNlbGY7XG4gICAgICB2YXIgbWV0aG9kID0gcHJpb3JpdHkgPyAndW5zaGlmdCcgOiAncHVzaCc7XG4gICAgICBldmVudHMuc3BsaXQoJyAnKS5mb3JFYWNoKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBpZiAoIXNlbGYuZXZlbnRzTGlzdGVuZXJzW2V2ZW50XSkgc2VsZi5ldmVudHNMaXN0ZW5lcnNbZXZlbnRdID0gW107XG4gICAgICAgIHNlbGYuZXZlbnRzTGlzdGVuZXJzW2V2ZW50XVttZXRob2RdKGhhbmRsZXIpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuICAgIG9uY2U6IGZ1bmN0aW9uIG9uY2UoZXZlbnRzLCBoYW5kbGVyLCBwcmlvcml0eSkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgaWYgKHR5cGVvZiBoYW5kbGVyICE9PSAnZnVuY3Rpb24nKSByZXR1cm4gc2VsZjtcblxuICAgICAgZnVuY3Rpb24gb25jZUhhbmRsZXIoKSB7XG4gICAgICAgIHNlbGYub2ZmKGV2ZW50cywgb25jZUhhbmRsZXIpO1xuXG4gICAgICAgIGlmIChvbmNlSGFuZGxlci5fX2VtaXR0ZXJQcm94eSkge1xuICAgICAgICAgIGRlbGV0ZSBvbmNlSGFuZGxlci5fX2VtaXR0ZXJQcm94eTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICAgIH1cblxuICAgICAgICBoYW5kbGVyLmFwcGx5KHNlbGYsIGFyZ3MpO1xuICAgICAgfVxuXG4gICAgICBvbmNlSGFuZGxlci5fX2VtaXR0ZXJQcm94eSA9IGhhbmRsZXI7XG4gICAgICByZXR1cm4gc2VsZi5vbihldmVudHMsIG9uY2VIYW5kbGVyLCBwcmlvcml0eSk7XG4gICAgfSxcbiAgICBvbkFueTogZnVuY3Rpb24gb25BbnkoaGFuZGxlciwgcHJpb3JpdHkpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIGlmICh0eXBlb2YgaGFuZGxlciAhPT0gJ2Z1bmN0aW9uJykgcmV0dXJuIHNlbGY7XG4gICAgICB2YXIgbWV0aG9kID0gcHJpb3JpdHkgPyAndW5zaGlmdCcgOiAncHVzaCc7XG5cbiAgICAgIGlmIChzZWxmLmV2ZW50c0FueUxpc3RlbmVycy5pbmRleE9mKGhhbmRsZXIpIDwgMCkge1xuICAgICAgICBzZWxmLmV2ZW50c0FueUxpc3RlbmVyc1ttZXRob2RdKGhhbmRsZXIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuICAgIG9mZkFueTogZnVuY3Rpb24gb2ZmQW55KGhhbmRsZXIpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIGlmICghc2VsZi5ldmVudHNBbnlMaXN0ZW5lcnMpIHJldHVybiBzZWxmO1xuICAgICAgdmFyIGluZGV4ID0gc2VsZi5ldmVudHNBbnlMaXN0ZW5lcnMuaW5kZXhPZihoYW5kbGVyKTtcblxuICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgc2VsZi5ldmVudHNBbnlMaXN0ZW5lcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcbiAgICBvZmY6IGZ1bmN0aW9uIG9mZihldmVudHMsIGhhbmRsZXIpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIGlmICghc2VsZi5ldmVudHNMaXN0ZW5lcnMpIHJldHVybiBzZWxmO1xuICAgICAgZXZlbnRzLnNwbGl0KCcgJykuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBoYW5kbGVyID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIHNlbGYuZXZlbnRzTGlzdGVuZXJzW2V2ZW50XSA9IFtdO1xuICAgICAgICB9IGVsc2UgaWYgKHNlbGYuZXZlbnRzTGlzdGVuZXJzW2V2ZW50XSkge1xuICAgICAgICAgIHNlbGYuZXZlbnRzTGlzdGVuZXJzW2V2ZW50XS5mb3JFYWNoKGZ1bmN0aW9uIChldmVudEhhbmRsZXIsIGluZGV4KSB7XG4gICAgICAgICAgICBpZiAoZXZlbnRIYW5kbGVyID09PSBoYW5kbGVyIHx8IGV2ZW50SGFuZGxlci5fX2VtaXR0ZXJQcm94eSAmJiBldmVudEhhbmRsZXIuX19lbWl0dGVyUHJveHkgPT09IGhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgc2VsZi5ldmVudHNMaXN0ZW5lcnNbZXZlbnRdLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcbiAgICBlbWl0OiBmdW5jdGlvbiBlbWl0KCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgaWYgKCFzZWxmLmV2ZW50c0xpc3RlbmVycykgcmV0dXJuIHNlbGY7XG4gICAgICB2YXIgZXZlbnRzO1xuICAgICAgdmFyIGRhdGE7XG4gICAgICB2YXIgY29udGV4dDtcblxuICAgICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4yKSwgX2tleTIgPSAwOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICAgIGFyZ3NbX2tleTJdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBhcmdzWzBdID09PSAnc3RyaW5nJyB8fCBBcnJheS5pc0FycmF5KGFyZ3NbMF0pKSB7XG4gICAgICAgIGV2ZW50cyA9IGFyZ3NbMF07XG4gICAgICAgIGRhdGEgPSBhcmdzLnNsaWNlKDEsIGFyZ3MubGVuZ3RoKTtcbiAgICAgICAgY29udGV4dCA9IHNlbGY7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBldmVudHMgPSBhcmdzWzBdLmV2ZW50cztcbiAgICAgICAgZGF0YSA9IGFyZ3NbMF0uZGF0YTtcbiAgICAgICAgY29udGV4dCA9IGFyZ3NbMF0uY29udGV4dCB8fCBzZWxmO1xuICAgICAgfVxuXG4gICAgICBkYXRhLnVuc2hpZnQoY29udGV4dCk7XG4gICAgICB2YXIgZXZlbnRzQXJyYXkgPSBBcnJheS5pc0FycmF5KGV2ZW50cykgPyBldmVudHMgOiBldmVudHMuc3BsaXQoJyAnKTtcbiAgICAgIGV2ZW50c0FycmF5LmZvckVhY2goZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGlmIChzZWxmLmV2ZW50c0FueUxpc3RlbmVycyAmJiBzZWxmLmV2ZW50c0FueUxpc3RlbmVycy5sZW5ndGgpIHtcbiAgICAgICAgICBzZWxmLmV2ZW50c0FueUxpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uIChldmVudEhhbmRsZXIpIHtcbiAgICAgICAgICAgIGV2ZW50SGFuZGxlci5hcHBseShjb250ZXh0LCBbZXZlbnRdLmNvbmNhdChkYXRhKSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2VsZi5ldmVudHNMaXN0ZW5lcnMgJiYgc2VsZi5ldmVudHNMaXN0ZW5lcnNbZXZlbnRdKSB7XG4gICAgICAgICAgc2VsZi5ldmVudHNMaXN0ZW5lcnNbZXZlbnRdLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50SGFuZGxlcikge1xuICAgICAgICAgICAgZXZlbnRIYW5kbGVyLmFwcGx5KGNvbnRleHQsIGRhdGEpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH1cbiAgfTtcblxuICBmdW5jdGlvbiB1cGRhdGVTaXplKCkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIHZhciB3aWR0aDtcbiAgICB2YXIgaGVpZ2h0O1xuICAgIHZhciAkZWwgPSBzd2lwZXIuJGVsO1xuXG4gICAgaWYgKHR5cGVvZiBzd2lwZXIucGFyYW1zLndpZHRoICE9PSAndW5kZWZpbmVkJyAmJiBzd2lwZXIucGFyYW1zLndpZHRoICE9PSBudWxsKSB7XG4gICAgICB3aWR0aCA9IHN3aXBlci5wYXJhbXMud2lkdGg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHdpZHRoID0gJGVsWzBdLmNsaWVudFdpZHRoO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygc3dpcGVyLnBhcmFtcy5oZWlnaHQgIT09ICd1bmRlZmluZWQnICYmIHN3aXBlci5wYXJhbXMuaGVpZ2h0ICE9PSBudWxsKSB7XG4gICAgICBoZWlnaHQgPSBzd2lwZXIucGFyYW1zLmhlaWdodDtcbiAgICB9IGVsc2Uge1xuICAgICAgaGVpZ2h0ID0gJGVsWzBdLmNsaWVudEhlaWdodDtcbiAgICB9XG5cbiAgICBpZiAod2lkdGggPT09IDAgJiYgc3dpcGVyLmlzSG9yaXpvbnRhbCgpIHx8IGhlaWdodCA9PT0gMCAmJiBzd2lwZXIuaXNWZXJ0aWNhbCgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfSAvLyBTdWJ0cmFjdCBwYWRkaW5nc1xuXG5cbiAgICB3aWR0aCA9IHdpZHRoIC0gcGFyc2VJbnQoJGVsLmNzcygncGFkZGluZy1sZWZ0JykgfHwgMCwgMTApIC0gcGFyc2VJbnQoJGVsLmNzcygncGFkZGluZy1yaWdodCcpIHx8IDAsIDEwKTtcbiAgICBoZWlnaHQgPSBoZWlnaHQgLSBwYXJzZUludCgkZWwuY3NzKCdwYWRkaW5nLXRvcCcpIHx8IDAsIDEwKSAtIHBhcnNlSW50KCRlbC5jc3MoJ3BhZGRpbmctYm90dG9tJykgfHwgMCwgMTApO1xuICAgIGlmIChOdW1iZXIuaXNOYU4od2lkdGgpKSB3aWR0aCA9IDA7XG4gICAgaWYgKE51bWJlci5pc05hTihoZWlnaHQpKSBoZWlnaHQgPSAwO1xuICAgIGV4dGVuZChzd2lwZXIsIHtcbiAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgc2l6ZTogc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gd2lkdGggOiBoZWlnaHRcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZVNsaWRlcygpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcblxuICAgIGZ1bmN0aW9uIGdldERpcmVjdGlvbkxhYmVsKHByb3BlcnR5KSB7XG4gICAgICBpZiAoc3dpcGVyLmlzSG9yaXpvbnRhbCgpKSB7XG4gICAgICAgIHJldHVybiBwcm9wZXJ0eTtcbiAgICAgIH0gLy8gcHJldHRpZXItaWdub3JlXG5cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgJ3dpZHRoJzogJ2hlaWdodCcsXG4gICAgICAgICdtYXJnaW4tdG9wJzogJ21hcmdpbi1sZWZ0JyxcbiAgICAgICAgJ21hcmdpbi1ib3R0b20gJzogJ21hcmdpbi1yaWdodCcsXG4gICAgICAgICdtYXJnaW4tbGVmdCc6ICdtYXJnaW4tdG9wJyxcbiAgICAgICAgJ21hcmdpbi1yaWdodCc6ICdtYXJnaW4tYm90dG9tJyxcbiAgICAgICAgJ3BhZGRpbmctbGVmdCc6ICdwYWRkaW5nLXRvcCcsXG4gICAgICAgICdwYWRkaW5nLXJpZ2h0JzogJ3BhZGRpbmctYm90dG9tJyxcbiAgICAgICAgJ21hcmdpblJpZ2h0JzogJ21hcmdpbkJvdHRvbSdcbiAgICAgIH1bcHJvcGVydHldO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldERpcmVjdGlvblByb3BlcnR5VmFsdWUobm9kZSwgbGFiZWwpIHtcbiAgICAgIHJldHVybiBwYXJzZUZsb2F0KG5vZGUuZ2V0UHJvcGVydHlWYWx1ZShnZXREaXJlY3Rpb25MYWJlbChsYWJlbCkpIHx8IDApO1xuICAgIH1cblxuICAgIHZhciBwYXJhbXMgPSBzd2lwZXIucGFyYW1zO1xuICAgIHZhciAkd3JhcHBlckVsID0gc3dpcGVyLiR3cmFwcGVyRWwsXG4gICAgICAgIHN3aXBlclNpemUgPSBzd2lwZXIuc2l6ZSxcbiAgICAgICAgcnRsID0gc3dpcGVyLnJ0bFRyYW5zbGF0ZSxcbiAgICAgICAgd3JvbmdSVEwgPSBzd2lwZXIud3JvbmdSVEw7XG4gICAgdmFyIGlzVmlydHVhbCA9IHN3aXBlci52aXJ0dWFsICYmIHBhcmFtcy52aXJ0dWFsLmVuYWJsZWQ7XG4gICAgdmFyIHByZXZpb3VzU2xpZGVzTGVuZ3RoID0gaXNWaXJ0dWFsID8gc3dpcGVyLnZpcnR1YWwuc2xpZGVzLmxlbmd0aCA6IHN3aXBlci5zbGlkZXMubGVuZ3RoO1xuICAgIHZhciBzbGlkZXMgPSAkd3JhcHBlckVsLmNoaWxkcmVuKFwiLlwiICsgc3dpcGVyLnBhcmFtcy5zbGlkZUNsYXNzKTtcbiAgICB2YXIgc2xpZGVzTGVuZ3RoID0gaXNWaXJ0dWFsID8gc3dpcGVyLnZpcnR1YWwuc2xpZGVzLmxlbmd0aCA6IHNsaWRlcy5sZW5ndGg7XG4gICAgdmFyIHNuYXBHcmlkID0gW107XG4gICAgdmFyIHNsaWRlc0dyaWQgPSBbXTtcbiAgICB2YXIgc2xpZGVzU2l6ZXNHcmlkID0gW107XG4gICAgdmFyIG9mZnNldEJlZm9yZSA9IHBhcmFtcy5zbGlkZXNPZmZzZXRCZWZvcmU7XG5cbiAgICBpZiAodHlwZW9mIG9mZnNldEJlZm9yZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgb2Zmc2V0QmVmb3JlID0gcGFyYW1zLnNsaWRlc09mZnNldEJlZm9yZS5jYWxsKHN3aXBlcik7XG4gICAgfVxuXG4gICAgdmFyIG9mZnNldEFmdGVyID0gcGFyYW1zLnNsaWRlc09mZnNldEFmdGVyO1xuXG4gICAgaWYgKHR5cGVvZiBvZmZzZXRBZnRlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgb2Zmc2V0QWZ0ZXIgPSBwYXJhbXMuc2xpZGVzT2Zmc2V0QWZ0ZXIuY2FsbChzd2lwZXIpO1xuICAgIH1cblxuICAgIHZhciBwcmV2aW91c1NuYXBHcmlkTGVuZ3RoID0gc3dpcGVyLnNuYXBHcmlkLmxlbmd0aDtcbiAgICB2YXIgcHJldmlvdXNTbGlkZXNHcmlkTGVuZ3RoID0gc3dpcGVyLnNsaWRlc0dyaWQubGVuZ3RoO1xuICAgIHZhciBzcGFjZUJldHdlZW4gPSBwYXJhbXMuc3BhY2VCZXR3ZWVuO1xuICAgIHZhciBzbGlkZVBvc2l0aW9uID0gLW9mZnNldEJlZm9yZTtcbiAgICB2YXIgcHJldlNsaWRlU2l6ZSA9IDA7XG4gICAgdmFyIGluZGV4ID0gMDtcblxuICAgIGlmICh0eXBlb2Ygc3dpcGVyU2l6ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHNwYWNlQmV0d2VlbiA9PT0gJ3N0cmluZycgJiYgc3BhY2VCZXR3ZWVuLmluZGV4T2YoJyUnKSA+PSAwKSB7XG4gICAgICBzcGFjZUJldHdlZW4gPSBwYXJzZUZsb2F0KHNwYWNlQmV0d2Vlbi5yZXBsYWNlKCclJywgJycpKSAvIDEwMCAqIHN3aXBlclNpemU7XG4gICAgfVxuXG4gICAgc3dpcGVyLnZpcnR1YWxTaXplID0gLXNwYWNlQmV0d2VlbjsgLy8gcmVzZXQgbWFyZ2luc1xuXG4gICAgaWYgKHJ0bCkgc2xpZGVzLmNzcyh7XG4gICAgICBtYXJnaW5MZWZ0OiAnJyxcbiAgICAgIG1hcmdpbkJvdHRvbTogJycsXG4gICAgICBtYXJnaW5Ub3A6ICcnXG4gICAgfSk7ZWxzZSBzbGlkZXMuY3NzKHtcbiAgICAgIG1hcmdpblJpZ2h0OiAnJyxcbiAgICAgIG1hcmdpbkJvdHRvbTogJycsXG4gICAgICBtYXJnaW5Ub3A6ICcnXG4gICAgfSk7XG4gICAgdmFyIHNsaWRlc051bWJlckV2ZW5Ub1Jvd3M7XG5cbiAgICBpZiAocGFyYW1zLnNsaWRlc1BlckNvbHVtbiA+IDEpIHtcbiAgICAgIGlmIChNYXRoLmZsb29yKHNsaWRlc0xlbmd0aCAvIHBhcmFtcy5zbGlkZXNQZXJDb2x1bW4pID09PSBzbGlkZXNMZW5ndGggLyBzd2lwZXIucGFyYW1zLnNsaWRlc1BlckNvbHVtbikge1xuICAgICAgICBzbGlkZXNOdW1iZXJFdmVuVG9Sb3dzID0gc2xpZGVzTGVuZ3RoO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2xpZGVzTnVtYmVyRXZlblRvUm93cyA9IE1hdGguY2VpbChzbGlkZXNMZW5ndGggLyBwYXJhbXMuc2xpZGVzUGVyQ29sdW1uKSAqIHBhcmFtcy5zbGlkZXNQZXJDb2x1bW47XG4gICAgICB9XG5cbiAgICAgIGlmIChwYXJhbXMuc2xpZGVzUGVyVmlldyAhPT0gJ2F1dG8nICYmIHBhcmFtcy5zbGlkZXNQZXJDb2x1bW5GaWxsID09PSAncm93Jykge1xuICAgICAgICBzbGlkZXNOdW1iZXJFdmVuVG9Sb3dzID0gTWF0aC5tYXgoc2xpZGVzTnVtYmVyRXZlblRvUm93cywgcGFyYW1zLnNsaWRlc1BlclZpZXcgKiBwYXJhbXMuc2xpZGVzUGVyQ29sdW1uKTtcbiAgICAgIH1cbiAgICB9IC8vIENhbGMgc2xpZGVzXG5cblxuICAgIHZhciBzbGlkZVNpemU7XG4gICAgdmFyIHNsaWRlc1BlckNvbHVtbiA9IHBhcmFtcy5zbGlkZXNQZXJDb2x1bW47XG4gICAgdmFyIHNsaWRlc1BlclJvdyA9IHNsaWRlc051bWJlckV2ZW5Ub1Jvd3MgLyBzbGlkZXNQZXJDb2x1bW47XG4gICAgdmFyIG51bUZ1bGxDb2x1bW5zID0gTWF0aC5mbG9vcihzbGlkZXNMZW5ndGggLyBwYXJhbXMuc2xpZGVzUGVyQ29sdW1uKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2xpZGVzTGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIHNsaWRlU2l6ZSA9IDA7XG4gICAgICB2YXIgc2xpZGUgPSBzbGlkZXMuZXEoaSk7XG5cbiAgICAgIGlmIChwYXJhbXMuc2xpZGVzUGVyQ29sdW1uID4gMSkge1xuICAgICAgICAvLyBTZXQgc2xpZGVzIG9yZGVyXG4gICAgICAgIHZhciBuZXdTbGlkZU9yZGVySW5kZXggPSB2b2lkIDA7XG4gICAgICAgIHZhciBjb2x1bW4gPSB2b2lkIDA7XG4gICAgICAgIHZhciByb3cgPSB2b2lkIDA7XG5cbiAgICAgICAgaWYgKHBhcmFtcy5zbGlkZXNQZXJDb2x1bW5GaWxsID09PSAncm93JyAmJiBwYXJhbXMuc2xpZGVzUGVyR3JvdXAgPiAxKSB7XG4gICAgICAgICAgdmFyIGdyb3VwSW5kZXggPSBNYXRoLmZsb29yKGkgLyAocGFyYW1zLnNsaWRlc1Blckdyb3VwICogcGFyYW1zLnNsaWRlc1BlckNvbHVtbikpO1xuICAgICAgICAgIHZhciBzbGlkZUluZGV4SW5Hcm91cCA9IGkgLSBwYXJhbXMuc2xpZGVzUGVyQ29sdW1uICogcGFyYW1zLnNsaWRlc1Blckdyb3VwICogZ3JvdXBJbmRleDtcbiAgICAgICAgICB2YXIgY29sdW1uc0luR3JvdXAgPSBncm91cEluZGV4ID09PSAwID8gcGFyYW1zLnNsaWRlc1Blckdyb3VwIDogTWF0aC5taW4oTWF0aC5jZWlsKChzbGlkZXNMZW5ndGggLSBncm91cEluZGV4ICogc2xpZGVzUGVyQ29sdW1uICogcGFyYW1zLnNsaWRlc1Blckdyb3VwKSAvIHNsaWRlc1BlckNvbHVtbiksIHBhcmFtcy5zbGlkZXNQZXJHcm91cCk7XG4gICAgICAgICAgcm93ID0gTWF0aC5mbG9vcihzbGlkZUluZGV4SW5Hcm91cCAvIGNvbHVtbnNJbkdyb3VwKTtcbiAgICAgICAgICBjb2x1bW4gPSBzbGlkZUluZGV4SW5Hcm91cCAtIHJvdyAqIGNvbHVtbnNJbkdyb3VwICsgZ3JvdXBJbmRleCAqIHBhcmFtcy5zbGlkZXNQZXJHcm91cDtcbiAgICAgICAgICBuZXdTbGlkZU9yZGVySW5kZXggPSBjb2x1bW4gKyByb3cgKiBzbGlkZXNOdW1iZXJFdmVuVG9Sb3dzIC8gc2xpZGVzUGVyQ29sdW1uO1xuICAgICAgICAgIHNsaWRlLmNzcyh7XG4gICAgICAgICAgICAnLXdlYmtpdC1ib3gtb3JkaW5hbC1ncm91cCc6IG5ld1NsaWRlT3JkZXJJbmRleCxcbiAgICAgICAgICAgICctbW96LWJveC1vcmRpbmFsLWdyb3VwJzogbmV3U2xpZGVPcmRlckluZGV4LFxuICAgICAgICAgICAgJy1tcy1mbGV4LW9yZGVyJzogbmV3U2xpZGVPcmRlckluZGV4LFxuICAgICAgICAgICAgJy13ZWJraXQtb3JkZXInOiBuZXdTbGlkZU9yZGVySW5kZXgsXG4gICAgICAgICAgICBvcmRlcjogbmV3U2xpZGVPcmRlckluZGV4XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSBpZiAocGFyYW1zLnNsaWRlc1BlckNvbHVtbkZpbGwgPT09ICdjb2x1bW4nKSB7XG4gICAgICAgICAgY29sdW1uID0gTWF0aC5mbG9vcihpIC8gc2xpZGVzUGVyQ29sdW1uKTtcbiAgICAgICAgICByb3cgPSBpIC0gY29sdW1uICogc2xpZGVzUGVyQ29sdW1uO1xuXG4gICAgICAgICAgaWYgKGNvbHVtbiA+IG51bUZ1bGxDb2x1bW5zIHx8IGNvbHVtbiA9PT0gbnVtRnVsbENvbHVtbnMgJiYgcm93ID09PSBzbGlkZXNQZXJDb2x1bW4gLSAxKSB7XG4gICAgICAgICAgICByb3cgKz0gMTtcblxuICAgICAgICAgICAgaWYgKHJvdyA+PSBzbGlkZXNQZXJDb2x1bW4pIHtcbiAgICAgICAgICAgICAgcm93ID0gMDtcbiAgICAgICAgICAgICAgY29sdW1uICs9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJvdyA9IE1hdGguZmxvb3IoaSAvIHNsaWRlc1BlclJvdyk7XG4gICAgICAgICAgY29sdW1uID0gaSAtIHJvdyAqIHNsaWRlc1BlclJvdztcbiAgICAgICAgfVxuXG4gICAgICAgIHNsaWRlLmNzcyhnZXREaXJlY3Rpb25MYWJlbCgnbWFyZ2luLXRvcCcpLCByb3cgIT09IDAgPyBwYXJhbXMuc3BhY2VCZXR3ZWVuICYmIHBhcmFtcy5zcGFjZUJldHdlZW4gKyBcInB4XCIgOiAnJyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChzbGlkZS5jc3MoJ2Rpc3BsYXknKSA9PT0gJ25vbmUnKSBjb250aW51ZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuXG4gICAgICBpZiAocGFyYW1zLnNsaWRlc1BlclZpZXcgPT09ICdhdXRvJykge1xuICAgICAgICB2YXIgc2xpZGVTdHlsZXMgPSBnZXRDb21wdXRlZFN0eWxlKHNsaWRlWzBdKTtcbiAgICAgICAgdmFyIGN1cnJlbnRUcmFuc2Zvcm0gPSBzbGlkZVswXS5zdHlsZS50cmFuc2Zvcm07XG4gICAgICAgIHZhciBjdXJyZW50V2ViS2l0VHJhbnNmb3JtID0gc2xpZGVbMF0uc3R5bGUud2Via2l0VHJhbnNmb3JtO1xuXG4gICAgICAgIGlmIChjdXJyZW50VHJhbnNmb3JtKSB7XG4gICAgICAgICAgc2xpZGVbMF0uc3R5bGUudHJhbnNmb3JtID0gJ25vbmUnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGN1cnJlbnRXZWJLaXRUcmFuc2Zvcm0pIHtcbiAgICAgICAgICBzbGlkZVswXS5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSAnbm9uZSc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGFyYW1zLnJvdW5kTGVuZ3Rocykge1xuICAgICAgICAgIHNsaWRlU2l6ZSA9IHN3aXBlci5pc0hvcml6b250YWwoKSA/IHNsaWRlLm91dGVyV2lkdGgodHJ1ZSkgOiBzbGlkZS5vdXRlckhlaWdodCh0cnVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgICAgICB2YXIgd2lkdGggPSBnZXREaXJlY3Rpb25Qcm9wZXJ0eVZhbHVlKHNsaWRlU3R5bGVzLCAnd2lkdGgnKTtcbiAgICAgICAgICB2YXIgcGFkZGluZ0xlZnQgPSBnZXREaXJlY3Rpb25Qcm9wZXJ0eVZhbHVlKHNsaWRlU3R5bGVzLCAncGFkZGluZy1sZWZ0Jyk7XG4gICAgICAgICAgdmFyIHBhZGRpbmdSaWdodCA9IGdldERpcmVjdGlvblByb3BlcnR5VmFsdWUoc2xpZGVTdHlsZXMsICdwYWRkaW5nLXJpZ2h0Jyk7XG4gICAgICAgICAgdmFyIG1hcmdpbkxlZnQgPSBnZXREaXJlY3Rpb25Qcm9wZXJ0eVZhbHVlKHNsaWRlU3R5bGVzLCAnbWFyZ2luLWxlZnQnKTtcbiAgICAgICAgICB2YXIgbWFyZ2luUmlnaHQgPSBnZXREaXJlY3Rpb25Qcm9wZXJ0eVZhbHVlKHNsaWRlU3R5bGVzLCAnbWFyZ2luLXJpZ2h0Jyk7XG4gICAgICAgICAgdmFyIGJveFNpemluZyA9IHNsaWRlU3R5bGVzLmdldFByb3BlcnR5VmFsdWUoJ2JveC1zaXppbmcnKTtcblxuICAgICAgICAgIGlmIChib3hTaXppbmcgJiYgYm94U2l6aW5nID09PSAnYm9yZGVyLWJveCcpIHtcbiAgICAgICAgICAgIHNsaWRlU2l6ZSA9IHdpZHRoICsgbWFyZ2luTGVmdCArIG1hcmdpblJpZ2h0O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgX3NsaWRlJCA9IHNsaWRlWzBdLFxuICAgICAgICAgICAgICAgIGNsaWVudFdpZHRoID0gX3NsaWRlJC5jbGllbnRXaWR0aCxcbiAgICAgICAgICAgICAgICBvZmZzZXRXaWR0aCA9IF9zbGlkZSQub2Zmc2V0V2lkdGg7XG4gICAgICAgICAgICBzbGlkZVNpemUgPSB3aWR0aCArIHBhZGRpbmdMZWZ0ICsgcGFkZGluZ1JpZ2h0ICsgbWFyZ2luTGVmdCArIG1hcmdpblJpZ2h0ICsgKG9mZnNldFdpZHRoIC0gY2xpZW50V2lkdGgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjdXJyZW50VHJhbnNmb3JtKSB7XG4gICAgICAgICAgc2xpZGVbMF0uc3R5bGUudHJhbnNmb3JtID0gY3VycmVudFRyYW5zZm9ybTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjdXJyZW50V2ViS2l0VHJhbnNmb3JtKSB7XG4gICAgICAgICAgc2xpZGVbMF0uc3R5bGUud2Via2l0VHJhbnNmb3JtID0gY3VycmVudFdlYktpdFRyYW5zZm9ybTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwYXJhbXMucm91bmRMZW5ndGhzKSBzbGlkZVNpemUgPSBNYXRoLmZsb29yKHNsaWRlU2l6ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzbGlkZVNpemUgPSAoc3dpcGVyU2l6ZSAtIChwYXJhbXMuc2xpZGVzUGVyVmlldyAtIDEpICogc3BhY2VCZXR3ZWVuKSAvIHBhcmFtcy5zbGlkZXNQZXJWaWV3O1xuICAgICAgICBpZiAocGFyYW1zLnJvdW5kTGVuZ3Rocykgc2xpZGVTaXplID0gTWF0aC5mbG9vcihzbGlkZVNpemUpO1xuXG4gICAgICAgIGlmIChzbGlkZXNbaV0pIHtcbiAgICAgICAgICBzbGlkZXNbaV0uc3R5bGVbZ2V0RGlyZWN0aW9uTGFiZWwoJ3dpZHRoJyldID0gc2xpZGVTaXplICsgXCJweFwiO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChzbGlkZXNbaV0pIHtcbiAgICAgICAgc2xpZGVzW2ldLnN3aXBlclNsaWRlU2l6ZSA9IHNsaWRlU2l6ZTtcbiAgICAgIH1cblxuICAgICAgc2xpZGVzU2l6ZXNHcmlkLnB1c2goc2xpZGVTaXplKTtcblxuICAgICAgaWYgKHBhcmFtcy5jZW50ZXJlZFNsaWRlcykge1xuICAgICAgICBzbGlkZVBvc2l0aW9uID0gc2xpZGVQb3NpdGlvbiArIHNsaWRlU2l6ZSAvIDIgKyBwcmV2U2xpZGVTaXplIC8gMiArIHNwYWNlQmV0d2VlbjtcbiAgICAgICAgaWYgKHByZXZTbGlkZVNpemUgPT09IDAgJiYgaSAhPT0gMCkgc2xpZGVQb3NpdGlvbiA9IHNsaWRlUG9zaXRpb24gLSBzd2lwZXJTaXplIC8gMiAtIHNwYWNlQmV0d2VlbjtcbiAgICAgICAgaWYgKGkgPT09IDApIHNsaWRlUG9zaXRpb24gPSBzbGlkZVBvc2l0aW9uIC0gc3dpcGVyU2l6ZSAvIDIgLSBzcGFjZUJldHdlZW47XG4gICAgICAgIGlmIChNYXRoLmFicyhzbGlkZVBvc2l0aW9uKSA8IDEgLyAxMDAwKSBzbGlkZVBvc2l0aW9uID0gMDtcbiAgICAgICAgaWYgKHBhcmFtcy5yb3VuZExlbmd0aHMpIHNsaWRlUG9zaXRpb24gPSBNYXRoLmZsb29yKHNsaWRlUG9zaXRpb24pO1xuICAgICAgICBpZiAoaW5kZXggJSBwYXJhbXMuc2xpZGVzUGVyR3JvdXAgPT09IDApIHNuYXBHcmlkLnB1c2goc2xpZGVQb3NpdGlvbik7XG4gICAgICAgIHNsaWRlc0dyaWQucHVzaChzbGlkZVBvc2l0aW9uKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChwYXJhbXMucm91bmRMZW5ndGhzKSBzbGlkZVBvc2l0aW9uID0gTWF0aC5mbG9vcihzbGlkZVBvc2l0aW9uKTtcbiAgICAgICAgaWYgKChpbmRleCAtIE1hdGgubWluKHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyR3JvdXBTa2lwLCBpbmRleCkpICUgc3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJHcm91cCA9PT0gMCkgc25hcEdyaWQucHVzaChzbGlkZVBvc2l0aW9uKTtcbiAgICAgICAgc2xpZGVzR3JpZC5wdXNoKHNsaWRlUG9zaXRpb24pO1xuICAgICAgICBzbGlkZVBvc2l0aW9uID0gc2xpZGVQb3NpdGlvbiArIHNsaWRlU2l6ZSArIHNwYWNlQmV0d2VlbjtcbiAgICAgIH1cblxuICAgICAgc3dpcGVyLnZpcnR1YWxTaXplICs9IHNsaWRlU2l6ZSArIHNwYWNlQmV0d2VlbjtcbiAgICAgIHByZXZTbGlkZVNpemUgPSBzbGlkZVNpemU7XG4gICAgICBpbmRleCArPSAxO1xuICAgIH1cblxuICAgIHN3aXBlci52aXJ0dWFsU2l6ZSA9IE1hdGgubWF4KHN3aXBlci52aXJ0dWFsU2l6ZSwgc3dpcGVyU2l6ZSkgKyBvZmZzZXRBZnRlcjtcbiAgICB2YXIgbmV3U2xpZGVzR3JpZDtcblxuICAgIGlmIChydGwgJiYgd3JvbmdSVEwgJiYgKHBhcmFtcy5lZmZlY3QgPT09ICdzbGlkZScgfHwgcGFyYW1zLmVmZmVjdCA9PT0gJ2NvdmVyZmxvdycpKSB7XG4gICAgICAkd3JhcHBlckVsLmNzcyh7XG4gICAgICAgIHdpZHRoOiBzd2lwZXIudmlydHVhbFNpemUgKyBwYXJhbXMuc3BhY2VCZXR3ZWVuICsgXCJweFwiXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAocGFyYW1zLnNldFdyYXBwZXJTaXplKSB7XG4gICAgICB2YXIgXyR3cmFwcGVyRWwkY3NzO1xuXG4gICAgICAkd3JhcHBlckVsLmNzcygoXyR3cmFwcGVyRWwkY3NzID0ge30sIF8kd3JhcHBlckVsJGNzc1tnZXREaXJlY3Rpb25MYWJlbCgnd2lkdGgnKV0gPSBzd2lwZXIudmlydHVhbFNpemUgKyBwYXJhbXMuc3BhY2VCZXR3ZWVuICsgXCJweFwiLCBfJHdyYXBwZXJFbCRjc3MpKTtcbiAgICB9XG5cbiAgICBpZiAocGFyYW1zLnNsaWRlc1BlckNvbHVtbiA+IDEpIHtcbiAgICAgIHZhciBfJHdyYXBwZXJFbCRjc3MyO1xuXG4gICAgICBzd2lwZXIudmlydHVhbFNpemUgPSAoc2xpZGVTaXplICsgcGFyYW1zLnNwYWNlQmV0d2VlbikgKiBzbGlkZXNOdW1iZXJFdmVuVG9Sb3dzO1xuICAgICAgc3dpcGVyLnZpcnR1YWxTaXplID0gTWF0aC5jZWlsKHN3aXBlci52aXJ0dWFsU2l6ZSAvIHBhcmFtcy5zbGlkZXNQZXJDb2x1bW4pIC0gcGFyYW1zLnNwYWNlQmV0d2VlbjtcbiAgICAgICR3cmFwcGVyRWwuY3NzKChfJHdyYXBwZXJFbCRjc3MyID0ge30sIF8kd3JhcHBlckVsJGNzczJbZ2V0RGlyZWN0aW9uTGFiZWwoJ3dpZHRoJyldID0gc3dpcGVyLnZpcnR1YWxTaXplICsgcGFyYW1zLnNwYWNlQmV0d2VlbiArIFwicHhcIiwgXyR3cmFwcGVyRWwkY3NzMikpO1xuXG4gICAgICBpZiAocGFyYW1zLmNlbnRlcmVkU2xpZGVzKSB7XG4gICAgICAgIG5ld1NsaWRlc0dyaWQgPSBbXTtcblxuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgc25hcEdyaWQubGVuZ3RoOyBfaSArPSAxKSB7XG4gICAgICAgICAgdmFyIHNsaWRlc0dyaWRJdGVtID0gc25hcEdyaWRbX2ldO1xuICAgICAgICAgIGlmIChwYXJhbXMucm91bmRMZW5ndGhzKSBzbGlkZXNHcmlkSXRlbSA9IE1hdGguZmxvb3Ioc2xpZGVzR3JpZEl0ZW0pO1xuICAgICAgICAgIGlmIChzbmFwR3JpZFtfaV0gPCBzd2lwZXIudmlydHVhbFNpemUgKyBzbmFwR3JpZFswXSkgbmV3U2xpZGVzR3JpZC5wdXNoKHNsaWRlc0dyaWRJdGVtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNuYXBHcmlkID0gbmV3U2xpZGVzR3JpZDtcbiAgICAgIH1cbiAgICB9IC8vIFJlbW92ZSBsYXN0IGdyaWQgZWxlbWVudHMgZGVwZW5kaW5nIG9uIHdpZHRoXG5cblxuICAgIGlmICghcGFyYW1zLmNlbnRlcmVkU2xpZGVzKSB7XG4gICAgICBuZXdTbGlkZXNHcmlkID0gW107XG5cbiAgICAgIGZvciAodmFyIF9pMiA9IDA7IF9pMiA8IHNuYXBHcmlkLmxlbmd0aDsgX2kyICs9IDEpIHtcbiAgICAgICAgdmFyIF9zbGlkZXNHcmlkSXRlbSA9IHNuYXBHcmlkW19pMl07XG4gICAgICAgIGlmIChwYXJhbXMucm91bmRMZW5ndGhzKSBfc2xpZGVzR3JpZEl0ZW0gPSBNYXRoLmZsb29yKF9zbGlkZXNHcmlkSXRlbSk7XG5cbiAgICAgICAgaWYgKHNuYXBHcmlkW19pMl0gPD0gc3dpcGVyLnZpcnR1YWxTaXplIC0gc3dpcGVyU2l6ZSkge1xuICAgICAgICAgIG5ld1NsaWRlc0dyaWQucHVzaChfc2xpZGVzR3JpZEl0ZW0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHNuYXBHcmlkID0gbmV3U2xpZGVzR3JpZDtcblxuICAgICAgaWYgKE1hdGguZmxvb3Ioc3dpcGVyLnZpcnR1YWxTaXplIC0gc3dpcGVyU2l6ZSkgLSBNYXRoLmZsb29yKHNuYXBHcmlkW3NuYXBHcmlkLmxlbmd0aCAtIDFdKSA+IDEpIHtcbiAgICAgICAgc25hcEdyaWQucHVzaChzd2lwZXIudmlydHVhbFNpemUgLSBzd2lwZXJTaXplKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc25hcEdyaWQubGVuZ3RoID09PSAwKSBzbmFwR3JpZCA9IFswXTtcblxuICAgIGlmIChwYXJhbXMuc3BhY2VCZXR3ZWVuICE9PSAwKSB7XG4gICAgICB2YXIgX3NsaWRlcyRmaWx0ZXIkY3NzO1xuXG4gICAgICB2YXIga2V5ID0gc3dpcGVyLmlzSG9yaXpvbnRhbCgpICYmIHJ0bCA/ICdtYXJnaW5MZWZ0JyA6IGdldERpcmVjdGlvbkxhYmVsKCdtYXJnaW5SaWdodCcpO1xuICAgICAgc2xpZGVzLmZpbHRlcihmdW5jdGlvbiAoXywgc2xpZGVJbmRleCkge1xuICAgICAgICBpZiAoIXBhcmFtcy5jc3NNb2RlKSByZXR1cm4gdHJ1ZTtcblxuICAgICAgICBpZiAoc2xpZGVJbmRleCA9PT0gc2xpZGVzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0pLmNzcygoX3NsaWRlcyRmaWx0ZXIkY3NzID0ge30sIF9zbGlkZXMkZmlsdGVyJGNzc1trZXldID0gc3BhY2VCZXR3ZWVuICsgXCJweFwiLCBfc2xpZGVzJGZpbHRlciRjc3MpKTtcbiAgICB9XG5cbiAgICBpZiAocGFyYW1zLmNlbnRlcmVkU2xpZGVzICYmIHBhcmFtcy5jZW50ZXJlZFNsaWRlc0JvdW5kcykge1xuICAgICAgdmFyIGFsbFNsaWRlc1NpemUgPSAwO1xuICAgICAgc2xpZGVzU2l6ZXNHcmlkLmZvckVhY2goZnVuY3Rpb24gKHNsaWRlU2l6ZVZhbHVlKSB7XG4gICAgICAgIGFsbFNsaWRlc1NpemUgKz0gc2xpZGVTaXplVmFsdWUgKyAocGFyYW1zLnNwYWNlQmV0d2VlbiA/IHBhcmFtcy5zcGFjZUJldHdlZW4gOiAwKTtcbiAgICAgIH0pO1xuICAgICAgYWxsU2xpZGVzU2l6ZSAtPSBwYXJhbXMuc3BhY2VCZXR3ZWVuO1xuICAgICAgdmFyIG1heFNuYXAgPSBhbGxTbGlkZXNTaXplIC0gc3dpcGVyU2l6ZTtcbiAgICAgIHNuYXBHcmlkID0gc25hcEdyaWQubWFwKGZ1bmN0aW9uIChzbmFwKSB7XG4gICAgICAgIGlmIChzbmFwIDwgMCkgcmV0dXJuIC1vZmZzZXRCZWZvcmU7XG4gICAgICAgIGlmIChzbmFwID4gbWF4U25hcCkgcmV0dXJuIG1heFNuYXAgKyBvZmZzZXRBZnRlcjtcbiAgICAgICAgcmV0dXJuIHNuYXA7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAocGFyYW1zLmNlbnRlckluc3VmZmljaWVudFNsaWRlcykge1xuICAgICAgdmFyIF9hbGxTbGlkZXNTaXplID0gMDtcbiAgICAgIHNsaWRlc1NpemVzR3JpZC5mb3JFYWNoKGZ1bmN0aW9uIChzbGlkZVNpemVWYWx1ZSkge1xuICAgICAgICBfYWxsU2xpZGVzU2l6ZSArPSBzbGlkZVNpemVWYWx1ZSArIChwYXJhbXMuc3BhY2VCZXR3ZWVuID8gcGFyYW1zLnNwYWNlQmV0d2VlbiA6IDApO1xuICAgICAgfSk7XG4gICAgICBfYWxsU2xpZGVzU2l6ZSAtPSBwYXJhbXMuc3BhY2VCZXR3ZWVuO1xuXG4gICAgICBpZiAoX2FsbFNsaWRlc1NpemUgPCBzd2lwZXJTaXplKSB7XG4gICAgICAgIHZhciBhbGxTbGlkZXNPZmZzZXQgPSAoc3dpcGVyU2l6ZSAtIF9hbGxTbGlkZXNTaXplKSAvIDI7XG4gICAgICAgIHNuYXBHcmlkLmZvckVhY2goZnVuY3Rpb24gKHNuYXAsIHNuYXBJbmRleCkge1xuICAgICAgICAgIHNuYXBHcmlkW3NuYXBJbmRleF0gPSBzbmFwIC0gYWxsU2xpZGVzT2Zmc2V0O1xuICAgICAgICB9KTtcbiAgICAgICAgc2xpZGVzR3JpZC5mb3JFYWNoKGZ1bmN0aW9uIChzbmFwLCBzbmFwSW5kZXgpIHtcbiAgICAgICAgICBzbGlkZXNHcmlkW3NuYXBJbmRleF0gPSBzbmFwICsgYWxsU2xpZGVzT2Zmc2V0O1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBleHRlbmQoc3dpcGVyLCB7XG4gICAgICBzbGlkZXM6IHNsaWRlcyxcbiAgICAgIHNuYXBHcmlkOiBzbmFwR3JpZCxcbiAgICAgIHNsaWRlc0dyaWQ6IHNsaWRlc0dyaWQsXG4gICAgICBzbGlkZXNTaXplc0dyaWQ6IHNsaWRlc1NpemVzR3JpZFxuICAgIH0pO1xuXG4gICAgaWYgKHNsaWRlc0xlbmd0aCAhPT0gcHJldmlvdXNTbGlkZXNMZW5ndGgpIHtcbiAgICAgIHN3aXBlci5lbWl0KCdzbGlkZXNMZW5ndGhDaGFuZ2UnKTtcbiAgICB9XG5cbiAgICBpZiAoc25hcEdyaWQubGVuZ3RoICE9PSBwcmV2aW91c1NuYXBHcmlkTGVuZ3RoKSB7XG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy53YXRjaE92ZXJmbG93KSBzd2lwZXIuY2hlY2tPdmVyZmxvdygpO1xuICAgICAgc3dpcGVyLmVtaXQoJ3NuYXBHcmlkTGVuZ3RoQ2hhbmdlJyk7XG4gICAgfVxuXG4gICAgaWYgKHNsaWRlc0dyaWQubGVuZ3RoICE9PSBwcmV2aW91c1NsaWRlc0dyaWRMZW5ndGgpIHtcbiAgICAgIHN3aXBlci5lbWl0KCdzbGlkZXNHcmlkTGVuZ3RoQ2hhbmdlJyk7XG4gICAgfVxuXG4gICAgaWYgKHBhcmFtcy53YXRjaFNsaWRlc1Byb2dyZXNzIHx8IHBhcmFtcy53YXRjaFNsaWRlc1Zpc2liaWxpdHkpIHtcbiAgICAgIHN3aXBlci51cGRhdGVTbGlkZXNPZmZzZXQoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVBdXRvSGVpZ2h0KHNwZWVkKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgdmFyIGFjdGl2ZVNsaWRlcyA9IFtdO1xuICAgIHZhciBpc1ZpcnR1YWwgPSBzd2lwZXIudmlydHVhbCAmJiBzd2lwZXIucGFyYW1zLnZpcnR1YWwuZW5hYmxlZDtcbiAgICB2YXIgbmV3SGVpZ2h0ID0gMDtcbiAgICB2YXIgaTtcblxuICAgIGlmICh0eXBlb2Ygc3BlZWQgPT09ICdudW1iZXInKSB7XG4gICAgICBzd2lwZXIuc2V0VHJhbnNpdGlvbihzcGVlZCk7XG4gICAgfSBlbHNlIGlmIChzcGVlZCA9PT0gdHJ1ZSkge1xuICAgICAgc3dpcGVyLnNldFRyYW5zaXRpb24oc3dpcGVyLnBhcmFtcy5zcGVlZCk7XG4gICAgfVxuXG4gICAgdmFyIGdldFNsaWRlQnlJbmRleCA9IGZ1bmN0aW9uIGdldFNsaWRlQnlJbmRleChpbmRleCkge1xuICAgICAgaWYgKGlzVmlydHVhbCkge1xuICAgICAgICByZXR1cm4gc3dpcGVyLnNsaWRlcy5maWx0ZXIoZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcnNlSW50KGVsLmdldEF0dHJpYnV0ZSgnZGF0YS1zd2lwZXItc2xpZGUtaW5kZXgnKSwgMTApID09PSBpbmRleDtcbiAgICAgICAgfSlbMF07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzd2lwZXIuc2xpZGVzLmVxKGluZGV4KVswXTtcbiAgICB9OyAvLyBGaW5kIHNsaWRlcyBjdXJyZW50bHkgaW4gdmlld1xuXG5cbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJWaWV3ICE9PSAnYXV0bycgJiYgc3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJWaWV3ID4gMSkge1xuICAgICAgaWYgKHN3aXBlci5wYXJhbXMuY2VudGVyZWRTbGlkZXMpIHtcbiAgICAgICAgc3dpcGVyLnZpc2libGVTbGlkZXMuZWFjaChmdW5jdGlvbiAoc2xpZGUpIHtcbiAgICAgICAgICBhY3RpdmVTbGlkZXMucHVzaChzbGlkZSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IE1hdGguY2VpbChzd2lwZXIucGFyYW1zLnNsaWRlc1BlclZpZXcpOyBpICs9IDEpIHtcbiAgICAgICAgICB2YXIgaW5kZXggPSBzd2lwZXIuYWN0aXZlSW5kZXggKyBpO1xuICAgICAgICAgIGlmIChpbmRleCA+IHN3aXBlci5zbGlkZXMubGVuZ3RoICYmICFpc1ZpcnR1YWwpIGJyZWFrO1xuICAgICAgICAgIGFjdGl2ZVNsaWRlcy5wdXNoKGdldFNsaWRlQnlJbmRleChpbmRleCkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGFjdGl2ZVNsaWRlcy5wdXNoKGdldFNsaWRlQnlJbmRleChzd2lwZXIuYWN0aXZlSW5kZXgpKTtcbiAgICB9IC8vIEZpbmQgbmV3IGhlaWdodCBmcm9tIGhpZ2hlc3Qgc2xpZGUgaW4gdmlld1xuXG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgYWN0aXZlU2xpZGVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBpZiAodHlwZW9mIGFjdGl2ZVNsaWRlc1tpXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdmFyIGhlaWdodCA9IGFjdGl2ZVNsaWRlc1tpXS5vZmZzZXRIZWlnaHQ7XG4gICAgICAgIG5ld0hlaWdodCA9IGhlaWdodCA+IG5ld0hlaWdodCA/IGhlaWdodCA6IG5ld0hlaWdodDtcbiAgICAgIH1cbiAgICB9IC8vIFVwZGF0ZSBIZWlnaHRcblxuXG4gICAgaWYgKG5ld0hlaWdodCkgc3dpcGVyLiR3cmFwcGVyRWwuY3NzKCdoZWlnaHQnLCBuZXdIZWlnaHQgKyBcInB4XCIpO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlU2xpZGVzT2Zmc2V0KCkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIHZhciBzbGlkZXMgPSBzd2lwZXIuc2xpZGVzO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzbGlkZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIHNsaWRlc1tpXS5zd2lwZXJTbGlkZU9mZnNldCA9IHN3aXBlci5pc0hvcml6b250YWwoKSA/IHNsaWRlc1tpXS5vZmZzZXRMZWZ0IDogc2xpZGVzW2ldLm9mZnNldFRvcDtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVTbGlkZXNQcm9ncmVzcyh0cmFuc2xhdGUpIHtcbiAgICBpZiAodHJhbnNsYXRlID09PSB2b2lkIDApIHtcbiAgICAgIHRyYW5zbGF0ZSA9IHRoaXMgJiYgdGhpcy50cmFuc2xhdGUgfHwgMDtcbiAgICB9XG5cbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICB2YXIgcGFyYW1zID0gc3dpcGVyLnBhcmFtcztcbiAgICB2YXIgc2xpZGVzID0gc3dpcGVyLnNsaWRlcyxcbiAgICAgICAgcnRsID0gc3dpcGVyLnJ0bFRyYW5zbGF0ZTtcbiAgICBpZiAoc2xpZGVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICAgIGlmICh0eXBlb2Ygc2xpZGVzWzBdLnN3aXBlclNsaWRlT2Zmc2V0ID09PSAndW5kZWZpbmVkJykgc3dpcGVyLnVwZGF0ZVNsaWRlc09mZnNldCgpO1xuICAgIHZhciBvZmZzZXRDZW50ZXIgPSAtdHJhbnNsYXRlO1xuICAgIGlmIChydGwpIG9mZnNldENlbnRlciA9IHRyYW5zbGF0ZTsgLy8gVmlzaWJsZSBTbGlkZXNcblxuICAgIHNsaWRlcy5yZW1vdmVDbGFzcyhwYXJhbXMuc2xpZGVWaXNpYmxlQ2xhc3MpO1xuICAgIHN3aXBlci52aXNpYmxlU2xpZGVzSW5kZXhlcyA9IFtdO1xuICAgIHN3aXBlci52aXNpYmxlU2xpZGVzID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNsaWRlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgdmFyIHNsaWRlID0gc2xpZGVzW2ldO1xuICAgICAgdmFyIHNsaWRlUHJvZ3Jlc3MgPSAob2Zmc2V0Q2VudGVyICsgKHBhcmFtcy5jZW50ZXJlZFNsaWRlcyA/IHN3aXBlci5taW5UcmFuc2xhdGUoKSA6IDApIC0gc2xpZGUuc3dpcGVyU2xpZGVPZmZzZXQpIC8gKHNsaWRlLnN3aXBlclNsaWRlU2l6ZSArIHBhcmFtcy5zcGFjZUJldHdlZW4pO1xuXG4gICAgICBpZiAocGFyYW1zLndhdGNoU2xpZGVzVmlzaWJpbGl0eSB8fCBwYXJhbXMuY2VudGVyZWRTbGlkZXMgJiYgcGFyYW1zLmF1dG9IZWlnaHQpIHtcbiAgICAgICAgdmFyIHNsaWRlQmVmb3JlID0gLShvZmZzZXRDZW50ZXIgLSBzbGlkZS5zd2lwZXJTbGlkZU9mZnNldCk7XG4gICAgICAgIHZhciBzbGlkZUFmdGVyID0gc2xpZGVCZWZvcmUgKyBzd2lwZXIuc2xpZGVzU2l6ZXNHcmlkW2ldO1xuICAgICAgICB2YXIgaXNWaXNpYmxlID0gc2xpZGVCZWZvcmUgPj0gMCAmJiBzbGlkZUJlZm9yZSA8IHN3aXBlci5zaXplIC0gMSB8fCBzbGlkZUFmdGVyID4gMSAmJiBzbGlkZUFmdGVyIDw9IHN3aXBlci5zaXplIHx8IHNsaWRlQmVmb3JlIDw9IDAgJiYgc2xpZGVBZnRlciA+PSBzd2lwZXIuc2l6ZTtcblxuICAgICAgICBpZiAoaXNWaXNpYmxlKSB7XG4gICAgICAgICAgc3dpcGVyLnZpc2libGVTbGlkZXMucHVzaChzbGlkZSk7XG4gICAgICAgICAgc3dpcGVyLnZpc2libGVTbGlkZXNJbmRleGVzLnB1c2goaSk7XG4gICAgICAgICAgc2xpZGVzLmVxKGkpLmFkZENsYXNzKHBhcmFtcy5zbGlkZVZpc2libGVDbGFzcyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgc2xpZGUucHJvZ3Jlc3MgPSBydGwgPyAtc2xpZGVQcm9ncmVzcyA6IHNsaWRlUHJvZ3Jlc3M7XG4gICAgfVxuXG4gICAgc3dpcGVyLnZpc2libGVTbGlkZXMgPSAkKHN3aXBlci52aXNpYmxlU2xpZGVzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZVByb2dyZXNzKHRyYW5zbGF0ZSkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuXG4gICAgaWYgKHR5cGVvZiB0cmFuc2xhdGUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB2YXIgbXVsdGlwbGllciA9IHN3aXBlci5ydGxUcmFuc2xhdGUgPyAtMSA6IDE7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuXG4gICAgICB0cmFuc2xhdGUgPSBzd2lwZXIgJiYgc3dpcGVyLnRyYW5zbGF0ZSAmJiBzd2lwZXIudHJhbnNsYXRlICogbXVsdGlwbGllciB8fCAwO1xuICAgIH1cblxuICAgIHZhciBwYXJhbXMgPSBzd2lwZXIucGFyYW1zO1xuICAgIHZhciB0cmFuc2xhdGVzRGlmZiA9IHN3aXBlci5tYXhUcmFuc2xhdGUoKSAtIHN3aXBlci5taW5UcmFuc2xhdGUoKTtcbiAgICB2YXIgcHJvZ3Jlc3MgPSBzd2lwZXIucHJvZ3Jlc3MsXG4gICAgICAgIGlzQmVnaW5uaW5nID0gc3dpcGVyLmlzQmVnaW5uaW5nLFxuICAgICAgICBpc0VuZCA9IHN3aXBlci5pc0VuZDtcbiAgICB2YXIgd2FzQmVnaW5uaW5nID0gaXNCZWdpbm5pbmc7XG4gICAgdmFyIHdhc0VuZCA9IGlzRW5kO1xuXG4gICAgaWYgKHRyYW5zbGF0ZXNEaWZmID09PSAwKSB7XG4gICAgICBwcm9ncmVzcyA9IDA7XG4gICAgICBpc0JlZ2lubmluZyA9IHRydWU7XG4gICAgICBpc0VuZCA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHByb2dyZXNzID0gKHRyYW5zbGF0ZSAtIHN3aXBlci5taW5UcmFuc2xhdGUoKSkgLyB0cmFuc2xhdGVzRGlmZjtcbiAgICAgIGlzQmVnaW5uaW5nID0gcHJvZ3Jlc3MgPD0gMDtcbiAgICAgIGlzRW5kID0gcHJvZ3Jlc3MgPj0gMTtcbiAgICB9XG5cbiAgICBleHRlbmQoc3dpcGVyLCB7XG4gICAgICBwcm9ncmVzczogcHJvZ3Jlc3MsXG4gICAgICBpc0JlZ2lubmluZzogaXNCZWdpbm5pbmcsXG4gICAgICBpc0VuZDogaXNFbmRcbiAgICB9KTtcbiAgICBpZiAocGFyYW1zLndhdGNoU2xpZGVzUHJvZ3Jlc3MgfHwgcGFyYW1zLndhdGNoU2xpZGVzVmlzaWJpbGl0eSB8fCBwYXJhbXMuY2VudGVyZWRTbGlkZXMgJiYgcGFyYW1zLmF1dG9IZWlnaHQpIHN3aXBlci51cGRhdGVTbGlkZXNQcm9ncmVzcyh0cmFuc2xhdGUpO1xuXG4gICAgaWYgKGlzQmVnaW5uaW5nICYmICF3YXNCZWdpbm5pbmcpIHtcbiAgICAgIHN3aXBlci5lbWl0KCdyZWFjaEJlZ2lubmluZyB0b0VkZ2UnKTtcbiAgICB9XG5cbiAgICBpZiAoaXNFbmQgJiYgIXdhc0VuZCkge1xuICAgICAgc3dpcGVyLmVtaXQoJ3JlYWNoRW5kIHRvRWRnZScpO1xuICAgIH1cblxuICAgIGlmICh3YXNCZWdpbm5pbmcgJiYgIWlzQmVnaW5uaW5nIHx8IHdhc0VuZCAmJiAhaXNFbmQpIHtcbiAgICAgIHN3aXBlci5lbWl0KCdmcm9tRWRnZScpO1xuICAgIH1cblxuICAgIHN3aXBlci5lbWl0KCdwcm9ncmVzcycsIHByb2dyZXNzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZVNsaWRlc0NsYXNzZXMoKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgdmFyIHNsaWRlcyA9IHN3aXBlci5zbGlkZXMsXG4gICAgICAgIHBhcmFtcyA9IHN3aXBlci5wYXJhbXMsXG4gICAgICAgICR3cmFwcGVyRWwgPSBzd2lwZXIuJHdyYXBwZXJFbCxcbiAgICAgICAgYWN0aXZlSW5kZXggPSBzd2lwZXIuYWN0aXZlSW5kZXgsXG4gICAgICAgIHJlYWxJbmRleCA9IHN3aXBlci5yZWFsSW5kZXg7XG4gICAgdmFyIGlzVmlydHVhbCA9IHN3aXBlci52aXJ0dWFsICYmIHBhcmFtcy52aXJ0dWFsLmVuYWJsZWQ7XG4gICAgc2xpZGVzLnJlbW92ZUNsYXNzKHBhcmFtcy5zbGlkZUFjdGl2ZUNsYXNzICsgXCIgXCIgKyBwYXJhbXMuc2xpZGVOZXh0Q2xhc3MgKyBcIiBcIiArIHBhcmFtcy5zbGlkZVByZXZDbGFzcyArIFwiIFwiICsgcGFyYW1zLnNsaWRlRHVwbGljYXRlQWN0aXZlQ2xhc3MgKyBcIiBcIiArIHBhcmFtcy5zbGlkZUR1cGxpY2F0ZU5leHRDbGFzcyArIFwiIFwiICsgcGFyYW1zLnNsaWRlRHVwbGljYXRlUHJldkNsYXNzKTtcbiAgICB2YXIgYWN0aXZlU2xpZGU7XG5cbiAgICBpZiAoaXNWaXJ0dWFsKSB7XG4gICAgICBhY3RpdmVTbGlkZSA9IHN3aXBlci4kd3JhcHBlckVsLmZpbmQoXCIuXCIgKyBwYXJhbXMuc2xpZGVDbGFzcyArIFwiW2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4PVxcXCJcIiArIGFjdGl2ZUluZGV4ICsgXCJcXFwiXVwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYWN0aXZlU2xpZGUgPSBzbGlkZXMuZXEoYWN0aXZlSW5kZXgpO1xuICAgIH0gLy8gQWN0aXZlIGNsYXNzZXNcblxuXG4gICAgYWN0aXZlU2xpZGUuYWRkQ2xhc3MocGFyYW1zLnNsaWRlQWN0aXZlQ2xhc3MpO1xuXG4gICAgaWYgKHBhcmFtcy5sb29wKSB7XG4gICAgICAvLyBEdXBsaWNhdGUgdG8gYWxsIGxvb3BlZCBzbGlkZXNcbiAgICAgIGlmIChhY3RpdmVTbGlkZS5oYXNDbGFzcyhwYXJhbXMuc2xpZGVEdXBsaWNhdGVDbGFzcykpIHtcbiAgICAgICAgJHdyYXBwZXJFbC5jaGlsZHJlbihcIi5cIiArIHBhcmFtcy5zbGlkZUNsYXNzICsgXCI6bm90KC5cIiArIHBhcmFtcy5zbGlkZUR1cGxpY2F0ZUNsYXNzICsgXCIpW2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4PVxcXCJcIiArIHJlYWxJbmRleCArIFwiXFxcIl1cIikuYWRkQ2xhc3MocGFyYW1zLnNsaWRlRHVwbGljYXRlQWN0aXZlQ2xhc3MpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJHdyYXBwZXJFbC5jaGlsZHJlbihcIi5cIiArIHBhcmFtcy5zbGlkZUNsYXNzICsgXCIuXCIgKyBwYXJhbXMuc2xpZGVEdXBsaWNhdGVDbGFzcyArIFwiW2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4PVxcXCJcIiArIHJlYWxJbmRleCArIFwiXFxcIl1cIikuYWRkQ2xhc3MocGFyYW1zLnNsaWRlRHVwbGljYXRlQWN0aXZlQ2xhc3MpO1xuICAgICAgfVxuICAgIH0gLy8gTmV4dCBTbGlkZVxuXG5cbiAgICB2YXIgbmV4dFNsaWRlID0gYWN0aXZlU2xpZGUubmV4dEFsbChcIi5cIiArIHBhcmFtcy5zbGlkZUNsYXNzKS5lcSgwKS5hZGRDbGFzcyhwYXJhbXMuc2xpZGVOZXh0Q2xhc3MpO1xuXG4gICAgaWYgKHBhcmFtcy5sb29wICYmIG5leHRTbGlkZS5sZW5ndGggPT09IDApIHtcbiAgICAgIG5leHRTbGlkZSA9IHNsaWRlcy5lcSgwKTtcbiAgICAgIG5leHRTbGlkZS5hZGRDbGFzcyhwYXJhbXMuc2xpZGVOZXh0Q2xhc3MpO1xuICAgIH0gLy8gUHJldiBTbGlkZVxuXG5cbiAgICB2YXIgcHJldlNsaWRlID0gYWN0aXZlU2xpZGUucHJldkFsbChcIi5cIiArIHBhcmFtcy5zbGlkZUNsYXNzKS5lcSgwKS5hZGRDbGFzcyhwYXJhbXMuc2xpZGVQcmV2Q2xhc3MpO1xuXG4gICAgaWYgKHBhcmFtcy5sb29wICYmIHByZXZTbGlkZS5sZW5ndGggPT09IDApIHtcbiAgICAgIHByZXZTbGlkZSA9IHNsaWRlcy5lcSgtMSk7XG4gICAgICBwcmV2U2xpZGUuYWRkQ2xhc3MocGFyYW1zLnNsaWRlUHJldkNsYXNzKTtcbiAgICB9XG5cbiAgICBpZiAocGFyYW1zLmxvb3ApIHtcbiAgICAgIC8vIER1cGxpY2F0ZSB0byBhbGwgbG9vcGVkIHNsaWRlc1xuICAgICAgaWYgKG5leHRTbGlkZS5oYXNDbGFzcyhwYXJhbXMuc2xpZGVEdXBsaWNhdGVDbGFzcykpIHtcbiAgICAgICAgJHdyYXBwZXJFbC5jaGlsZHJlbihcIi5cIiArIHBhcmFtcy5zbGlkZUNsYXNzICsgXCI6bm90KC5cIiArIHBhcmFtcy5zbGlkZUR1cGxpY2F0ZUNsYXNzICsgXCIpW2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4PVxcXCJcIiArIG5leHRTbGlkZS5hdHRyKCdkYXRhLXN3aXBlci1zbGlkZS1pbmRleCcpICsgXCJcXFwiXVwiKS5hZGRDbGFzcyhwYXJhbXMuc2xpZGVEdXBsaWNhdGVOZXh0Q2xhc3MpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJHdyYXBwZXJFbC5jaGlsZHJlbihcIi5cIiArIHBhcmFtcy5zbGlkZUNsYXNzICsgXCIuXCIgKyBwYXJhbXMuc2xpZGVEdXBsaWNhdGVDbGFzcyArIFwiW2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4PVxcXCJcIiArIG5leHRTbGlkZS5hdHRyKCdkYXRhLXN3aXBlci1zbGlkZS1pbmRleCcpICsgXCJcXFwiXVwiKS5hZGRDbGFzcyhwYXJhbXMuc2xpZGVEdXBsaWNhdGVOZXh0Q2xhc3MpO1xuICAgICAgfVxuXG4gICAgICBpZiAocHJldlNsaWRlLmhhc0NsYXNzKHBhcmFtcy5zbGlkZUR1cGxpY2F0ZUNsYXNzKSkge1xuICAgICAgICAkd3JhcHBlckVsLmNoaWxkcmVuKFwiLlwiICsgcGFyYW1zLnNsaWRlQ2xhc3MgKyBcIjpub3QoLlwiICsgcGFyYW1zLnNsaWRlRHVwbGljYXRlQ2xhc3MgKyBcIilbZGF0YS1zd2lwZXItc2xpZGUtaW5kZXg9XFxcIlwiICsgcHJldlNsaWRlLmF0dHIoJ2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4JykgKyBcIlxcXCJdXCIpLmFkZENsYXNzKHBhcmFtcy5zbGlkZUR1cGxpY2F0ZVByZXZDbGFzcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkd3JhcHBlckVsLmNoaWxkcmVuKFwiLlwiICsgcGFyYW1zLnNsaWRlQ2xhc3MgKyBcIi5cIiArIHBhcmFtcy5zbGlkZUR1cGxpY2F0ZUNsYXNzICsgXCJbZGF0YS1zd2lwZXItc2xpZGUtaW5kZXg9XFxcIlwiICsgcHJldlNsaWRlLmF0dHIoJ2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4JykgKyBcIlxcXCJdXCIpLmFkZENsYXNzKHBhcmFtcy5zbGlkZUR1cGxpY2F0ZVByZXZDbGFzcyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgc3dpcGVyLmVtaXRTbGlkZXNDbGFzc2VzKCk7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVBY3RpdmVJbmRleChuZXdBY3RpdmVJbmRleCkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIHZhciB0cmFuc2xhdGUgPSBzd2lwZXIucnRsVHJhbnNsYXRlID8gc3dpcGVyLnRyYW5zbGF0ZSA6IC1zd2lwZXIudHJhbnNsYXRlO1xuICAgIHZhciBzbGlkZXNHcmlkID0gc3dpcGVyLnNsaWRlc0dyaWQsXG4gICAgICAgIHNuYXBHcmlkID0gc3dpcGVyLnNuYXBHcmlkLFxuICAgICAgICBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLFxuICAgICAgICBwcmV2aW91c0luZGV4ID0gc3dpcGVyLmFjdGl2ZUluZGV4LFxuICAgICAgICBwcmV2aW91c1JlYWxJbmRleCA9IHN3aXBlci5yZWFsSW5kZXgsXG4gICAgICAgIHByZXZpb3VzU25hcEluZGV4ID0gc3dpcGVyLnNuYXBJbmRleDtcbiAgICB2YXIgYWN0aXZlSW5kZXggPSBuZXdBY3RpdmVJbmRleDtcbiAgICB2YXIgc25hcEluZGV4O1xuXG4gICAgaWYgKHR5cGVvZiBhY3RpdmVJbmRleCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2xpZGVzR3JpZC5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBpZiAodHlwZW9mIHNsaWRlc0dyaWRbaSArIDFdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIGlmICh0cmFuc2xhdGUgPj0gc2xpZGVzR3JpZFtpXSAmJiB0cmFuc2xhdGUgPCBzbGlkZXNHcmlkW2kgKyAxXSAtIChzbGlkZXNHcmlkW2kgKyAxXSAtIHNsaWRlc0dyaWRbaV0pIC8gMikge1xuICAgICAgICAgICAgYWN0aXZlSW5kZXggPSBpO1xuICAgICAgICAgIH0gZWxzZSBpZiAodHJhbnNsYXRlID49IHNsaWRlc0dyaWRbaV0gJiYgdHJhbnNsYXRlIDwgc2xpZGVzR3JpZFtpICsgMV0pIHtcbiAgICAgICAgICAgIGFjdGl2ZUluZGV4ID0gaSArIDE7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHRyYW5zbGF0ZSA+PSBzbGlkZXNHcmlkW2ldKSB7XG4gICAgICAgICAgYWN0aXZlSW5kZXggPSBpO1xuICAgICAgICB9XG4gICAgICB9IC8vIE5vcm1hbGl6ZSBzbGlkZUluZGV4XG5cblxuICAgICAgaWYgKHBhcmFtcy5ub3JtYWxpemVTbGlkZUluZGV4KSB7XG4gICAgICAgIGlmIChhY3RpdmVJbmRleCA8IDAgfHwgdHlwZW9mIGFjdGl2ZUluZGV4ID09PSAndW5kZWZpbmVkJykgYWN0aXZlSW5kZXggPSAwO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzbmFwR3JpZC5pbmRleE9mKHRyYW5zbGF0ZSkgPj0gMCkge1xuICAgICAgc25hcEluZGV4ID0gc25hcEdyaWQuaW5kZXhPZih0cmFuc2xhdGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgc2tpcCA9IE1hdGgubWluKHBhcmFtcy5zbGlkZXNQZXJHcm91cFNraXAsIGFjdGl2ZUluZGV4KTtcbiAgICAgIHNuYXBJbmRleCA9IHNraXAgKyBNYXRoLmZsb29yKChhY3RpdmVJbmRleCAtIHNraXApIC8gcGFyYW1zLnNsaWRlc1Blckdyb3VwKTtcbiAgICB9XG5cbiAgICBpZiAoc25hcEluZGV4ID49IHNuYXBHcmlkLmxlbmd0aCkgc25hcEluZGV4ID0gc25hcEdyaWQubGVuZ3RoIC0gMTtcblxuICAgIGlmIChhY3RpdmVJbmRleCA9PT0gcHJldmlvdXNJbmRleCkge1xuICAgICAgaWYgKHNuYXBJbmRleCAhPT0gcHJldmlvdXNTbmFwSW5kZXgpIHtcbiAgICAgICAgc3dpcGVyLnNuYXBJbmRleCA9IHNuYXBJbmRleDtcbiAgICAgICAgc3dpcGVyLmVtaXQoJ3NuYXBJbmRleENoYW5nZScpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm47XG4gICAgfSAvLyBHZXQgcmVhbCBpbmRleFxuXG5cbiAgICB2YXIgcmVhbEluZGV4ID0gcGFyc2VJbnQoc3dpcGVyLnNsaWRlcy5lcShhY3RpdmVJbmRleCkuYXR0cignZGF0YS1zd2lwZXItc2xpZGUtaW5kZXgnKSB8fCBhY3RpdmVJbmRleCwgMTApO1xuICAgIGV4dGVuZChzd2lwZXIsIHtcbiAgICAgIHNuYXBJbmRleDogc25hcEluZGV4LFxuICAgICAgcmVhbEluZGV4OiByZWFsSW5kZXgsXG4gICAgICBwcmV2aW91c0luZGV4OiBwcmV2aW91c0luZGV4LFxuICAgICAgYWN0aXZlSW5kZXg6IGFjdGl2ZUluZGV4XG4gICAgfSk7XG4gICAgc3dpcGVyLmVtaXQoJ2FjdGl2ZUluZGV4Q2hhbmdlJyk7XG4gICAgc3dpcGVyLmVtaXQoJ3NuYXBJbmRleENoYW5nZScpO1xuXG4gICAgaWYgKHByZXZpb3VzUmVhbEluZGV4ICE9PSByZWFsSW5kZXgpIHtcbiAgICAgIHN3aXBlci5lbWl0KCdyZWFsSW5kZXhDaGFuZ2UnKTtcbiAgICB9XG5cbiAgICBpZiAoc3dpcGVyLmluaXRpYWxpemVkIHx8IHN3aXBlci5wYXJhbXMucnVuQ2FsbGJhY2tzT25Jbml0KSB7XG4gICAgICBzd2lwZXIuZW1pdCgnc2xpZGVDaGFuZ2UnKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVDbGlja2VkU2xpZGUoZSkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIHZhciBwYXJhbXMgPSBzd2lwZXIucGFyYW1zO1xuICAgIHZhciBzbGlkZSA9ICQoZS50YXJnZXQpLmNsb3Nlc3QoXCIuXCIgKyBwYXJhbXMuc2xpZGVDbGFzcylbMF07XG4gICAgdmFyIHNsaWRlRm91bmQgPSBmYWxzZTtcbiAgICB2YXIgc2xpZGVJbmRleDtcblxuICAgIGlmIChzbGlkZSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzd2lwZXIuc2xpZGVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGlmIChzd2lwZXIuc2xpZGVzW2ldID09PSBzbGlkZSkge1xuICAgICAgICAgIHNsaWRlRm91bmQgPSB0cnVlO1xuICAgICAgICAgIHNsaWRlSW5kZXggPSBpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHNsaWRlICYmIHNsaWRlRm91bmQpIHtcbiAgICAgIHN3aXBlci5jbGlja2VkU2xpZGUgPSBzbGlkZTtcblxuICAgICAgaWYgKHN3aXBlci52aXJ0dWFsICYmIHN3aXBlci5wYXJhbXMudmlydHVhbC5lbmFibGVkKSB7XG4gICAgICAgIHN3aXBlci5jbGlja2VkSW5kZXggPSBwYXJzZUludCgkKHNsaWRlKS5hdHRyKCdkYXRhLXN3aXBlci1zbGlkZS1pbmRleCcpLCAxMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzd2lwZXIuY2xpY2tlZEluZGV4ID0gc2xpZGVJbmRleDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc3dpcGVyLmNsaWNrZWRTbGlkZSA9IHVuZGVmaW5lZDtcbiAgICAgIHN3aXBlci5jbGlja2VkSW5kZXggPSB1bmRlZmluZWQ7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHBhcmFtcy5zbGlkZVRvQ2xpY2tlZFNsaWRlICYmIHN3aXBlci5jbGlja2VkSW5kZXggIT09IHVuZGVmaW5lZCAmJiBzd2lwZXIuY2xpY2tlZEluZGV4ICE9PSBzd2lwZXIuYWN0aXZlSW5kZXgpIHtcbiAgICAgIHN3aXBlci5zbGlkZVRvQ2xpY2tlZFNsaWRlKCk7XG4gICAgfVxuICB9XG5cbiAgdmFyIHVwZGF0ZSA9IHtcbiAgICB1cGRhdGVTaXplOiB1cGRhdGVTaXplLFxuICAgIHVwZGF0ZVNsaWRlczogdXBkYXRlU2xpZGVzLFxuICAgIHVwZGF0ZUF1dG9IZWlnaHQ6IHVwZGF0ZUF1dG9IZWlnaHQsXG4gICAgdXBkYXRlU2xpZGVzT2Zmc2V0OiB1cGRhdGVTbGlkZXNPZmZzZXQsXG4gICAgdXBkYXRlU2xpZGVzUHJvZ3Jlc3M6IHVwZGF0ZVNsaWRlc1Byb2dyZXNzLFxuICAgIHVwZGF0ZVByb2dyZXNzOiB1cGRhdGVQcm9ncmVzcyxcbiAgICB1cGRhdGVTbGlkZXNDbGFzc2VzOiB1cGRhdGVTbGlkZXNDbGFzc2VzLFxuICAgIHVwZGF0ZUFjdGl2ZUluZGV4OiB1cGRhdGVBY3RpdmVJbmRleCxcbiAgICB1cGRhdGVDbGlja2VkU2xpZGU6IHVwZGF0ZUNsaWNrZWRTbGlkZVxuICB9O1xuXG4gIGZ1bmN0aW9uIGdldFN3aXBlclRyYW5zbGF0ZShheGlzKSB7XG4gICAgaWYgKGF4aXMgPT09IHZvaWQgMCkge1xuICAgICAgYXhpcyA9IHRoaXMuaXNIb3Jpem9udGFsKCkgPyAneCcgOiAneSc7XG4gICAgfVxuXG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgdmFyIHBhcmFtcyA9IHN3aXBlci5wYXJhbXMsXG4gICAgICAgIHJ0bCA9IHN3aXBlci5ydGxUcmFuc2xhdGUsXG4gICAgICAgIHRyYW5zbGF0ZSA9IHN3aXBlci50cmFuc2xhdGUsXG4gICAgICAgICR3cmFwcGVyRWwgPSBzd2lwZXIuJHdyYXBwZXJFbDtcblxuICAgIGlmIChwYXJhbXMudmlydHVhbFRyYW5zbGF0ZSkge1xuICAgICAgcmV0dXJuIHJ0bCA/IC10cmFuc2xhdGUgOiB0cmFuc2xhdGU7XG4gICAgfVxuXG4gICAgaWYgKHBhcmFtcy5jc3NNb2RlKSB7XG4gICAgICByZXR1cm4gdHJhbnNsYXRlO1xuICAgIH1cblxuICAgIHZhciBjdXJyZW50VHJhbnNsYXRlID0gZ2V0VHJhbnNsYXRlKCR3cmFwcGVyRWxbMF0sIGF4aXMpO1xuICAgIGlmIChydGwpIGN1cnJlbnRUcmFuc2xhdGUgPSAtY3VycmVudFRyYW5zbGF0ZTtcbiAgICByZXR1cm4gY3VycmVudFRyYW5zbGF0ZSB8fCAwO1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0VHJhbnNsYXRlKHRyYW5zbGF0ZSwgYnlDb250cm9sbGVyKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgdmFyIHJ0bCA9IHN3aXBlci5ydGxUcmFuc2xhdGUsXG4gICAgICAgIHBhcmFtcyA9IHN3aXBlci5wYXJhbXMsXG4gICAgICAgICR3cmFwcGVyRWwgPSBzd2lwZXIuJHdyYXBwZXJFbCxcbiAgICAgICAgd3JhcHBlckVsID0gc3dpcGVyLndyYXBwZXJFbCxcbiAgICAgICAgcHJvZ3Jlc3MgPSBzd2lwZXIucHJvZ3Jlc3M7XG4gICAgdmFyIHggPSAwO1xuICAgIHZhciB5ID0gMDtcbiAgICB2YXIgeiA9IDA7XG5cbiAgICBpZiAoc3dpcGVyLmlzSG9yaXpvbnRhbCgpKSB7XG4gICAgICB4ID0gcnRsID8gLXRyYW5zbGF0ZSA6IHRyYW5zbGF0ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgeSA9IHRyYW5zbGF0ZTtcbiAgICB9XG5cbiAgICBpZiAocGFyYW1zLnJvdW5kTGVuZ3Rocykge1xuICAgICAgeCA9IE1hdGguZmxvb3IoeCk7XG4gICAgICB5ID0gTWF0aC5mbG9vcih5KTtcbiAgICB9XG5cbiAgICBpZiAocGFyYW1zLmNzc01vZGUpIHtcbiAgICAgIHdyYXBwZXJFbFtzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyAnc2Nyb2xsTGVmdCcgOiAnc2Nyb2xsVG9wJ10gPSBzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyAteCA6IC15O1xuICAgIH0gZWxzZSBpZiAoIXBhcmFtcy52aXJ0dWFsVHJhbnNsYXRlKSB7XG4gICAgICAkd3JhcHBlckVsLnRyYW5zZm9ybShcInRyYW5zbGF0ZTNkKFwiICsgeCArIFwicHgsIFwiICsgeSArIFwicHgsIFwiICsgeiArIFwicHgpXCIpO1xuICAgIH1cblxuICAgIHN3aXBlci5wcmV2aW91c1RyYW5zbGF0ZSA9IHN3aXBlci50cmFuc2xhdGU7XG4gICAgc3dpcGVyLnRyYW5zbGF0ZSA9IHN3aXBlci5pc0hvcml6b250YWwoKSA/IHggOiB5OyAvLyBDaGVjayBpZiB3ZSBuZWVkIHRvIHVwZGF0ZSBwcm9ncmVzc1xuXG4gICAgdmFyIG5ld1Byb2dyZXNzO1xuICAgIHZhciB0cmFuc2xhdGVzRGlmZiA9IHN3aXBlci5tYXhUcmFuc2xhdGUoKSAtIHN3aXBlci5taW5UcmFuc2xhdGUoKTtcblxuICAgIGlmICh0cmFuc2xhdGVzRGlmZiA9PT0gMCkge1xuICAgICAgbmV3UHJvZ3Jlc3MgPSAwO1xuICAgIH0gZWxzZSB7XG4gICAgICBuZXdQcm9ncmVzcyA9ICh0cmFuc2xhdGUgLSBzd2lwZXIubWluVHJhbnNsYXRlKCkpIC8gdHJhbnNsYXRlc0RpZmY7XG4gICAgfVxuXG4gICAgaWYgKG5ld1Byb2dyZXNzICE9PSBwcm9ncmVzcykge1xuICAgICAgc3dpcGVyLnVwZGF0ZVByb2dyZXNzKHRyYW5zbGF0ZSk7XG4gICAgfVxuXG4gICAgc3dpcGVyLmVtaXQoJ3NldFRyYW5zbGF0ZScsIHN3aXBlci50cmFuc2xhdGUsIGJ5Q29udHJvbGxlcik7XG4gIH1cblxuICBmdW5jdGlvbiBtaW5UcmFuc2xhdGUoKSB7XG4gICAgcmV0dXJuIC10aGlzLnNuYXBHcmlkWzBdO1xuICB9XG5cbiAgZnVuY3Rpb24gbWF4VHJhbnNsYXRlKCkge1xuICAgIHJldHVybiAtdGhpcy5zbmFwR3JpZFt0aGlzLnNuYXBHcmlkLmxlbmd0aCAtIDFdO1xuICB9XG5cbiAgZnVuY3Rpb24gdHJhbnNsYXRlVG8odHJhbnNsYXRlLCBzcGVlZCwgcnVuQ2FsbGJhY2tzLCB0cmFuc2xhdGVCb3VuZHMsIGludGVybmFsKSB7XG4gICAgaWYgKHRyYW5zbGF0ZSA9PT0gdm9pZCAwKSB7XG4gICAgICB0cmFuc2xhdGUgPSAwO1xuICAgIH1cblxuICAgIGlmIChzcGVlZCA9PT0gdm9pZCAwKSB7XG4gICAgICBzcGVlZCA9IHRoaXMucGFyYW1zLnNwZWVkO1xuICAgIH1cblxuICAgIGlmIChydW5DYWxsYmFja3MgPT09IHZvaWQgMCkge1xuICAgICAgcnVuQ2FsbGJhY2tzID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAodHJhbnNsYXRlQm91bmRzID09PSB2b2lkIDApIHtcbiAgICAgIHRyYW5zbGF0ZUJvdW5kcyA9IHRydWU7XG4gICAgfVxuXG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgdmFyIHBhcmFtcyA9IHN3aXBlci5wYXJhbXMsXG4gICAgICAgIHdyYXBwZXJFbCA9IHN3aXBlci53cmFwcGVyRWw7XG5cbiAgICBpZiAoc3dpcGVyLmFuaW1hdGluZyAmJiBwYXJhbXMucHJldmVudEludGVyYWN0aW9uT25UcmFuc2l0aW9uKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIG1pblRyYW5zbGF0ZSA9IHN3aXBlci5taW5UcmFuc2xhdGUoKTtcbiAgICB2YXIgbWF4VHJhbnNsYXRlID0gc3dpcGVyLm1heFRyYW5zbGF0ZSgpO1xuICAgIHZhciBuZXdUcmFuc2xhdGU7XG4gICAgaWYgKHRyYW5zbGF0ZUJvdW5kcyAmJiB0cmFuc2xhdGUgPiBtaW5UcmFuc2xhdGUpIG5ld1RyYW5zbGF0ZSA9IG1pblRyYW5zbGF0ZTtlbHNlIGlmICh0cmFuc2xhdGVCb3VuZHMgJiYgdHJhbnNsYXRlIDwgbWF4VHJhbnNsYXRlKSBuZXdUcmFuc2xhdGUgPSBtYXhUcmFuc2xhdGU7ZWxzZSBuZXdUcmFuc2xhdGUgPSB0cmFuc2xhdGU7IC8vIFVwZGF0ZSBwcm9ncmVzc1xuXG4gICAgc3dpcGVyLnVwZGF0ZVByb2dyZXNzKG5ld1RyYW5zbGF0ZSk7XG5cbiAgICBpZiAocGFyYW1zLmNzc01vZGUpIHtcbiAgICAgIHZhciBpc0ggPSBzd2lwZXIuaXNIb3Jpem9udGFsKCk7XG5cbiAgICAgIGlmIChzcGVlZCA9PT0gMCkge1xuICAgICAgICB3cmFwcGVyRWxbaXNIID8gJ3Njcm9sbExlZnQnIDogJ3Njcm9sbFRvcCddID0gLW5ld1RyYW5zbGF0ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgICBpZiAod3JhcHBlckVsLnNjcm9sbFRvKSB7XG4gICAgICAgICAgdmFyIF93cmFwcGVyRWwkc2Nyb2xsVG87XG5cbiAgICAgICAgICB3cmFwcGVyRWwuc2Nyb2xsVG8oKF93cmFwcGVyRWwkc2Nyb2xsVG8gPSB7fSwgX3dyYXBwZXJFbCRzY3JvbGxUb1tpc0ggPyAnbGVmdCcgOiAndG9wJ10gPSAtbmV3VHJhbnNsYXRlLCBfd3JhcHBlckVsJHNjcm9sbFRvLmJlaGF2aW9yID0gJ3Ntb290aCcsIF93cmFwcGVyRWwkc2Nyb2xsVG8pKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB3cmFwcGVyRWxbaXNIID8gJ3Njcm9sbExlZnQnIDogJ3Njcm9sbFRvcCddID0gLW5ld1RyYW5zbGF0ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoc3BlZWQgPT09IDApIHtcbiAgICAgIHN3aXBlci5zZXRUcmFuc2l0aW9uKDApO1xuICAgICAgc3dpcGVyLnNldFRyYW5zbGF0ZShuZXdUcmFuc2xhdGUpO1xuXG4gICAgICBpZiAocnVuQ2FsbGJhY2tzKSB7XG4gICAgICAgIHN3aXBlci5lbWl0KCdiZWZvcmVUcmFuc2l0aW9uU3RhcnQnLCBzcGVlZCwgaW50ZXJuYWwpO1xuICAgICAgICBzd2lwZXIuZW1pdCgndHJhbnNpdGlvbkVuZCcpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzd2lwZXIuc2V0VHJhbnNpdGlvbihzcGVlZCk7XG4gICAgICBzd2lwZXIuc2V0VHJhbnNsYXRlKG5ld1RyYW5zbGF0ZSk7XG5cbiAgICAgIGlmIChydW5DYWxsYmFja3MpIHtcbiAgICAgICAgc3dpcGVyLmVtaXQoJ2JlZm9yZVRyYW5zaXRpb25TdGFydCcsIHNwZWVkLCBpbnRlcm5hbCk7XG4gICAgICAgIHN3aXBlci5lbWl0KCd0cmFuc2l0aW9uU3RhcnQnKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFzd2lwZXIuYW5pbWF0aW5nKSB7XG4gICAgICAgIHN3aXBlci5hbmltYXRpbmcgPSB0cnVlO1xuXG4gICAgICAgIGlmICghc3dpcGVyLm9uVHJhbnNsYXRlVG9XcmFwcGVyVHJhbnNpdGlvbkVuZCkge1xuICAgICAgICAgIHN3aXBlci5vblRyYW5zbGF0ZVRvV3JhcHBlclRyYW5zaXRpb25FbmQgPSBmdW5jdGlvbiB0cmFuc2l0aW9uRW5kKGUpIHtcbiAgICAgICAgICAgIGlmICghc3dpcGVyIHx8IHN3aXBlci5kZXN0cm95ZWQpIHJldHVybjtcbiAgICAgICAgICAgIGlmIChlLnRhcmdldCAhPT0gdGhpcykgcmV0dXJuO1xuICAgICAgICAgICAgc3dpcGVyLiR3cmFwcGVyRWxbMF0ucmVtb3ZlRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIHN3aXBlci5vblRyYW5zbGF0ZVRvV3JhcHBlclRyYW5zaXRpb25FbmQpO1xuICAgICAgICAgICAgc3dpcGVyLiR3cmFwcGVyRWxbMF0ucmVtb3ZlRXZlbnRMaXN0ZW5lcignd2Via2l0VHJhbnNpdGlvbkVuZCcsIHN3aXBlci5vblRyYW5zbGF0ZVRvV3JhcHBlclRyYW5zaXRpb25FbmQpO1xuICAgICAgICAgICAgc3dpcGVyLm9uVHJhbnNsYXRlVG9XcmFwcGVyVHJhbnNpdGlvbkVuZCA9IG51bGw7XG4gICAgICAgICAgICBkZWxldGUgc3dpcGVyLm9uVHJhbnNsYXRlVG9XcmFwcGVyVHJhbnNpdGlvbkVuZDtcblxuICAgICAgICAgICAgaWYgKHJ1bkNhbGxiYWNrcykge1xuICAgICAgICAgICAgICBzd2lwZXIuZW1pdCgndHJhbnNpdGlvbkVuZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBzd2lwZXIuJHdyYXBwZXJFbFswXS5hZGRFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgc3dpcGVyLm9uVHJhbnNsYXRlVG9XcmFwcGVyVHJhbnNpdGlvbkVuZCk7XG4gICAgICAgIHN3aXBlci4kd3JhcHBlckVsWzBdLmFkZEV2ZW50TGlzdGVuZXIoJ3dlYmtpdFRyYW5zaXRpb25FbmQnLCBzd2lwZXIub25UcmFuc2xhdGVUb1dyYXBwZXJUcmFuc2l0aW9uRW5kKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHZhciB0cmFuc2xhdGUgPSB7XG4gICAgZ2V0VHJhbnNsYXRlOiBnZXRTd2lwZXJUcmFuc2xhdGUsXG4gICAgc2V0VHJhbnNsYXRlOiBzZXRUcmFuc2xhdGUsXG4gICAgbWluVHJhbnNsYXRlOiBtaW5UcmFuc2xhdGUsXG4gICAgbWF4VHJhbnNsYXRlOiBtYXhUcmFuc2xhdGUsXG4gICAgdHJhbnNsYXRlVG86IHRyYW5zbGF0ZVRvXG4gIH07XG5cbiAgZnVuY3Rpb24gc2V0VHJhbnNpdGlvbihkdXJhdGlvbiwgYnlDb250cm9sbGVyKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG5cbiAgICBpZiAoIXN3aXBlci5wYXJhbXMuY3NzTW9kZSkge1xuICAgICAgc3dpcGVyLiR3cmFwcGVyRWwudHJhbnNpdGlvbihkdXJhdGlvbik7XG4gICAgfVxuXG4gICAgc3dpcGVyLmVtaXQoJ3NldFRyYW5zaXRpb24nLCBkdXJhdGlvbiwgYnlDb250cm9sbGVyKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRyYW5zaXRpb25TdGFydChydW5DYWxsYmFja3MsIGRpcmVjdGlvbikge1xuICAgIGlmIChydW5DYWxsYmFja3MgPT09IHZvaWQgMCkge1xuICAgICAgcnVuQ2FsbGJhY2tzID0gdHJ1ZTtcbiAgICB9XG5cbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICB2YXIgYWN0aXZlSW5kZXggPSBzd2lwZXIuYWN0aXZlSW5kZXgsXG4gICAgICAgIHBhcmFtcyA9IHN3aXBlci5wYXJhbXMsXG4gICAgICAgIHByZXZpb3VzSW5kZXggPSBzd2lwZXIucHJldmlvdXNJbmRleDtcbiAgICBpZiAocGFyYW1zLmNzc01vZGUpIHJldHVybjtcblxuICAgIGlmIChwYXJhbXMuYXV0b0hlaWdodCkge1xuICAgICAgc3dpcGVyLnVwZGF0ZUF1dG9IZWlnaHQoKTtcbiAgICB9XG5cbiAgICB2YXIgZGlyID0gZGlyZWN0aW9uO1xuXG4gICAgaWYgKCFkaXIpIHtcbiAgICAgIGlmIChhY3RpdmVJbmRleCA+IHByZXZpb3VzSW5kZXgpIGRpciA9ICduZXh0JztlbHNlIGlmIChhY3RpdmVJbmRleCA8IHByZXZpb3VzSW5kZXgpIGRpciA9ICdwcmV2JztlbHNlIGRpciA9ICdyZXNldCc7XG4gICAgfVxuXG4gICAgc3dpcGVyLmVtaXQoJ3RyYW5zaXRpb25TdGFydCcpO1xuXG4gICAgaWYgKHJ1bkNhbGxiYWNrcyAmJiBhY3RpdmVJbmRleCAhPT0gcHJldmlvdXNJbmRleCkge1xuICAgICAgaWYgKGRpciA9PT0gJ3Jlc2V0Jykge1xuICAgICAgICBzd2lwZXIuZW1pdCgnc2xpZGVSZXNldFRyYW5zaXRpb25TdGFydCcpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHN3aXBlci5lbWl0KCdzbGlkZUNoYW5nZVRyYW5zaXRpb25TdGFydCcpO1xuXG4gICAgICBpZiAoZGlyID09PSAnbmV4dCcpIHtcbiAgICAgICAgc3dpcGVyLmVtaXQoJ3NsaWRlTmV4dFRyYW5zaXRpb25TdGFydCcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3dpcGVyLmVtaXQoJ3NsaWRlUHJldlRyYW5zaXRpb25TdGFydCcpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHRyYW5zaXRpb25FbmQocnVuQ2FsbGJhY2tzLCBkaXJlY3Rpb24pIHtcbiAgICBpZiAocnVuQ2FsbGJhY2tzID09PSB2b2lkIDApIHtcbiAgICAgIHJ1bkNhbGxiYWNrcyA9IHRydWU7XG4gICAgfVxuXG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgdmFyIGFjdGl2ZUluZGV4ID0gc3dpcGVyLmFjdGl2ZUluZGV4LFxuICAgICAgICBwcmV2aW91c0luZGV4ID0gc3dpcGVyLnByZXZpb3VzSW5kZXgsXG4gICAgICAgIHBhcmFtcyA9IHN3aXBlci5wYXJhbXM7XG4gICAgc3dpcGVyLmFuaW1hdGluZyA9IGZhbHNlO1xuICAgIGlmIChwYXJhbXMuY3NzTW9kZSkgcmV0dXJuO1xuICAgIHN3aXBlci5zZXRUcmFuc2l0aW9uKDApO1xuICAgIHZhciBkaXIgPSBkaXJlY3Rpb247XG5cbiAgICBpZiAoIWRpcikge1xuICAgICAgaWYgKGFjdGl2ZUluZGV4ID4gcHJldmlvdXNJbmRleCkgZGlyID0gJ25leHQnO2Vsc2UgaWYgKGFjdGl2ZUluZGV4IDwgcHJldmlvdXNJbmRleCkgZGlyID0gJ3ByZXYnO2Vsc2UgZGlyID0gJ3Jlc2V0JztcbiAgICB9XG5cbiAgICBzd2lwZXIuZW1pdCgndHJhbnNpdGlvbkVuZCcpO1xuXG4gICAgaWYgKHJ1bkNhbGxiYWNrcyAmJiBhY3RpdmVJbmRleCAhPT0gcHJldmlvdXNJbmRleCkge1xuICAgICAgaWYgKGRpciA9PT0gJ3Jlc2V0Jykge1xuICAgICAgICBzd2lwZXIuZW1pdCgnc2xpZGVSZXNldFRyYW5zaXRpb25FbmQnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBzd2lwZXIuZW1pdCgnc2xpZGVDaGFuZ2VUcmFuc2l0aW9uRW5kJyk7XG5cbiAgICAgIGlmIChkaXIgPT09ICduZXh0Jykge1xuICAgICAgICBzd2lwZXIuZW1pdCgnc2xpZGVOZXh0VHJhbnNpdGlvbkVuZCcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3dpcGVyLmVtaXQoJ3NsaWRlUHJldlRyYW5zaXRpb25FbmQnKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB2YXIgdHJhbnNpdGlvbiA9IHtcbiAgICBzZXRUcmFuc2l0aW9uOiBzZXRUcmFuc2l0aW9uLFxuICAgIHRyYW5zaXRpb25TdGFydDogdHJhbnNpdGlvblN0YXJ0LFxuICAgIHRyYW5zaXRpb25FbmQ6IHRyYW5zaXRpb25FbmRcbiAgfTtcblxuICBmdW5jdGlvbiBzbGlkZVRvKGluZGV4LCBzcGVlZCwgcnVuQ2FsbGJhY2tzLCBpbnRlcm5hbCwgaW5pdGlhbCkge1xuICAgIGlmIChpbmRleCA9PT0gdm9pZCAwKSB7XG4gICAgICBpbmRleCA9IDA7XG4gICAgfVxuXG4gICAgaWYgKHNwZWVkID09PSB2b2lkIDApIHtcbiAgICAgIHNwZWVkID0gdGhpcy5wYXJhbXMuc3BlZWQ7XG4gICAgfVxuXG4gICAgaWYgKHJ1bkNhbGxiYWNrcyA9PT0gdm9pZCAwKSB7XG4gICAgICBydW5DYWxsYmFja3MgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgaW5kZXggIT09ICdudW1iZXInICYmIHR5cGVvZiBpbmRleCAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoZSAnaW5kZXgnIGFyZ3VtZW50IGNhbm5vdCBoYXZlIHR5cGUgb3RoZXIgdGhhbiAnbnVtYmVyJyBvciAnc3RyaW5nJy4gW1wiICsgdHlwZW9mIGluZGV4ICsgXCJdIGdpdmVuLlwiKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGluZGV4ID09PSAnc3RyaW5nJykge1xuICAgICAgLyoqXG4gICAgICAgKiBUaGUgYGluZGV4YCBhcmd1bWVudCBjb252ZXJ0ZWQgZnJvbSBgc3RyaW5nYCB0byBgbnVtYmVyYC5cbiAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgKi9cbiAgICAgIHZhciBpbmRleEFzTnVtYmVyID0gcGFyc2VJbnQoaW5kZXgsIDEwKTtcbiAgICAgIC8qKlxuICAgICAgICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBgaW5kZXhgIGFyZ3VtZW50IGlzIGEgdmFsaWQgYG51bWJlcmBcbiAgICAgICAqIGFmdGVyIGJlaW5nIGNvbnZlcnRlZCBmcm9tIHRoZSBgc3RyaW5nYCB0eXBlLlxuICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgKi9cblxuICAgICAgdmFyIGlzVmFsaWROdW1iZXIgPSBpc0Zpbml0ZShpbmRleEFzTnVtYmVyKTtcblxuICAgICAgaWYgKCFpc1ZhbGlkTnVtYmVyKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoZSBwYXNzZWQtaW4gJ2luZGV4JyAoc3RyaW5nKSBjb3VsZG4ndCBiZSBjb252ZXJ0ZWQgdG8gJ251bWJlcicuIFtcIiArIGluZGV4ICsgXCJdIGdpdmVuLlwiKTtcbiAgICAgIH0gLy8gS25vd2luZyB0aGF0IHRoZSBjb252ZXJ0ZWQgYGluZGV4YCBpcyBhIHZhbGlkIG51bWJlcixcbiAgICAgIC8vIHdlIGNhbiB1cGRhdGUgdGhlIG9yaWdpbmFsIGFyZ3VtZW50J3MgdmFsdWUuXG5cblxuICAgICAgaW5kZXggPSBpbmRleEFzTnVtYmVyO1xuICAgIH1cblxuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIHZhciBzbGlkZUluZGV4ID0gaW5kZXg7XG4gICAgaWYgKHNsaWRlSW5kZXggPCAwKSBzbGlkZUluZGV4ID0gMDtcbiAgICB2YXIgcGFyYW1zID0gc3dpcGVyLnBhcmFtcyxcbiAgICAgICAgc25hcEdyaWQgPSBzd2lwZXIuc25hcEdyaWQsXG4gICAgICAgIHNsaWRlc0dyaWQgPSBzd2lwZXIuc2xpZGVzR3JpZCxcbiAgICAgICAgcHJldmlvdXNJbmRleCA9IHN3aXBlci5wcmV2aW91c0luZGV4LFxuICAgICAgICBhY3RpdmVJbmRleCA9IHN3aXBlci5hY3RpdmVJbmRleCxcbiAgICAgICAgcnRsID0gc3dpcGVyLnJ0bFRyYW5zbGF0ZSxcbiAgICAgICAgd3JhcHBlckVsID0gc3dpcGVyLndyYXBwZXJFbCxcbiAgICAgICAgZW5hYmxlZCA9IHN3aXBlci5lbmFibGVkO1xuXG4gICAgaWYgKHN3aXBlci5hbmltYXRpbmcgJiYgcGFyYW1zLnByZXZlbnRJbnRlcmFjdGlvbk9uVHJhbnNpdGlvbiB8fCAhZW5hYmxlZCAmJiAhaW50ZXJuYWwgJiYgIWluaXRpYWwpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgc2tpcCA9IE1hdGgubWluKHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyR3JvdXBTa2lwLCBzbGlkZUluZGV4KTtcbiAgICB2YXIgc25hcEluZGV4ID0gc2tpcCArIE1hdGguZmxvb3IoKHNsaWRlSW5kZXggLSBza2lwKSAvIHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyR3JvdXApO1xuICAgIGlmIChzbmFwSW5kZXggPj0gc25hcEdyaWQubGVuZ3RoKSBzbmFwSW5kZXggPSBzbmFwR3JpZC5sZW5ndGggLSAxO1xuXG4gICAgaWYgKChhY3RpdmVJbmRleCB8fCBwYXJhbXMuaW5pdGlhbFNsaWRlIHx8IDApID09PSAocHJldmlvdXNJbmRleCB8fCAwKSAmJiBydW5DYWxsYmFja3MpIHtcbiAgICAgIHN3aXBlci5lbWl0KCdiZWZvcmVTbGlkZUNoYW5nZVN0YXJ0Jyk7XG4gICAgfVxuXG4gICAgdmFyIHRyYW5zbGF0ZSA9IC1zbmFwR3JpZFtzbmFwSW5kZXhdOyAvLyBVcGRhdGUgcHJvZ3Jlc3NcblxuICAgIHN3aXBlci51cGRhdGVQcm9ncmVzcyh0cmFuc2xhdGUpOyAvLyBOb3JtYWxpemUgc2xpZGVJbmRleFxuXG4gICAgaWYgKHBhcmFtcy5ub3JtYWxpemVTbGlkZUluZGV4KSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNsaWRlc0dyaWQubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgdmFyIG5vcm1hbGl6ZWRUcmFuc2xhdGUgPSAtTWF0aC5mbG9vcih0cmFuc2xhdGUgKiAxMDApO1xuICAgICAgICB2YXIgbm9ybWFsaXplZEdpcmQgPSBNYXRoLmZsb29yKHNsaWRlc0dyaWRbaV0gKiAxMDApO1xuICAgICAgICB2YXIgbm9ybWFsaXplZEdyaWROZXh0ID0gTWF0aC5mbG9vcihzbGlkZXNHcmlkW2kgKyAxXSAqIDEwMCk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBzbGlkZXNHcmlkW2kgKyAxXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBpZiAobm9ybWFsaXplZFRyYW5zbGF0ZSA+PSBub3JtYWxpemVkR2lyZCAmJiBub3JtYWxpemVkVHJhbnNsYXRlIDwgbm9ybWFsaXplZEdyaWROZXh0IC0gKG5vcm1hbGl6ZWRHcmlkTmV4dCAtIG5vcm1hbGl6ZWRHaXJkKSAvIDIpIHtcbiAgICAgICAgICAgIHNsaWRlSW5kZXggPSBpO1xuICAgICAgICAgIH0gZWxzZSBpZiAobm9ybWFsaXplZFRyYW5zbGF0ZSA+PSBub3JtYWxpemVkR2lyZCAmJiBub3JtYWxpemVkVHJhbnNsYXRlIDwgbm9ybWFsaXplZEdyaWROZXh0KSB7XG4gICAgICAgICAgICBzbGlkZUluZGV4ID0gaSArIDE7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKG5vcm1hbGl6ZWRUcmFuc2xhdGUgPj0gbm9ybWFsaXplZEdpcmQpIHtcbiAgICAgICAgICBzbGlkZUluZGV4ID0gaTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gLy8gRGlyZWN0aW9ucyBsb2Nrc1xuXG5cbiAgICBpZiAoc3dpcGVyLmluaXRpYWxpemVkICYmIHNsaWRlSW5kZXggIT09IGFjdGl2ZUluZGV4KSB7XG4gICAgICBpZiAoIXN3aXBlci5hbGxvd1NsaWRlTmV4dCAmJiB0cmFuc2xhdGUgPCBzd2lwZXIudHJhbnNsYXRlICYmIHRyYW5zbGF0ZSA8IHN3aXBlci5taW5UcmFuc2xhdGUoKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGlmICghc3dpcGVyLmFsbG93U2xpZGVQcmV2ICYmIHRyYW5zbGF0ZSA+IHN3aXBlci50cmFuc2xhdGUgJiYgdHJhbnNsYXRlID4gc3dpcGVyLm1heFRyYW5zbGF0ZSgpKSB7XG4gICAgICAgIGlmICgoYWN0aXZlSW5kZXggfHwgMCkgIT09IHNsaWRlSW5kZXgpIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgZGlyZWN0aW9uO1xuICAgIGlmIChzbGlkZUluZGV4ID4gYWN0aXZlSW5kZXgpIGRpcmVjdGlvbiA9ICduZXh0JztlbHNlIGlmIChzbGlkZUluZGV4IDwgYWN0aXZlSW5kZXgpIGRpcmVjdGlvbiA9ICdwcmV2JztlbHNlIGRpcmVjdGlvbiA9ICdyZXNldCc7IC8vIFVwZGF0ZSBJbmRleFxuXG4gICAgaWYgKHJ0bCAmJiAtdHJhbnNsYXRlID09PSBzd2lwZXIudHJhbnNsYXRlIHx8ICFydGwgJiYgdHJhbnNsYXRlID09PSBzd2lwZXIudHJhbnNsYXRlKSB7XG4gICAgICBzd2lwZXIudXBkYXRlQWN0aXZlSW5kZXgoc2xpZGVJbmRleCk7IC8vIFVwZGF0ZSBIZWlnaHRcblxuICAgICAgaWYgKHBhcmFtcy5hdXRvSGVpZ2h0KSB7XG4gICAgICAgIHN3aXBlci51cGRhdGVBdXRvSGVpZ2h0KCk7XG4gICAgICB9XG5cbiAgICAgIHN3aXBlci51cGRhdGVTbGlkZXNDbGFzc2VzKCk7XG5cbiAgICAgIGlmIChwYXJhbXMuZWZmZWN0ICE9PSAnc2xpZGUnKSB7XG4gICAgICAgIHN3aXBlci5zZXRUcmFuc2xhdGUodHJhbnNsYXRlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGRpcmVjdGlvbiAhPT0gJ3Jlc2V0Jykge1xuICAgICAgICBzd2lwZXIudHJhbnNpdGlvblN0YXJ0KHJ1bkNhbGxiYWNrcywgZGlyZWN0aW9uKTtcbiAgICAgICAgc3dpcGVyLnRyYW5zaXRpb25FbmQocnVuQ2FsbGJhY2tzLCBkaXJlY3Rpb24pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKHBhcmFtcy5jc3NNb2RlKSB7XG4gICAgICB2YXIgaXNIID0gc3dpcGVyLmlzSG9yaXpvbnRhbCgpO1xuICAgICAgdmFyIHQgPSAtdHJhbnNsYXRlO1xuXG4gICAgICBpZiAocnRsKSB7XG4gICAgICAgIHQgPSB3cmFwcGVyRWwuc2Nyb2xsV2lkdGggLSB3cmFwcGVyRWwub2Zmc2V0V2lkdGggLSB0O1xuICAgICAgfVxuXG4gICAgICBpZiAoc3BlZWQgPT09IDApIHtcbiAgICAgICAgd3JhcHBlckVsW2lzSCA/ICdzY3JvbGxMZWZ0JyA6ICdzY3JvbGxUb3AnXSA9IHQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgICAgaWYgKHdyYXBwZXJFbC5zY3JvbGxUbykge1xuICAgICAgICAgIHZhciBfd3JhcHBlckVsJHNjcm9sbFRvO1xuXG4gICAgICAgICAgd3JhcHBlckVsLnNjcm9sbFRvKChfd3JhcHBlckVsJHNjcm9sbFRvID0ge30sIF93cmFwcGVyRWwkc2Nyb2xsVG9baXNIID8gJ2xlZnQnIDogJ3RvcCddID0gdCwgX3dyYXBwZXJFbCRzY3JvbGxUby5iZWhhdmlvciA9ICdzbW9vdGgnLCBfd3JhcHBlckVsJHNjcm9sbFRvKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgd3JhcHBlckVsW2lzSCA/ICdzY3JvbGxMZWZ0JyA6ICdzY3JvbGxUb3AnXSA9IHQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgaWYgKHNwZWVkID09PSAwKSB7XG4gICAgICBzd2lwZXIuc2V0VHJhbnNpdGlvbigwKTtcbiAgICAgIHN3aXBlci5zZXRUcmFuc2xhdGUodHJhbnNsYXRlKTtcbiAgICAgIHN3aXBlci51cGRhdGVBY3RpdmVJbmRleChzbGlkZUluZGV4KTtcbiAgICAgIHN3aXBlci51cGRhdGVTbGlkZXNDbGFzc2VzKCk7XG4gICAgICBzd2lwZXIuZW1pdCgnYmVmb3JlVHJhbnNpdGlvblN0YXJ0Jywgc3BlZWQsIGludGVybmFsKTtcbiAgICAgIHN3aXBlci50cmFuc2l0aW9uU3RhcnQocnVuQ2FsbGJhY2tzLCBkaXJlY3Rpb24pO1xuICAgICAgc3dpcGVyLnRyYW5zaXRpb25FbmQocnVuQ2FsbGJhY2tzLCBkaXJlY3Rpb24pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzd2lwZXIuc2V0VHJhbnNpdGlvbihzcGVlZCk7XG4gICAgICBzd2lwZXIuc2V0VHJhbnNsYXRlKHRyYW5zbGF0ZSk7XG4gICAgICBzd2lwZXIudXBkYXRlQWN0aXZlSW5kZXgoc2xpZGVJbmRleCk7XG4gICAgICBzd2lwZXIudXBkYXRlU2xpZGVzQ2xhc3NlcygpO1xuICAgICAgc3dpcGVyLmVtaXQoJ2JlZm9yZVRyYW5zaXRpb25TdGFydCcsIHNwZWVkLCBpbnRlcm5hbCk7XG4gICAgICBzd2lwZXIudHJhbnNpdGlvblN0YXJ0KHJ1bkNhbGxiYWNrcywgZGlyZWN0aW9uKTtcblxuICAgICAgaWYgKCFzd2lwZXIuYW5pbWF0aW5nKSB7XG4gICAgICAgIHN3aXBlci5hbmltYXRpbmcgPSB0cnVlO1xuXG4gICAgICAgIGlmICghc3dpcGVyLm9uU2xpZGVUb1dyYXBwZXJUcmFuc2l0aW9uRW5kKSB7XG4gICAgICAgICAgc3dpcGVyLm9uU2xpZGVUb1dyYXBwZXJUcmFuc2l0aW9uRW5kID0gZnVuY3Rpb24gdHJhbnNpdGlvbkVuZChlKSB7XG4gICAgICAgICAgICBpZiAoIXN3aXBlciB8fCBzd2lwZXIuZGVzdHJveWVkKSByZXR1cm47XG4gICAgICAgICAgICBpZiAoZS50YXJnZXQgIT09IHRoaXMpIHJldHVybjtcbiAgICAgICAgICAgIHN3aXBlci4kd3JhcHBlckVsWzBdLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCBzd2lwZXIub25TbGlkZVRvV3JhcHBlclRyYW5zaXRpb25FbmQpO1xuICAgICAgICAgICAgc3dpcGVyLiR3cmFwcGVyRWxbMF0ucmVtb3ZlRXZlbnRMaXN0ZW5lcignd2Via2l0VHJhbnNpdGlvbkVuZCcsIHN3aXBlci5vblNsaWRlVG9XcmFwcGVyVHJhbnNpdGlvbkVuZCk7XG4gICAgICAgICAgICBzd2lwZXIub25TbGlkZVRvV3JhcHBlclRyYW5zaXRpb25FbmQgPSBudWxsO1xuICAgICAgICAgICAgZGVsZXRlIHN3aXBlci5vblNsaWRlVG9XcmFwcGVyVHJhbnNpdGlvbkVuZDtcbiAgICAgICAgICAgIHN3aXBlci50cmFuc2l0aW9uRW5kKHJ1bkNhbGxiYWNrcywgZGlyZWN0aW9uKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgc3dpcGVyLiR3cmFwcGVyRWxbMF0uYWRkRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIHN3aXBlci5vblNsaWRlVG9XcmFwcGVyVHJhbnNpdGlvbkVuZCk7XG4gICAgICAgIHN3aXBlci4kd3JhcHBlckVsWzBdLmFkZEV2ZW50TGlzdGVuZXIoJ3dlYmtpdFRyYW5zaXRpb25FbmQnLCBzd2lwZXIub25TbGlkZVRvV3JhcHBlclRyYW5zaXRpb25FbmQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgZnVuY3Rpb24gc2xpZGVUb0xvb3AoaW5kZXgsIHNwZWVkLCBydW5DYWxsYmFja3MsIGludGVybmFsKSB7XG4gICAgaWYgKGluZGV4ID09PSB2b2lkIDApIHtcbiAgICAgIGluZGV4ID0gMDtcbiAgICB9XG5cbiAgICBpZiAoc3BlZWQgPT09IHZvaWQgMCkge1xuICAgICAgc3BlZWQgPSB0aGlzLnBhcmFtcy5zcGVlZDtcbiAgICB9XG5cbiAgICBpZiAocnVuQ2FsbGJhY2tzID09PSB2b2lkIDApIHtcbiAgICAgIHJ1bkNhbGxiYWNrcyA9IHRydWU7XG4gICAgfVxuXG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgdmFyIG5ld0luZGV4ID0gaW5kZXg7XG5cbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5sb29wKSB7XG4gICAgICBuZXdJbmRleCArPSBzd2lwZXIubG9vcGVkU2xpZGVzO1xuICAgIH1cblxuICAgIHJldHVybiBzd2lwZXIuc2xpZGVUbyhuZXdJbmRleCwgc3BlZWQsIHJ1bkNhbGxiYWNrcywgaW50ZXJuYWwpO1xuICB9XG5cbiAgLyogZXNsaW50IG5vLXVudXNlZC12YXJzOiBcIm9mZlwiICovXG4gIGZ1bmN0aW9uIHNsaWRlTmV4dChzcGVlZCwgcnVuQ2FsbGJhY2tzLCBpbnRlcm5hbCkge1xuICAgIGlmIChzcGVlZCA9PT0gdm9pZCAwKSB7XG4gICAgICBzcGVlZCA9IHRoaXMucGFyYW1zLnNwZWVkO1xuICAgIH1cblxuICAgIGlmIChydW5DYWxsYmFja3MgPT09IHZvaWQgMCkge1xuICAgICAgcnVuQ2FsbGJhY2tzID0gdHJ1ZTtcbiAgICB9XG5cbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICB2YXIgcGFyYW1zID0gc3dpcGVyLnBhcmFtcyxcbiAgICAgICAgYW5pbWF0aW5nID0gc3dpcGVyLmFuaW1hdGluZyxcbiAgICAgICAgZW5hYmxlZCA9IHN3aXBlci5lbmFibGVkO1xuICAgIGlmICghZW5hYmxlZCkgcmV0dXJuIHN3aXBlcjtcbiAgICB2YXIgaW5jcmVtZW50ID0gc3dpcGVyLmFjdGl2ZUluZGV4IDwgcGFyYW1zLnNsaWRlc1Blckdyb3VwU2tpcCA/IDEgOiBwYXJhbXMuc2xpZGVzUGVyR3JvdXA7XG5cbiAgICBpZiAocGFyYW1zLmxvb3ApIHtcbiAgICAgIGlmIChhbmltYXRpbmcgJiYgcGFyYW1zLmxvb3BQcmV2ZW50c1NsaWRlKSByZXR1cm4gZmFsc2U7XG4gICAgICBzd2lwZXIubG9vcEZpeCgpOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcblxuICAgICAgc3dpcGVyLl9jbGllbnRMZWZ0ID0gc3dpcGVyLiR3cmFwcGVyRWxbMF0uY2xpZW50TGVmdDtcbiAgICB9XG5cbiAgICByZXR1cm4gc3dpcGVyLnNsaWRlVG8oc3dpcGVyLmFjdGl2ZUluZGV4ICsgaW5jcmVtZW50LCBzcGVlZCwgcnVuQ2FsbGJhY2tzLCBpbnRlcm5hbCk7XG4gIH1cblxuICAvKiBlc2xpbnQgbm8tdW51c2VkLXZhcnM6IFwib2ZmXCIgKi9cbiAgZnVuY3Rpb24gc2xpZGVQcmV2KHNwZWVkLCBydW5DYWxsYmFja3MsIGludGVybmFsKSB7XG4gICAgaWYgKHNwZWVkID09PSB2b2lkIDApIHtcbiAgICAgIHNwZWVkID0gdGhpcy5wYXJhbXMuc3BlZWQ7XG4gICAgfVxuXG4gICAgaWYgKHJ1bkNhbGxiYWNrcyA9PT0gdm9pZCAwKSB7XG4gICAgICBydW5DYWxsYmFja3MgPSB0cnVlO1xuICAgIH1cblxuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIHZhciBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLFxuICAgICAgICBhbmltYXRpbmcgPSBzd2lwZXIuYW5pbWF0aW5nLFxuICAgICAgICBzbmFwR3JpZCA9IHN3aXBlci5zbmFwR3JpZCxcbiAgICAgICAgc2xpZGVzR3JpZCA9IHN3aXBlci5zbGlkZXNHcmlkLFxuICAgICAgICBydGxUcmFuc2xhdGUgPSBzd2lwZXIucnRsVHJhbnNsYXRlLFxuICAgICAgICBlbmFibGVkID0gc3dpcGVyLmVuYWJsZWQ7XG4gICAgaWYgKCFlbmFibGVkKSByZXR1cm4gc3dpcGVyO1xuXG4gICAgaWYgKHBhcmFtcy5sb29wKSB7XG4gICAgICBpZiAoYW5pbWF0aW5nICYmIHBhcmFtcy5sb29wUHJldmVudHNTbGlkZSkgcmV0dXJuIGZhbHNlO1xuICAgICAgc3dpcGVyLmxvb3BGaXgoKTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG5cbiAgICAgIHN3aXBlci5fY2xpZW50TGVmdCA9IHN3aXBlci4kd3JhcHBlckVsWzBdLmNsaWVudExlZnQ7XG4gICAgfVxuXG4gICAgdmFyIHRyYW5zbGF0ZSA9IHJ0bFRyYW5zbGF0ZSA/IHN3aXBlci50cmFuc2xhdGUgOiAtc3dpcGVyLnRyYW5zbGF0ZTtcblxuICAgIGZ1bmN0aW9uIG5vcm1hbGl6ZSh2YWwpIHtcbiAgICAgIGlmICh2YWwgPCAwKSByZXR1cm4gLU1hdGguZmxvb3IoTWF0aC5hYnModmFsKSk7XG4gICAgICByZXR1cm4gTWF0aC5mbG9vcih2YWwpO1xuICAgIH1cblxuICAgIHZhciBub3JtYWxpemVkVHJhbnNsYXRlID0gbm9ybWFsaXplKHRyYW5zbGF0ZSk7XG4gICAgdmFyIG5vcm1hbGl6ZWRTbmFwR3JpZCA9IHNuYXBHcmlkLm1hcChmdW5jdGlvbiAodmFsKSB7XG4gICAgICByZXR1cm4gbm9ybWFsaXplKHZhbCk7XG4gICAgfSk7XG4gICAgdmFyIHByZXZTbmFwID0gc25hcEdyaWRbbm9ybWFsaXplZFNuYXBHcmlkLmluZGV4T2Yobm9ybWFsaXplZFRyYW5zbGF0ZSkgLSAxXTtcblxuICAgIGlmICh0eXBlb2YgcHJldlNuYXAgPT09ICd1bmRlZmluZWQnICYmIHBhcmFtcy5jc3NNb2RlKSB7XG4gICAgICBzbmFwR3JpZC5mb3JFYWNoKGZ1bmN0aW9uIChzbmFwKSB7XG4gICAgICAgIGlmICghcHJldlNuYXAgJiYgbm9ybWFsaXplZFRyYW5zbGF0ZSA+PSBzbmFwKSBwcmV2U25hcCA9IHNuYXA7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB2YXIgcHJldkluZGV4O1xuXG4gICAgaWYgKHR5cGVvZiBwcmV2U25hcCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHByZXZJbmRleCA9IHNsaWRlc0dyaWQuaW5kZXhPZihwcmV2U25hcCk7XG4gICAgICBpZiAocHJldkluZGV4IDwgMCkgcHJldkluZGV4ID0gc3dpcGVyLmFjdGl2ZUluZGV4IC0gMTtcbiAgICB9XG5cbiAgICByZXR1cm4gc3dpcGVyLnNsaWRlVG8ocHJldkluZGV4LCBzcGVlZCwgcnVuQ2FsbGJhY2tzLCBpbnRlcm5hbCk7XG4gIH1cblxuICAvKiBlc2xpbnQgbm8tdW51c2VkLXZhcnM6IFwib2ZmXCIgKi9cbiAgZnVuY3Rpb24gc2xpZGVSZXNldChzcGVlZCwgcnVuQ2FsbGJhY2tzLCBpbnRlcm5hbCkge1xuICAgIGlmIChzcGVlZCA9PT0gdm9pZCAwKSB7XG4gICAgICBzcGVlZCA9IHRoaXMucGFyYW1zLnNwZWVkO1xuICAgIH1cblxuICAgIGlmIChydW5DYWxsYmFja3MgPT09IHZvaWQgMCkge1xuICAgICAgcnVuQ2FsbGJhY2tzID0gdHJ1ZTtcbiAgICB9XG5cbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICByZXR1cm4gc3dpcGVyLnNsaWRlVG8oc3dpcGVyLmFjdGl2ZUluZGV4LCBzcGVlZCwgcnVuQ2FsbGJhY2tzLCBpbnRlcm5hbCk7XG4gIH1cblxuICAvKiBlc2xpbnQgbm8tdW51c2VkLXZhcnM6IFwib2ZmXCIgKi9cbiAgZnVuY3Rpb24gc2xpZGVUb0Nsb3Nlc3Qoc3BlZWQsIHJ1bkNhbGxiYWNrcywgaW50ZXJuYWwsIHRocmVzaG9sZCkge1xuICAgIGlmIChzcGVlZCA9PT0gdm9pZCAwKSB7XG4gICAgICBzcGVlZCA9IHRoaXMucGFyYW1zLnNwZWVkO1xuICAgIH1cblxuICAgIGlmIChydW5DYWxsYmFja3MgPT09IHZvaWQgMCkge1xuICAgICAgcnVuQ2FsbGJhY2tzID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAodGhyZXNob2xkID09PSB2b2lkIDApIHtcbiAgICAgIHRocmVzaG9sZCA9IDAuNTtcbiAgICB9XG5cbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICB2YXIgaW5kZXggPSBzd2lwZXIuYWN0aXZlSW5kZXg7XG4gICAgdmFyIHNraXAgPSBNYXRoLm1pbihzd2lwZXIucGFyYW1zLnNsaWRlc1Blckdyb3VwU2tpcCwgaW5kZXgpO1xuICAgIHZhciBzbmFwSW5kZXggPSBza2lwICsgTWF0aC5mbG9vcigoaW5kZXggLSBza2lwKSAvIHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyR3JvdXApO1xuICAgIHZhciB0cmFuc2xhdGUgPSBzd2lwZXIucnRsVHJhbnNsYXRlID8gc3dpcGVyLnRyYW5zbGF0ZSA6IC1zd2lwZXIudHJhbnNsYXRlO1xuXG4gICAgaWYgKHRyYW5zbGF0ZSA+PSBzd2lwZXIuc25hcEdyaWRbc25hcEluZGV4XSkge1xuICAgICAgLy8gVGhlIGN1cnJlbnQgdHJhbnNsYXRlIGlzIG9uIG9yIGFmdGVyIHRoZSBjdXJyZW50IHNuYXAgaW5kZXgsIHNvIHRoZSBjaG9pY2VcbiAgICAgIC8vIGlzIGJldHdlZW4gdGhlIGN1cnJlbnQgaW5kZXggYW5kIHRoZSBvbmUgYWZ0ZXIgaXQuXG4gICAgICB2YXIgY3VycmVudFNuYXAgPSBzd2lwZXIuc25hcEdyaWRbc25hcEluZGV4XTtcbiAgICAgIHZhciBuZXh0U25hcCA9IHN3aXBlci5zbmFwR3JpZFtzbmFwSW5kZXggKyAxXTtcblxuICAgICAgaWYgKHRyYW5zbGF0ZSAtIGN1cnJlbnRTbmFwID4gKG5leHRTbmFwIC0gY3VycmVudFNuYXApICogdGhyZXNob2xkKSB7XG4gICAgICAgIGluZGV4ICs9IHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyR3JvdXA7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFRoZSBjdXJyZW50IHRyYW5zbGF0ZSBpcyBiZWZvcmUgdGhlIGN1cnJlbnQgc25hcCBpbmRleCwgc28gdGhlIGNob2ljZVxuICAgICAgLy8gaXMgYmV0d2VlbiB0aGUgY3VycmVudCBpbmRleCBhbmQgdGhlIG9uZSBiZWZvcmUgaXQuXG4gICAgICB2YXIgcHJldlNuYXAgPSBzd2lwZXIuc25hcEdyaWRbc25hcEluZGV4IC0gMV07XG4gICAgICB2YXIgX2N1cnJlbnRTbmFwID0gc3dpcGVyLnNuYXBHcmlkW3NuYXBJbmRleF07XG5cbiAgICAgIGlmICh0cmFuc2xhdGUgLSBwcmV2U25hcCA8PSAoX2N1cnJlbnRTbmFwIC0gcHJldlNuYXApICogdGhyZXNob2xkKSB7XG4gICAgICAgIGluZGV4IC09IHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyR3JvdXA7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaW5kZXggPSBNYXRoLm1heChpbmRleCwgMCk7XG4gICAgaW5kZXggPSBNYXRoLm1pbihpbmRleCwgc3dpcGVyLnNsaWRlc0dyaWQubGVuZ3RoIC0gMSk7XG4gICAgcmV0dXJuIHN3aXBlci5zbGlkZVRvKGluZGV4LCBzcGVlZCwgcnVuQ2FsbGJhY2tzLCBpbnRlcm5hbCk7XG4gIH1cblxuICBmdW5jdGlvbiBzbGlkZVRvQ2xpY2tlZFNsaWRlKCkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIHZhciBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLFxuICAgICAgICAkd3JhcHBlckVsID0gc3dpcGVyLiR3cmFwcGVyRWw7XG4gICAgdmFyIHNsaWRlc1BlclZpZXcgPSBwYXJhbXMuc2xpZGVzUGVyVmlldyA9PT0gJ2F1dG8nID8gc3dpcGVyLnNsaWRlc1BlclZpZXdEeW5hbWljKCkgOiBwYXJhbXMuc2xpZGVzUGVyVmlldztcbiAgICB2YXIgc2xpZGVUb0luZGV4ID0gc3dpcGVyLmNsaWNrZWRJbmRleDtcbiAgICB2YXIgcmVhbEluZGV4O1xuXG4gICAgaWYgKHBhcmFtcy5sb29wKSB7XG4gICAgICBpZiAoc3dpcGVyLmFuaW1hdGluZykgcmV0dXJuO1xuICAgICAgcmVhbEluZGV4ID0gcGFyc2VJbnQoJChzd2lwZXIuY2xpY2tlZFNsaWRlKS5hdHRyKCdkYXRhLXN3aXBlci1zbGlkZS1pbmRleCcpLCAxMCk7XG5cbiAgICAgIGlmIChwYXJhbXMuY2VudGVyZWRTbGlkZXMpIHtcbiAgICAgICAgaWYgKHNsaWRlVG9JbmRleCA8IHN3aXBlci5sb29wZWRTbGlkZXMgLSBzbGlkZXNQZXJWaWV3IC8gMiB8fCBzbGlkZVRvSW5kZXggPiBzd2lwZXIuc2xpZGVzLmxlbmd0aCAtIHN3aXBlci5sb29wZWRTbGlkZXMgKyBzbGlkZXNQZXJWaWV3IC8gMikge1xuICAgICAgICAgIHN3aXBlci5sb29wRml4KCk7XG4gICAgICAgICAgc2xpZGVUb0luZGV4ID0gJHdyYXBwZXJFbC5jaGlsZHJlbihcIi5cIiArIHBhcmFtcy5zbGlkZUNsYXNzICsgXCJbZGF0YS1zd2lwZXItc2xpZGUtaW5kZXg9XFxcIlwiICsgcmVhbEluZGV4ICsgXCJcXFwiXTpub3QoLlwiICsgcGFyYW1zLnNsaWRlRHVwbGljYXRlQ2xhc3MgKyBcIilcIikuZXEoMCkuaW5kZXgoKTtcbiAgICAgICAgICBuZXh0VGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzd2lwZXIuc2xpZGVUbyhzbGlkZVRvSW5kZXgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN3aXBlci5zbGlkZVRvKHNsaWRlVG9JbmRleCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoc2xpZGVUb0luZGV4ID4gc3dpcGVyLnNsaWRlcy5sZW5ndGggLSBzbGlkZXNQZXJWaWV3KSB7XG4gICAgICAgIHN3aXBlci5sb29wRml4KCk7XG4gICAgICAgIHNsaWRlVG9JbmRleCA9ICR3cmFwcGVyRWwuY2hpbGRyZW4oXCIuXCIgKyBwYXJhbXMuc2xpZGVDbGFzcyArIFwiW2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4PVxcXCJcIiArIHJlYWxJbmRleCArIFwiXFxcIl06bm90KC5cIiArIHBhcmFtcy5zbGlkZUR1cGxpY2F0ZUNsYXNzICsgXCIpXCIpLmVxKDApLmluZGV4KCk7XG4gICAgICAgIG5leHRUaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBzd2lwZXIuc2xpZGVUbyhzbGlkZVRvSW5kZXgpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN3aXBlci5zbGlkZVRvKHNsaWRlVG9JbmRleCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHN3aXBlci5zbGlkZVRvKHNsaWRlVG9JbmRleCk7XG4gICAgfVxuICB9XG5cbiAgdmFyIHNsaWRlID0ge1xuICAgIHNsaWRlVG86IHNsaWRlVG8sXG4gICAgc2xpZGVUb0xvb3A6IHNsaWRlVG9Mb29wLFxuICAgIHNsaWRlTmV4dDogc2xpZGVOZXh0LFxuICAgIHNsaWRlUHJldjogc2xpZGVQcmV2LFxuICAgIHNsaWRlUmVzZXQ6IHNsaWRlUmVzZXQsXG4gICAgc2xpZGVUb0Nsb3Nlc3Q6IHNsaWRlVG9DbG9zZXN0LFxuICAgIHNsaWRlVG9DbGlja2VkU2xpZGU6IHNsaWRlVG9DbGlja2VkU2xpZGVcbiAgfTtcblxuICBmdW5jdGlvbiBsb29wQ3JlYXRlKCkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIHZhciBkb2N1bWVudCA9IGdldERvY3VtZW50KCk7XG4gICAgdmFyIHBhcmFtcyA9IHN3aXBlci5wYXJhbXMsXG4gICAgICAgICR3cmFwcGVyRWwgPSBzd2lwZXIuJHdyYXBwZXJFbDsgLy8gUmVtb3ZlIGR1cGxpY2F0ZWQgc2xpZGVzXG5cbiAgICAkd3JhcHBlckVsLmNoaWxkcmVuKFwiLlwiICsgcGFyYW1zLnNsaWRlQ2xhc3MgKyBcIi5cIiArIHBhcmFtcy5zbGlkZUR1cGxpY2F0ZUNsYXNzKS5yZW1vdmUoKTtcbiAgICB2YXIgc2xpZGVzID0gJHdyYXBwZXJFbC5jaGlsZHJlbihcIi5cIiArIHBhcmFtcy5zbGlkZUNsYXNzKTtcblxuICAgIGlmIChwYXJhbXMubG9vcEZpbGxHcm91cFdpdGhCbGFuaykge1xuICAgICAgdmFyIGJsYW5rU2xpZGVzTnVtID0gcGFyYW1zLnNsaWRlc1Blckdyb3VwIC0gc2xpZGVzLmxlbmd0aCAlIHBhcmFtcy5zbGlkZXNQZXJHcm91cDtcblxuICAgICAgaWYgKGJsYW5rU2xpZGVzTnVtICE9PSBwYXJhbXMuc2xpZGVzUGVyR3JvdXApIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBibGFua1NsaWRlc051bTsgaSArPSAxKSB7XG4gICAgICAgICAgdmFyIGJsYW5rTm9kZSA9ICQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JykpLmFkZENsYXNzKHBhcmFtcy5zbGlkZUNsYXNzICsgXCIgXCIgKyBwYXJhbXMuc2xpZGVCbGFua0NsYXNzKTtcbiAgICAgICAgICAkd3JhcHBlckVsLmFwcGVuZChibGFua05vZGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgc2xpZGVzID0gJHdyYXBwZXJFbC5jaGlsZHJlbihcIi5cIiArIHBhcmFtcy5zbGlkZUNsYXNzKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocGFyYW1zLnNsaWRlc1BlclZpZXcgPT09ICdhdXRvJyAmJiAhcGFyYW1zLmxvb3BlZFNsaWRlcykgcGFyYW1zLmxvb3BlZFNsaWRlcyA9IHNsaWRlcy5sZW5ndGg7XG4gICAgc3dpcGVyLmxvb3BlZFNsaWRlcyA9IE1hdGguY2VpbChwYXJzZUZsb2F0KHBhcmFtcy5sb29wZWRTbGlkZXMgfHwgcGFyYW1zLnNsaWRlc1BlclZpZXcsIDEwKSk7XG4gICAgc3dpcGVyLmxvb3BlZFNsaWRlcyArPSBwYXJhbXMubG9vcEFkZGl0aW9uYWxTbGlkZXM7XG5cbiAgICBpZiAoc3dpcGVyLmxvb3BlZFNsaWRlcyA+IHNsaWRlcy5sZW5ndGgpIHtcbiAgICAgIHN3aXBlci5sb29wZWRTbGlkZXMgPSBzbGlkZXMubGVuZ3RoO1xuICAgIH1cblxuICAgIHZhciBwcmVwZW5kU2xpZGVzID0gW107XG4gICAgdmFyIGFwcGVuZFNsaWRlcyA9IFtdO1xuICAgIHNsaWRlcy5lYWNoKGZ1bmN0aW9uIChlbCwgaW5kZXgpIHtcbiAgICAgIHZhciBzbGlkZSA9ICQoZWwpO1xuXG4gICAgICBpZiAoaW5kZXggPCBzd2lwZXIubG9vcGVkU2xpZGVzKSB7XG4gICAgICAgIGFwcGVuZFNsaWRlcy5wdXNoKGVsKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGluZGV4IDwgc2xpZGVzLmxlbmd0aCAmJiBpbmRleCA+PSBzbGlkZXMubGVuZ3RoIC0gc3dpcGVyLmxvb3BlZFNsaWRlcykge1xuICAgICAgICBwcmVwZW5kU2xpZGVzLnB1c2goZWwpO1xuICAgICAgfVxuXG4gICAgICBzbGlkZS5hdHRyKCdkYXRhLXN3aXBlci1zbGlkZS1pbmRleCcsIGluZGV4KTtcbiAgICB9KTtcblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcHBlbmRTbGlkZXMubGVuZ3RoOyBfaSArPSAxKSB7XG4gICAgICAkd3JhcHBlckVsLmFwcGVuZCgkKGFwcGVuZFNsaWRlc1tfaV0uY2xvbmVOb2RlKHRydWUpKS5hZGRDbGFzcyhwYXJhbXMuc2xpZGVEdXBsaWNhdGVDbGFzcykpO1xuICAgIH1cblxuICAgIGZvciAodmFyIF9pMiA9IHByZXBlbmRTbGlkZXMubGVuZ3RoIC0gMTsgX2kyID49IDA7IF9pMiAtPSAxKSB7XG4gICAgICAkd3JhcHBlckVsLnByZXBlbmQoJChwcmVwZW5kU2xpZGVzW19pMl0uY2xvbmVOb2RlKHRydWUpKS5hZGRDbGFzcyhwYXJhbXMuc2xpZGVEdXBsaWNhdGVDbGFzcykpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGxvb3BGaXgoKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgc3dpcGVyLmVtaXQoJ2JlZm9yZUxvb3BGaXgnKTtcbiAgICB2YXIgYWN0aXZlSW5kZXggPSBzd2lwZXIuYWN0aXZlSW5kZXgsXG4gICAgICAgIHNsaWRlcyA9IHN3aXBlci5zbGlkZXMsXG4gICAgICAgIGxvb3BlZFNsaWRlcyA9IHN3aXBlci5sb29wZWRTbGlkZXMsXG4gICAgICAgIGFsbG93U2xpZGVQcmV2ID0gc3dpcGVyLmFsbG93U2xpZGVQcmV2LFxuICAgICAgICBhbGxvd1NsaWRlTmV4dCA9IHN3aXBlci5hbGxvd1NsaWRlTmV4dCxcbiAgICAgICAgc25hcEdyaWQgPSBzd2lwZXIuc25hcEdyaWQsXG4gICAgICAgIHJ0bCA9IHN3aXBlci5ydGxUcmFuc2xhdGU7XG4gICAgdmFyIG5ld0luZGV4O1xuICAgIHN3aXBlci5hbGxvd1NsaWRlUHJldiA9IHRydWU7XG4gICAgc3dpcGVyLmFsbG93U2xpZGVOZXh0ID0gdHJ1ZTtcbiAgICB2YXIgc25hcFRyYW5zbGF0ZSA9IC1zbmFwR3JpZFthY3RpdmVJbmRleF07XG4gICAgdmFyIGRpZmYgPSBzbmFwVHJhbnNsYXRlIC0gc3dpcGVyLmdldFRyYW5zbGF0ZSgpOyAvLyBGaXggRm9yIE5lZ2F0aXZlIE92ZXJzbGlkaW5nXG5cbiAgICBpZiAoYWN0aXZlSW5kZXggPCBsb29wZWRTbGlkZXMpIHtcbiAgICAgIG5ld0luZGV4ID0gc2xpZGVzLmxlbmd0aCAtIGxvb3BlZFNsaWRlcyAqIDMgKyBhY3RpdmVJbmRleDtcbiAgICAgIG5ld0luZGV4ICs9IGxvb3BlZFNsaWRlcztcbiAgICAgIHZhciBzbGlkZUNoYW5nZWQgPSBzd2lwZXIuc2xpZGVUbyhuZXdJbmRleCwgMCwgZmFsc2UsIHRydWUpO1xuXG4gICAgICBpZiAoc2xpZGVDaGFuZ2VkICYmIGRpZmYgIT09IDApIHtcbiAgICAgICAgc3dpcGVyLnNldFRyYW5zbGF0ZSgocnRsID8gLXN3aXBlci50cmFuc2xhdGUgOiBzd2lwZXIudHJhbnNsYXRlKSAtIGRpZmYpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoYWN0aXZlSW5kZXggPj0gc2xpZGVzLmxlbmd0aCAtIGxvb3BlZFNsaWRlcykge1xuICAgICAgLy8gRml4IEZvciBQb3NpdGl2ZSBPdmVyc2xpZGluZ1xuICAgICAgbmV3SW5kZXggPSAtc2xpZGVzLmxlbmd0aCArIGFjdGl2ZUluZGV4ICsgbG9vcGVkU2xpZGVzO1xuICAgICAgbmV3SW5kZXggKz0gbG9vcGVkU2xpZGVzO1xuXG4gICAgICB2YXIgX3NsaWRlQ2hhbmdlZCA9IHN3aXBlci5zbGlkZVRvKG5ld0luZGV4LCAwLCBmYWxzZSwgdHJ1ZSk7XG5cbiAgICAgIGlmIChfc2xpZGVDaGFuZ2VkICYmIGRpZmYgIT09IDApIHtcbiAgICAgICAgc3dpcGVyLnNldFRyYW5zbGF0ZSgocnRsID8gLXN3aXBlci50cmFuc2xhdGUgOiBzd2lwZXIudHJhbnNsYXRlKSAtIGRpZmYpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHN3aXBlci5hbGxvd1NsaWRlUHJldiA9IGFsbG93U2xpZGVQcmV2O1xuICAgIHN3aXBlci5hbGxvd1NsaWRlTmV4dCA9IGFsbG93U2xpZGVOZXh0O1xuICAgIHN3aXBlci5lbWl0KCdsb29wRml4Jyk7XG4gIH1cblxuICBmdW5jdGlvbiBsb29wRGVzdHJveSgpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICB2YXIgJHdyYXBwZXJFbCA9IHN3aXBlci4kd3JhcHBlckVsLFxuICAgICAgICBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLFxuICAgICAgICBzbGlkZXMgPSBzd2lwZXIuc2xpZGVzO1xuICAgICR3cmFwcGVyRWwuY2hpbGRyZW4oXCIuXCIgKyBwYXJhbXMuc2xpZGVDbGFzcyArIFwiLlwiICsgcGFyYW1zLnNsaWRlRHVwbGljYXRlQ2xhc3MgKyBcIiwuXCIgKyBwYXJhbXMuc2xpZGVDbGFzcyArIFwiLlwiICsgcGFyYW1zLnNsaWRlQmxhbmtDbGFzcykucmVtb3ZlKCk7XG4gICAgc2xpZGVzLnJlbW92ZUF0dHIoJ2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4Jyk7XG4gIH1cblxuICB2YXIgbG9vcCA9IHtcbiAgICBsb29wQ3JlYXRlOiBsb29wQ3JlYXRlLFxuICAgIGxvb3BGaXg6IGxvb3BGaXgsXG4gICAgbG9vcERlc3Ryb3k6IGxvb3BEZXN0cm95XG4gIH07XG5cbiAgZnVuY3Rpb24gc2V0R3JhYkN1cnNvcihtb3ZpbmcpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICBpZiAoc3dpcGVyLnN1cHBvcnQudG91Y2ggfHwgIXN3aXBlci5wYXJhbXMuc2ltdWxhdGVUb3VjaCB8fCBzd2lwZXIucGFyYW1zLndhdGNoT3ZlcmZsb3cgJiYgc3dpcGVyLmlzTG9ja2VkIHx8IHN3aXBlci5wYXJhbXMuY3NzTW9kZSkgcmV0dXJuO1xuICAgIHZhciBlbCA9IHN3aXBlci5lbDtcbiAgICBlbC5zdHlsZS5jdXJzb3IgPSAnbW92ZSc7XG4gICAgZWwuc3R5bGUuY3Vyc29yID0gbW92aW5nID8gJy13ZWJraXQtZ3JhYmJpbmcnIDogJy13ZWJraXQtZ3JhYic7XG4gICAgZWwuc3R5bGUuY3Vyc29yID0gbW92aW5nID8gJy1tb3otZ3JhYmJpbicgOiAnLW1vei1ncmFiJztcbiAgICBlbC5zdHlsZS5jdXJzb3IgPSBtb3ZpbmcgPyAnZ3JhYmJpbmcnIDogJ2dyYWInO1xuICB9XG5cbiAgZnVuY3Rpb24gdW5zZXRHcmFiQ3Vyc29yKCkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuXG4gICAgaWYgKHN3aXBlci5zdXBwb3J0LnRvdWNoIHx8IHN3aXBlci5wYXJhbXMud2F0Y2hPdmVyZmxvdyAmJiBzd2lwZXIuaXNMb2NrZWQgfHwgc3dpcGVyLnBhcmFtcy5jc3NNb2RlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc3dpcGVyLmVsLnN0eWxlLmN1cnNvciA9ICcnO1xuICB9XG5cbiAgdmFyIGdyYWJDdXJzb3IgPSB7XG4gICAgc2V0R3JhYkN1cnNvcjogc2V0R3JhYkN1cnNvcixcbiAgICB1bnNldEdyYWJDdXJzb3I6IHVuc2V0R3JhYkN1cnNvclxuICB9O1xuXG4gIGZ1bmN0aW9uIGFwcGVuZFNsaWRlKHNsaWRlcykge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIHZhciAkd3JhcHBlckVsID0gc3dpcGVyLiR3cmFwcGVyRWwsXG4gICAgICAgIHBhcmFtcyA9IHN3aXBlci5wYXJhbXM7XG5cbiAgICBpZiAocGFyYW1zLmxvb3ApIHtcbiAgICAgIHN3aXBlci5sb29wRGVzdHJveSgpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygc2xpZGVzID09PSAnb2JqZWN0JyAmJiAnbGVuZ3RoJyBpbiBzbGlkZXMpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2xpZGVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGlmIChzbGlkZXNbaV0pICR3cmFwcGVyRWwuYXBwZW5kKHNsaWRlc1tpXSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICR3cmFwcGVyRWwuYXBwZW5kKHNsaWRlcyk7XG4gICAgfVxuXG4gICAgaWYgKHBhcmFtcy5sb29wKSB7XG4gICAgICBzd2lwZXIubG9vcENyZWF0ZSgpO1xuICAgIH1cblxuICAgIGlmICghKHBhcmFtcy5vYnNlcnZlciAmJiBzd2lwZXIuc3VwcG9ydC5vYnNlcnZlcikpIHtcbiAgICAgIHN3aXBlci51cGRhdGUoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBwcmVwZW5kU2xpZGUoc2xpZGVzKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgdmFyIHBhcmFtcyA9IHN3aXBlci5wYXJhbXMsXG4gICAgICAgICR3cmFwcGVyRWwgPSBzd2lwZXIuJHdyYXBwZXJFbCxcbiAgICAgICAgYWN0aXZlSW5kZXggPSBzd2lwZXIuYWN0aXZlSW5kZXg7XG5cbiAgICBpZiAocGFyYW1zLmxvb3ApIHtcbiAgICAgIHN3aXBlci5sb29wRGVzdHJveSgpO1xuICAgIH1cblxuICAgIHZhciBuZXdBY3RpdmVJbmRleCA9IGFjdGl2ZUluZGV4ICsgMTtcblxuICAgIGlmICh0eXBlb2Ygc2xpZGVzID09PSAnb2JqZWN0JyAmJiAnbGVuZ3RoJyBpbiBzbGlkZXMpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2xpZGVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGlmIChzbGlkZXNbaV0pICR3cmFwcGVyRWwucHJlcGVuZChzbGlkZXNbaV0pO1xuICAgICAgfVxuXG4gICAgICBuZXdBY3RpdmVJbmRleCA9IGFjdGl2ZUluZGV4ICsgc2xpZGVzLmxlbmd0aDtcbiAgICB9IGVsc2Uge1xuICAgICAgJHdyYXBwZXJFbC5wcmVwZW5kKHNsaWRlcyk7XG4gICAgfVxuXG4gICAgaWYgKHBhcmFtcy5sb29wKSB7XG4gICAgICBzd2lwZXIubG9vcENyZWF0ZSgpO1xuICAgIH1cblxuICAgIGlmICghKHBhcmFtcy5vYnNlcnZlciAmJiBzd2lwZXIuc3VwcG9ydC5vYnNlcnZlcikpIHtcbiAgICAgIHN3aXBlci51cGRhdGUoKTtcbiAgICB9XG5cbiAgICBzd2lwZXIuc2xpZGVUbyhuZXdBY3RpdmVJbmRleCwgMCwgZmFsc2UpO1xuICB9XG5cbiAgZnVuY3Rpb24gYWRkU2xpZGUoaW5kZXgsIHNsaWRlcykge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIHZhciAkd3JhcHBlckVsID0gc3dpcGVyLiR3cmFwcGVyRWwsXG4gICAgICAgIHBhcmFtcyA9IHN3aXBlci5wYXJhbXMsXG4gICAgICAgIGFjdGl2ZUluZGV4ID0gc3dpcGVyLmFjdGl2ZUluZGV4O1xuICAgIHZhciBhY3RpdmVJbmRleEJ1ZmZlciA9IGFjdGl2ZUluZGV4O1xuXG4gICAgaWYgKHBhcmFtcy5sb29wKSB7XG4gICAgICBhY3RpdmVJbmRleEJ1ZmZlciAtPSBzd2lwZXIubG9vcGVkU2xpZGVzO1xuICAgICAgc3dpcGVyLmxvb3BEZXN0cm95KCk7XG4gICAgICBzd2lwZXIuc2xpZGVzID0gJHdyYXBwZXJFbC5jaGlsZHJlbihcIi5cIiArIHBhcmFtcy5zbGlkZUNsYXNzKTtcbiAgICB9XG5cbiAgICB2YXIgYmFzZUxlbmd0aCA9IHN3aXBlci5zbGlkZXMubGVuZ3RoO1xuXG4gICAgaWYgKGluZGV4IDw9IDApIHtcbiAgICAgIHN3aXBlci5wcmVwZW5kU2xpZGUoc2xpZGVzKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoaW5kZXggPj0gYmFzZUxlbmd0aCkge1xuICAgICAgc3dpcGVyLmFwcGVuZFNsaWRlKHNsaWRlcyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIG5ld0FjdGl2ZUluZGV4ID0gYWN0aXZlSW5kZXhCdWZmZXIgPiBpbmRleCA/IGFjdGl2ZUluZGV4QnVmZmVyICsgMSA6IGFjdGl2ZUluZGV4QnVmZmVyO1xuICAgIHZhciBzbGlkZXNCdWZmZXIgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSBiYXNlTGVuZ3RoIC0gMTsgaSA+PSBpbmRleDsgaSAtPSAxKSB7XG4gICAgICB2YXIgY3VycmVudFNsaWRlID0gc3dpcGVyLnNsaWRlcy5lcShpKTtcbiAgICAgIGN1cnJlbnRTbGlkZS5yZW1vdmUoKTtcbiAgICAgIHNsaWRlc0J1ZmZlci51bnNoaWZ0KGN1cnJlbnRTbGlkZSk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBzbGlkZXMgPT09ICdvYmplY3QnICYmICdsZW5ndGgnIGluIHNsaWRlcykge1xuICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IHNsaWRlcy5sZW5ndGg7IF9pICs9IDEpIHtcbiAgICAgICAgaWYgKHNsaWRlc1tfaV0pICR3cmFwcGVyRWwuYXBwZW5kKHNsaWRlc1tfaV0pO1xuICAgICAgfVxuXG4gICAgICBuZXdBY3RpdmVJbmRleCA9IGFjdGl2ZUluZGV4QnVmZmVyID4gaW5kZXggPyBhY3RpdmVJbmRleEJ1ZmZlciArIHNsaWRlcy5sZW5ndGggOiBhY3RpdmVJbmRleEJ1ZmZlcjtcbiAgICB9IGVsc2Uge1xuICAgICAgJHdyYXBwZXJFbC5hcHBlbmQoc2xpZGVzKTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBfaTIgPSAwOyBfaTIgPCBzbGlkZXNCdWZmZXIubGVuZ3RoOyBfaTIgKz0gMSkge1xuICAgICAgJHdyYXBwZXJFbC5hcHBlbmQoc2xpZGVzQnVmZmVyW19pMl0pO1xuICAgIH1cblxuICAgIGlmIChwYXJhbXMubG9vcCkge1xuICAgICAgc3dpcGVyLmxvb3BDcmVhdGUoKTtcbiAgICB9XG5cbiAgICBpZiAoIShwYXJhbXMub2JzZXJ2ZXIgJiYgc3dpcGVyLnN1cHBvcnQub2JzZXJ2ZXIpKSB7XG4gICAgICBzd2lwZXIudXBkYXRlKCk7XG4gICAgfVxuXG4gICAgaWYgKHBhcmFtcy5sb29wKSB7XG4gICAgICBzd2lwZXIuc2xpZGVUbyhuZXdBY3RpdmVJbmRleCArIHN3aXBlci5sb29wZWRTbGlkZXMsIDAsIGZhbHNlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3dpcGVyLnNsaWRlVG8obmV3QWN0aXZlSW5kZXgsIDAsIGZhbHNlKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZW1vdmVTbGlkZShzbGlkZXNJbmRleGVzKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgdmFyIHBhcmFtcyA9IHN3aXBlci5wYXJhbXMsXG4gICAgICAgICR3cmFwcGVyRWwgPSBzd2lwZXIuJHdyYXBwZXJFbCxcbiAgICAgICAgYWN0aXZlSW5kZXggPSBzd2lwZXIuYWN0aXZlSW5kZXg7XG4gICAgdmFyIGFjdGl2ZUluZGV4QnVmZmVyID0gYWN0aXZlSW5kZXg7XG5cbiAgICBpZiAocGFyYW1zLmxvb3ApIHtcbiAgICAgIGFjdGl2ZUluZGV4QnVmZmVyIC09IHN3aXBlci5sb29wZWRTbGlkZXM7XG4gICAgICBzd2lwZXIubG9vcERlc3Ryb3koKTtcbiAgICAgIHN3aXBlci5zbGlkZXMgPSAkd3JhcHBlckVsLmNoaWxkcmVuKFwiLlwiICsgcGFyYW1zLnNsaWRlQ2xhc3MpO1xuICAgIH1cblxuICAgIHZhciBuZXdBY3RpdmVJbmRleCA9IGFjdGl2ZUluZGV4QnVmZmVyO1xuICAgIHZhciBpbmRleFRvUmVtb3ZlO1xuXG4gICAgaWYgKHR5cGVvZiBzbGlkZXNJbmRleGVzID09PSAnb2JqZWN0JyAmJiAnbGVuZ3RoJyBpbiBzbGlkZXNJbmRleGVzKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNsaWRlc0luZGV4ZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgaW5kZXhUb1JlbW92ZSA9IHNsaWRlc0luZGV4ZXNbaV07XG4gICAgICAgIGlmIChzd2lwZXIuc2xpZGVzW2luZGV4VG9SZW1vdmVdKSBzd2lwZXIuc2xpZGVzLmVxKGluZGV4VG9SZW1vdmUpLnJlbW92ZSgpO1xuICAgICAgICBpZiAoaW5kZXhUb1JlbW92ZSA8IG5ld0FjdGl2ZUluZGV4KSBuZXdBY3RpdmVJbmRleCAtPSAxO1xuICAgICAgfVxuXG4gICAgICBuZXdBY3RpdmVJbmRleCA9IE1hdGgubWF4KG5ld0FjdGl2ZUluZGV4LCAwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW5kZXhUb1JlbW92ZSA9IHNsaWRlc0luZGV4ZXM7XG4gICAgICBpZiAoc3dpcGVyLnNsaWRlc1tpbmRleFRvUmVtb3ZlXSkgc3dpcGVyLnNsaWRlcy5lcShpbmRleFRvUmVtb3ZlKS5yZW1vdmUoKTtcbiAgICAgIGlmIChpbmRleFRvUmVtb3ZlIDwgbmV3QWN0aXZlSW5kZXgpIG5ld0FjdGl2ZUluZGV4IC09IDE7XG4gICAgICBuZXdBY3RpdmVJbmRleCA9IE1hdGgubWF4KG5ld0FjdGl2ZUluZGV4LCAwKTtcbiAgICB9XG5cbiAgICBpZiAocGFyYW1zLmxvb3ApIHtcbiAgICAgIHN3aXBlci5sb29wQ3JlYXRlKCk7XG4gICAgfVxuXG4gICAgaWYgKCEocGFyYW1zLm9ic2VydmVyICYmIHN3aXBlci5zdXBwb3J0Lm9ic2VydmVyKSkge1xuICAgICAgc3dpcGVyLnVwZGF0ZSgpO1xuICAgIH1cblxuICAgIGlmIChwYXJhbXMubG9vcCkge1xuICAgICAgc3dpcGVyLnNsaWRlVG8obmV3QWN0aXZlSW5kZXggKyBzd2lwZXIubG9vcGVkU2xpZGVzLCAwLCBmYWxzZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN3aXBlci5zbGlkZVRvKG5ld0FjdGl2ZUluZGV4LCAwLCBmYWxzZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmVtb3ZlQWxsU2xpZGVzKCkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIHZhciBzbGlkZXNJbmRleGVzID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN3aXBlci5zbGlkZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIHNsaWRlc0luZGV4ZXMucHVzaChpKTtcbiAgICB9XG5cbiAgICBzd2lwZXIucmVtb3ZlU2xpZGUoc2xpZGVzSW5kZXhlcyk7XG4gIH1cblxuICB2YXIgbWFuaXB1bGF0aW9uID0ge1xuICAgIGFwcGVuZFNsaWRlOiBhcHBlbmRTbGlkZSxcbiAgICBwcmVwZW5kU2xpZGU6IHByZXBlbmRTbGlkZSxcbiAgICBhZGRTbGlkZTogYWRkU2xpZGUsXG4gICAgcmVtb3ZlU2xpZGU6IHJlbW92ZVNsaWRlLFxuICAgIHJlbW92ZUFsbFNsaWRlczogcmVtb3ZlQWxsU2xpZGVzXG4gIH07XG5cbiAgZnVuY3Rpb24gY2xvc2VzdEVsZW1lbnQoc2VsZWN0b3IsIGJhc2UpIHtcbiAgICBpZiAoYmFzZSA9PT0gdm9pZCAwKSB7XG4gICAgICBiYXNlID0gdGhpcztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfX2Nsb3Nlc3RGcm9tKGVsKSB7XG4gICAgICBpZiAoIWVsIHx8IGVsID09PSBnZXREb2N1bWVudCgpIHx8IGVsID09PSBnZXRXaW5kb3coKSkgcmV0dXJuIG51bGw7XG4gICAgICBpZiAoZWwuYXNzaWduZWRTbG90KSBlbCA9IGVsLmFzc2lnbmVkU2xvdDtcbiAgICAgIHZhciBmb3VuZCA9IGVsLmNsb3Nlc3Qoc2VsZWN0b3IpO1xuICAgICAgcmV0dXJuIGZvdW5kIHx8IF9fY2xvc2VzdEZyb20oZWwuZ2V0Um9vdE5vZGUoKS5ob3N0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gX19jbG9zZXN0RnJvbShiYXNlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uVG91Y2hTdGFydChldmVudCkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIHZhciBkb2N1bWVudCA9IGdldERvY3VtZW50KCk7XG4gICAgdmFyIHdpbmRvdyA9IGdldFdpbmRvdygpO1xuICAgIHZhciBkYXRhID0gc3dpcGVyLnRvdWNoRXZlbnRzRGF0YTtcbiAgICB2YXIgcGFyYW1zID0gc3dpcGVyLnBhcmFtcyxcbiAgICAgICAgdG91Y2hlcyA9IHN3aXBlci50b3VjaGVzLFxuICAgICAgICBlbmFibGVkID0gc3dpcGVyLmVuYWJsZWQ7XG4gICAgaWYgKCFlbmFibGVkKSByZXR1cm47XG5cbiAgICBpZiAoc3dpcGVyLmFuaW1hdGluZyAmJiBwYXJhbXMucHJldmVudEludGVyYWN0aW9uT25UcmFuc2l0aW9uKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGUgPSBldmVudDtcbiAgICBpZiAoZS5vcmlnaW5hbEV2ZW50KSBlID0gZS5vcmlnaW5hbEV2ZW50O1xuICAgIHZhciAkdGFyZ2V0RWwgPSAkKGUudGFyZ2V0KTtcblxuICAgIGlmIChwYXJhbXMudG91Y2hFdmVudHNUYXJnZXQgPT09ICd3cmFwcGVyJykge1xuICAgICAgaWYgKCEkdGFyZ2V0RWwuY2xvc2VzdChzd2lwZXIud3JhcHBlckVsKS5sZW5ndGgpIHJldHVybjtcbiAgICB9XG5cbiAgICBkYXRhLmlzVG91Y2hFdmVudCA9IGUudHlwZSA9PT0gJ3RvdWNoc3RhcnQnO1xuICAgIGlmICghZGF0YS5pc1RvdWNoRXZlbnQgJiYgJ3doaWNoJyBpbiBlICYmIGUud2hpY2ggPT09IDMpIHJldHVybjtcbiAgICBpZiAoIWRhdGEuaXNUb3VjaEV2ZW50ICYmICdidXR0b24nIGluIGUgJiYgZS5idXR0b24gPiAwKSByZXR1cm47XG4gICAgaWYgKGRhdGEuaXNUb3VjaGVkICYmIGRhdGEuaXNNb3ZlZCkgcmV0dXJuOyAvLyBjaGFuZ2UgdGFyZ2V0IGVsIGZvciBzaGFkb3cgcm9vdCBjb21wb25lbnRcblxuICAgIHZhciBzd2lwaW5nQ2xhc3NIYXNWYWx1ZSA9ICEhcGFyYW1zLm5vU3dpcGluZ0NsYXNzICYmIHBhcmFtcy5ub1N3aXBpbmdDbGFzcyAhPT0gJyc7XG5cbiAgICBpZiAoc3dpcGluZ0NsYXNzSGFzVmFsdWUgJiYgZS50YXJnZXQgJiYgZS50YXJnZXQuc2hhZG93Um9vdCAmJiBldmVudC5wYXRoICYmIGV2ZW50LnBhdGhbMF0pIHtcbiAgICAgICR0YXJnZXRFbCA9ICQoZXZlbnQucGF0aFswXSk7XG4gICAgfVxuXG4gICAgdmFyIG5vU3dpcGluZ1NlbGVjdG9yID0gcGFyYW1zLm5vU3dpcGluZ1NlbGVjdG9yID8gcGFyYW1zLm5vU3dpcGluZ1NlbGVjdG9yIDogXCIuXCIgKyBwYXJhbXMubm9Td2lwaW5nQ2xhc3M7XG4gICAgdmFyIGlzVGFyZ2V0U2hhZG93ID0gISEoZS50YXJnZXQgJiYgZS50YXJnZXQuc2hhZG93Um9vdCk7IC8vIHVzZSBjbG9zZXN0RWxlbWVudCBmb3Igc2hhZG93IHJvb3QgZWxlbWVudCB0byBnZXQgdGhlIGFjdHVhbCBjbG9zZXN0IGZvciBuZXN0ZWQgc2hhZG93IHJvb3QgZWxlbWVudFxuXG4gICAgaWYgKHBhcmFtcy5ub1N3aXBpbmcgJiYgKGlzVGFyZ2V0U2hhZG93ID8gY2xvc2VzdEVsZW1lbnQobm9Td2lwaW5nU2VsZWN0b3IsIGUudGFyZ2V0KSA6ICR0YXJnZXRFbC5jbG9zZXN0KG5vU3dpcGluZ1NlbGVjdG9yKVswXSkpIHtcbiAgICAgIHN3aXBlci5hbGxvd0NsaWNrID0gdHJ1ZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAocGFyYW1zLnN3aXBlSGFuZGxlcikge1xuICAgICAgaWYgKCEkdGFyZ2V0RWwuY2xvc2VzdChwYXJhbXMuc3dpcGVIYW5kbGVyKVswXSkgcmV0dXJuO1xuICAgIH1cblxuICAgIHRvdWNoZXMuY3VycmVudFggPSBlLnR5cGUgPT09ICd0b3VjaHN0YXJ0JyA/IGUudGFyZ2V0VG91Y2hlc1swXS5wYWdlWCA6IGUucGFnZVg7XG4gICAgdG91Y2hlcy5jdXJyZW50WSA9IGUudHlwZSA9PT0gJ3RvdWNoc3RhcnQnID8gZS50YXJnZXRUb3VjaGVzWzBdLnBhZ2VZIDogZS5wYWdlWTtcbiAgICB2YXIgc3RhcnRYID0gdG91Y2hlcy5jdXJyZW50WDtcbiAgICB2YXIgc3RhcnRZID0gdG91Y2hlcy5jdXJyZW50WTsgLy8gRG8gTk9UIHN0YXJ0IGlmIGlPUyBlZGdlIHN3aXBlIGlzIGRldGVjdGVkLiBPdGhlcndpc2UgaU9TIGFwcCBjYW5ub3Qgc3dpcGUtdG8tZ28tYmFjayBhbnltb3JlXG5cbiAgICB2YXIgZWRnZVN3aXBlRGV0ZWN0aW9uID0gcGFyYW1zLmVkZ2VTd2lwZURldGVjdGlvbiB8fCBwYXJhbXMuaU9TRWRnZVN3aXBlRGV0ZWN0aW9uO1xuICAgIHZhciBlZGdlU3dpcGVUaHJlc2hvbGQgPSBwYXJhbXMuZWRnZVN3aXBlVGhyZXNob2xkIHx8IHBhcmFtcy5pT1NFZGdlU3dpcGVUaHJlc2hvbGQ7XG5cbiAgICBpZiAoZWRnZVN3aXBlRGV0ZWN0aW9uICYmIChzdGFydFggPD0gZWRnZVN3aXBlVGhyZXNob2xkIHx8IHN0YXJ0WCA+PSB3aW5kb3cuaW5uZXJXaWR0aCAtIGVkZ2VTd2lwZVRocmVzaG9sZCkpIHtcbiAgICAgIGlmIChlZGdlU3dpcGVEZXRlY3Rpb24gPT09ICdwcmV2ZW50Jykge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIGV4dGVuZChkYXRhLCB7XG4gICAgICBpc1RvdWNoZWQ6IHRydWUsXG4gICAgICBpc01vdmVkOiBmYWxzZSxcbiAgICAgIGFsbG93VG91Y2hDYWxsYmFja3M6IHRydWUsXG4gICAgICBpc1Njcm9sbGluZzogdW5kZWZpbmVkLFxuICAgICAgc3RhcnRNb3Zpbmc6IHVuZGVmaW5lZFxuICAgIH0pO1xuICAgIHRvdWNoZXMuc3RhcnRYID0gc3RhcnRYO1xuICAgIHRvdWNoZXMuc3RhcnRZID0gc3RhcnRZO1xuICAgIGRhdGEudG91Y2hTdGFydFRpbWUgPSBub3coKTtcbiAgICBzd2lwZXIuYWxsb3dDbGljayA9IHRydWU7XG4gICAgc3dpcGVyLnVwZGF0ZVNpemUoKTtcbiAgICBzd2lwZXIuc3dpcGVEaXJlY3Rpb24gPSB1bmRlZmluZWQ7XG4gICAgaWYgKHBhcmFtcy50aHJlc2hvbGQgPiAwKSBkYXRhLmFsbG93VGhyZXNob2xkTW92ZSA9IGZhbHNlO1xuXG4gICAgaWYgKGUudHlwZSAhPT0gJ3RvdWNoc3RhcnQnKSB7XG4gICAgICB2YXIgcHJldmVudERlZmF1bHQgPSB0cnVlO1xuICAgICAgaWYgKCR0YXJnZXRFbC5pcyhkYXRhLmZvY3VzYWJsZUVsZW1lbnRzKSkgcHJldmVudERlZmF1bHQgPSBmYWxzZTtcblxuICAgICAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgJiYgJChkb2N1bWVudC5hY3RpdmVFbGVtZW50KS5pcyhkYXRhLmZvY3VzYWJsZUVsZW1lbnRzKSAmJiBkb2N1bWVudC5hY3RpdmVFbGVtZW50ICE9PSAkdGFyZ2V0RWxbMF0pIHtcbiAgICAgICAgZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5ibHVyKCk7XG4gICAgICB9XG5cbiAgICAgIHZhciBzaG91bGRQcmV2ZW50RGVmYXVsdCA9IHByZXZlbnREZWZhdWx0ICYmIHN3aXBlci5hbGxvd1RvdWNoTW92ZSAmJiBwYXJhbXMudG91Y2hTdGFydFByZXZlbnREZWZhdWx0O1xuXG4gICAgICBpZiAoKHBhcmFtcy50b3VjaFN0YXJ0Rm9yY2VQcmV2ZW50RGVmYXVsdCB8fCBzaG91bGRQcmV2ZW50RGVmYXVsdCkgJiYgISR0YXJnZXRFbFswXS5pc0NvbnRlbnRFZGl0YWJsZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgc3dpcGVyLmVtaXQoJ3RvdWNoU3RhcnQnLCBlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uVG91Y2hNb3ZlKGV2ZW50KSB7XG4gICAgdmFyIGRvY3VtZW50ID0gZ2V0RG9jdW1lbnQoKTtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICB2YXIgZGF0YSA9IHN3aXBlci50b3VjaEV2ZW50c0RhdGE7XG4gICAgdmFyIHBhcmFtcyA9IHN3aXBlci5wYXJhbXMsXG4gICAgICAgIHRvdWNoZXMgPSBzd2lwZXIudG91Y2hlcyxcbiAgICAgICAgcnRsID0gc3dpcGVyLnJ0bFRyYW5zbGF0ZSxcbiAgICAgICAgZW5hYmxlZCA9IHN3aXBlci5lbmFibGVkO1xuICAgIGlmICghZW5hYmxlZCkgcmV0dXJuO1xuICAgIHZhciBlID0gZXZlbnQ7XG4gICAgaWYgKGUub3JpZ2luYWxFdmVudCkgZSA9IGUub3JpZ2luYWxFdmVudDtcblxuICAgIGlmICghZGF0YS5pc1RvdWNoZWQpIHtcbiAgICAgIGlmIChkYXRhLnN0YXJ0TW92aW5nICYmIGRhdGEuaXNTY3JvbGxpbmcpIHtcbiAgICAgICAgc3dpcGVyLmVtaXQoJ3RvdWNoTW92ZU9wcG9zaXRlJywgZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoZGF0YS5pc1RvdWNoRXZlbnQgJiYgZS50eXBlICE9PSAndG91Y2htb3ZlJykgcmV0dXJuO1xuICAgIHZhciB0YXJnZXRUb3VjaCA9IGUudHlwZSA9PT0gJ3RvdWNobW92ZScgJiYgZS50YXJnZXRUb3VjaGVzICYmIChlLnRhcmdldFRvdWNoZXNbMF0gfHwgZS5jaGFuZ2VkVG91Y2hlc1swXSk7XG4gICAgdmFyIHBhZ2VYID0gZS50eXBlID09PSAndG91Y2htb3ZlJyA/IHRhcmdldFRvdWNoLnBhZ2VYIDogZS5wYWdlWDtcbiAgICB2YXIgcGFnZVkgPSBlLnR5cGUgPT09ICd0b3VjaG1vdmUnID8gdGFyZ2V0VG91Y2gucGFnZVkgOiBlLnBhZ2VZO1xuXG4gICAgaWYgKGUucHJldmVudGVkQnlOZXN0ZWRTd2lwZXIpIHtcbiAgICAgIHRvdWNoZXMuc3RhcnRYID0gcGFnZVg7XG4gICAgICB0b3VjaGVzLnN0YXJ0WSA9IHBhZ2VZO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghc3dpcGVyLmFsbG93VG91Y2hNb3ZlKSB7XG4gICAgICAvLyBpc01vdmVkID0gdHJ1ZTtcbiAgICAgIHN3aXBlci5hbGxvd0NsaWNrID0gZmFsc2U7XG5cbiAgICAgIGlmIChkYXRhLmlzVG91Y2hlZCkge1xuICAgICAgICBleHRlbmQodG91Y2hlcywge1xuICAgICAgICAgIHN0YXJ0WDogcGFnZVgsXG4gICAgICAgICAgc3RhcnRZOiBwYWdlWSxcbiAgICAgICAgICBjdXJyZW50WDogcGFnZVgsXG4gICAgICAgICAgY3VycmVudFk6IHBhZ2VZXG4gICAgICAgIH0pO1xuICAgICAgICBkYXRhLnRvdWNoU3RhcnRUaW1lID0gbm93KCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoZGF0YS5pc1RvdWNoRXZlbnQgJiYgcGFyYW1zLnRvdWNoUmVsZWFzZU9uRWRnZXMgJiYgIXBhcmFtcy5sb29wKSB7XG4gICAgICBpZiAoc3dpcGVyLmlzVmVydGljYWwoKSkge1xuICAgICAgICAvLyBWZXJ0aWNhbFxuICAgICAgICBpZiAocGFnZVkgPCB0b3VjaGVzLnN0YXJ0WSAmJiBzd2lwZXIudHJhbnNsYXRlIDw9IHN3aXBlci5tYXhUcmFuc2xhdGUoKSB8fCBwYWdlWSA+IHRvdWNoZXMuc3RhcnRZICYmIHN3aXBlci50cmFuc2xhdGUgPj0gc3dpcGVyLm1pblRyYW5zbGF0ZSgpKSB7XG4gICAgICAgICAgZGF0YS5pc1RvdWNoZWQgPSBmYWxzZTtcbiAgICAgICAgICBkYXRhLmlzTW92ZWQgPSBmYWxzZTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAocGFnZVggPCB0b3VjaGVzLnN0YXJ0WCAmJiBzd2lwZXIudHJhbnNsYXRlIDw9IHN3aXBlci5tYXhUcmFuc2xhdGUoKSB8fCBwYWdlWCA+IHRvdWNoZXMuc3RhcnRYICYmIHN3aXBlci50cmFuc2xhdGUgPj0gc3dpcGVyLm1pblRyYW5zbGF0ZSgpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZGF0YS5pc1RvdWNoRXZlbnQgJiYgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkge1xuICAgICAgaWYgKGUudGFyZ2V0ID09PSBkb2N1bWVudC5hY3RpdmVFbGVtZW50ICYmICQoZS50YXJnZXQpLmlzKGRhdGEuZm9jdXNhYmxlRWxlbWVudHMpKSB7XG4gICAgICAgIGRhdGEuaXNNb3ZlZCA9IHRydWU7XG4gICAgICAgIHN3aXBlci5hbGxvd0NsaWNrID0gZmFsc2U7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZGF0YS5hbGxvd1RvdWNoQ2FsbGJhY2tzKSB7XG4gICAgICBzd2lwZXIuZW1pdCgndG91Y2hNb3ZlJywgZSk7XG4gICAgfVxuXG4gICAgaWYgKGUudGFyZ2V0VG91Y2hlcyAmJiBlLnRhcmdldFRvdWNoZXMubGVuZ3RoID4gMSkgcmV0dXJuO1xuICAgIHRvdWNoZXMuY3VycmVudFggPSBwYWdlWDtcbiAgICB0b3VjaGVzLmN1cnJlbnRZID0gcGFnZVk7XG4gICAgdmFyIGRpZmZYID0gdG91Y2hlcy5jdXJyZW50WCAtIHRvdWNoZXMuc3RhcnRYO1xuICAgIHZhciBkaWZmWSA9IHRvdWNoZXMuY3VycmVudFkgLSB0b3VjaGVzLnN0YXJ0WTtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy50aHJlc2hvbGQgJiYgTWF0aC5zcXJ0KE1hdGgucG93KGRpZmZYLCAyKSArIE1hdGgucG93KGRpZmZZLCAyKSkgPCBzd2lwZXIucGFyYW1zLnRocmVzaG9sZCkgcmV0dXJuO1xuXG4gICAgaWYgKHR5cGVvZiBkYXRhLmlzU2Nyb2xsaW5nID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdmFyIHRvdWNoQW5nbGU7XG5cbiAgICAgIGlmIChzd2lwZXIuaXNIb3Jpem9udGFsKCkgJiYgdG91Y2hlcy5jdXJyZW50WSA9PT0gdG91Y2hlcy5zdGFydFkgfHwgc3dpcGVyLmlzVmVydGljYWwoKSAmJiB0b3VjaGVzLmN1cnJlbnRYID09PSB0b3VjaGVzLnN0YXJ0WCkge1xuICAgICAgICBkYXRhLmlzU2Nyb2xsaW5nID0gZmFsc2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgICAgaWYgKGRpZmZYICogZGlmZlggKyBkaWZmWSAqIGRpZmZZID49IDI1KSB7XG4gICAgICAgICAgdG91Y2hBbmdsZSA9IE1hdGguYXRhbjIoTWF0aC5hYnMoZGlmZlkpLCBNYXRoLmFicyhkaWZmWCkpICogMTgwIC8gTWF0aC5QSTtcbiAgICAgICAgICBkYXRhLmlzU2Nyb2xsaW5nID0gc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gdG91Y2hBbmdsZSA+IHBhcmFtcy50b3VjaEFuZ2xlIDogOTAgLSB0b3VjaEFuZ2xlID4gcGFyYW1zLnRvdWNoQW5nbGU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZGF0YS5pc1Njcm9sbGluZykge1xuICAgICAgc3dpcGVyLmVtaXQoJ3RvdWNoTW92ZU9wcG9zaXRlJywgZSk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBkYXRhLnN0YXJ0TW92aW5nID09PSAndW5kZWZpbmVkJykge1xuICAgICAgaWYgKHRvdWNoZXMuY3VycmVudFggIT09IHRvdWNoZXMuc3RhcnRYIHx8IHRvdWNoZXMuY3VycmVudFkgIT09IHRvdWNoZXMuc3RhcnRZKSB7XG4gICAgICAgIGRhdGEuc3RhcnRNb3ZpbmcgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChkYXRhLmlzU2Nyb2xsaW5nKSB7XG4gICAgICBkYXRhLmlzVG91Y2hlZCA9IGZhbHNlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghZGF0YS5zdGFydE1vdmluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHN3aXBlci5hbGxvd0NsaWNrID0gZmFsc2U7XG5cbiAgICBpZiAoIXBhcmFtcy5jc3NNb2RlICYmIGUuY2FuY2VsYWJsZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cblxuICAgIGlmIChwYXJhbXMudG91Y2hNb3ZlU3RvcFByb3BhZ2F0aW9uICYmICFwYXJhbXMubmVzdGVkKSB7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH1cblxuICAgIGlmICghZGF0YS5pc01vdmVkKSB7XG4gICAgICBpZiAocGFyYW1zLmxvb3ApIHtcbiAgICAgICAgc3dpcGVyLmxvb3BGaXgoKTtcbiAgICAgIH1cblxuICAgICAgZGF0YS5zdGFydFRyYW5zbGF0ZSA9IHN3aXBlci5nZXRUcmFuc2xhdGUoKTtcbiAgICAgIHN3aXBlci5zZXRUcmFuc2l0aW9uKDApO1xuXG4gICAgICBpZiAoc3dpcGVyLmFuaW1hdGluZykge1xuICAgICAgICBzd2lwZXIuJHdyYXBwZXJFbC50cmlnZ2VyKCd3ZWJraXRUcmFuc2l0aW9uRW5kIHRyYW5zaXRpb25lbmQnKTtcbiAgICAgIH1cblxuICAgICAgZGF0YS5hbGxvd01vbWVudHVtQm91bmNlID0gZmFsc2U7IC8vIEdyYWIgQ3Vyc29yXG5cbiAgICAgIGlmIChwYXJhbXMuZ3JhYkN1cnNvciAmJiAoc3dpcGVyLmFsbG93U2xpZGVOZXh0ID09PSB0cnVlIHx8IHN3aXBlci5hbGxvd1NsaWRlUHJldiA9PT0gdHJ1ZSkpIHtcbiAgICAgICAgc3dpcGVyLnNldEdyYWJDdXJzb3IodHJ1ZSk7XG4gICAgICB9XG5cbiAgICAgIHN3aXBlci5lbWl0KCdzbGlkZXJGaXJzdE1vdmUnLCBlKTtcbiAgICB9XG5cbiAgICBzd2lwZXIuZW1pdCgnc2xpZGVyTW92ZScsIGUpO1xuICAgIGRhdGEuaXNNb3ZlZCA9IHRydWU7XG4gICAgdmFyIGRpZmYgPSBzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyBkaWZmWCA6IGRpZmZZO1xuICAgIHRvdWNoZXMuZGlmZiA9IGRpZmY7XG4gICAgZGlmZiAqPSBwYXJhbXMudG91Y2hSYXRpbztcbiAgICBpZiAocnRsKSBkaWZmID0gLWRpZmY7XG4gICAgc3dpcGVyLnN3aXBlRGlyZWN0aW9uID0gZGlmZiA+IDAgPyAncHJldicgOiAnbmV4dCc7XG4gICAgZGF0YS5jdXJyZW50VHJhbnNsYXRlID0gZGlmZiArIGRhdGEuc3RhcnRUcmFuc2xhdGU7XG4gICAgdmFyIGRpc2FibGVQYXJlbnRTd2lwZXIgPSB0cnVlO1xuICAgIHZhciByZXNpc3RhbmNlUmF0aW8gPSBwYXJhbXMucmVzaXN0YW5jZVJhdGlvO1xuXG4gICAgaWYgKHBhcmFtcy50b3VjaFJlbGVhc2VPbkVkZ2VzKSB7XG4gICAgICByZXNpc3RhbmNlUmF0aW8gPSAwO1xuICAgIH1cblxuICAgIGlmIChkaWZmID4gMCAmJiBkYXRhLmN1cnJlbnRUcmFuc2xhdGUgPiBzd2lwZXIubWluVHJhbnNsYXRlKCkpIHtcbiAgICAgIGRpc2FibGVQYXJlbnRTd2lwZXIgPSBmYWxzZTtcbiAgICAgIGlmIChwYXJhbXMucmVzaXN0YW5jZSkgZGF0YS5jdXJyZW50VHJhbnNsYXRlID0gc3dpcGVyLm1pblRyYW5zbGF0ZSgpIC0gMSArIE1hdGgucG93KC1zd2lwZXIubWluVHJhbnNsYXRlKCkgKyBkYXRhLnN0YXJ0VHJhbnNsYXRlICsgZGlmZiwgcmVzaXN0YW5jZVJhdGlvKTtcbiAgICB9IGVsc2UgaWYgKGRpZmYgPCAwICYmIGRhdGEuY3VycmVudFRyYW5zbGF0ZSA8IHN3aXBlci5tYXhUcmFuc2xhdGUoKSkge1xuICAgICAgZGlzYWJsZVBhcmVudFN3aXBlciA9IGZhbHNlO1xuICAgICAgaWYgKHBhcmFtcy5yZXNpc3RhbmNlKSBkYXRhLmN1cnJlbnRUcmFuc2xhdGUgPSBzd2lwZXIubWF4VHJhbnNsYXRlKCkgKyAxIC0gTWF0aC5wb3coc3dpcGVyLm1heFRyYW5zbGF0ZSgpIC0gZGF0YS5zdGFydFRyYW5zbGF0ZSAtIGRpZmYsIHJlc2lzdGFuY2VSYXRpbyk7XG4gICAgfVxuXG4gICAgaWYgKGRpc2FibGVQYXJlbnRTd2lwZXIpIHtcbiAgICAgIGUucHJldmVudGVkQnlOZXN0ZWRTd2lwZXIgPSB0cnVlO1xuICAgIH0gLy8gRGlyZWN0aW9ucyBsb2Nrc1xuXG5cbiAgICBpZiAoIXN3aXBlci5hbGxvd1NsaWRlTmV4dCAmJiBzd2lwZXIuc3dpcGVEaXJlY3Rpb24gPT09ICduZXh0JyAmJiBkYXRhLmN1cnJlbnRUcmFuc2xhdGUgPCBkYXRhLnN0YXJ0VHJhbnNsYXRlKSB7XG4gICAgICBkYXRhLmN1cnJlbnRUcmFuc2xhdGUgPSBkYXRhLnN0YXJ0VHJhbnNsYXRlO1xuICAgIH1cblxuICAgIGlmICghc3dpcGVyLmFsbG93U2xpZGVQcmV2ICYmIHN3aXBlci5zd2lwZURpcmVjdGlvbiA9PT0gJ3ByZXYnICYmIGRhdGEuY3VycmVudFRyYW5zbGF0ZSA+IGRhdGEuc3RhcnRUcmFuc2xhdGUpIHtcbiAgICAgIGRhdGEuY3VycmVudFRyYW5zbGF0ZSA9IGRhdGEuc3RhcnRUcmFuc2xhdGU7XG4gICAgfVxuXG4gICAgaWYgKCFzd2lwZXIuYWxsb3dTbGlkZVByZXYgJiYgIXN3aXBlci5hbGxvd1NsaWRlTmV4dCkge1xuICAgICAgZGF0YS5jdXJyZW50VHJhbnNsYXRlID0gZGF0YS5zdGFydFRyYW5zbGF0ZTtcbiAgICB9IC8vIFRocmVzaG9sZFxuXG5cbiAgICBpZiAocGFyYW1zLnRocmVzaG9sZCA+IDApIHtcbiAgICAgIGlmIChNYXRoLmFicyhkaWZmKSA+IHBhcmFtcy50aHJlc2hvbGQgfHwgZGF0YS5hbGxvd1RocmVzaG9sZE1vdmUpIHtcbiAgICAgICAgaWYgKCFkYXRhLmFsbG93VGhyZXNob2xkTW92ZSkge1xuICAgICAgICAgIGRhdGEuYWxsb3dUaHJlc2hvbGRNb3ZlID0gdHJ1ZTtcbiAgICAgICAgICB0b3VjaGVzLnN0YXJ0WCA9IHRvdWNoZXMuY3VycmVudFg7XG4gICAgICAgICAgdG91Y2hlcy5zdGFydFkgPSB0b3VjaGVzLmN1cnJlbnRZO1xuICAgICAgICAgIGRhdGEuY3VycmVudFRyYW5zbGF0ZSA9IGRhdGEuc3RhcnRUcmFuc2xhdGU7XG4gICAgICAgICAgdG91Y2hlcy5kaWZmID0gc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gdG91Y2hlcy5jdXJyZW50WCAtIHRvdWNoZXMuc3RhcnRYIDogdG91Y2hlcy5jdXJyZW50WSAtIHRvdWNoZXMuc3RhcnRZO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGF0YS5jdXJyZW50VHJhbnNsYXRlID0gZGF0YS5zdGFydFRyYW5zbGF0ZTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghcGFyYW1zLmZvbGxvd0ZpbmdlciB8fCBwYXJhbXMuY3NzTW9kZSkgcmV0dXJuOyAvLyBVcGRhdGUgYWN0aXZlIGluZGV4IGluIGZyZWUgbW9kZVxuXG4gICAgaWYgKHBhcmFtcy5mcmVlTW9kZSB8fCBwYXJhbXMud2F0Y2hTbGlkZXNQcm9ncmVzcyB8fCBwYXJhbXMud2F0Y2hTbGlkZXNWaXNpYmlsaXR5KSB7XG4gICAgICBzd2lwZXIudXBkYXRlQWN0aXZlSW5kZXgoKTtcbiAgICAgIHN3aXBlci51cGRhdGVTbGlkZXNDbGFzc2VzKCk7XG4gICAgfVxuXG4gICAgaWYgKHBhcmFtcy5mcmVlTW9kZSkge1xuICAgICAgLy8gVmVsb2NpdHlcbiAgICAgIGlmIChkYXRhLnZlbG9jaXRpZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGRhdGEudmVsb2NpdGllcy5wdXNoKHtcbiAgICAgICAgICBwb3NpdGlvbjogdG91Y2hlc1tzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyAnc3RhcnRYJyA6ICdzdGFydFknXSxcbiAgICAgICAgICB0aW1lOiBkYXRhLnRvdWNoU3RhcnRUaW1lXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBkYXRhLnZlbG9jaXRpZXMucHVzaCh7XG4gICAgICAgIHBvc2l0aW9uOiB0b3VjaGVzW3N3aXBlci5pc0hvcml6b250YWwoKSA/ICdjdXJyZW50WCcgOiAnY3VycmVudFknXSxcbiAgICAgICAgdGltZTogbm93KClcbiAgICAgIH0pO1xuICAgIH0gLy8gVXBkYXRlIHByb2dyZXNzXG5cblxuICAgIHN3aXBlci51cGRhdGVQcm9ncmVzcyhkYXRhLmN1cnJlbnRUcmFuc2xhdGUpOyAvLyBVcGRhdGUgdHJhbnNsYXRlXG5cbiAgICBzd2lwZXIuc2V0VHJhbnNsYXRlKGRhdGEuY3VycmVudFRyYW5zbGF0ZSk7XG4gIH1cblxuICBmdW5jdGlvbiBvblRvdWNoRW5kKGV2ZW50KSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgdmFyIGRhdGEgPSBzd2lwZXIudG91Y2hFdmVudHNEYXRhO1xuICAgIHZhciBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLFxuICAgICAgICB0b3VjaGVzID0gc3dpcGVyLnRvdWNoZXMsXG4gICAgICAgIHJ0bCA9IHN3aXBlci5ydGxUcmFuc2xhdGUsXG4gICAgICAgICR3cmFwcGVyRWwgPSBzd2lwZXIuJHdyYXBwZXJFbCxcbiAgICAgICAgc2xpZGVzR3JpZCA9IHN3aXBlci5zbGlkZXNHcmlkLFxuICAgICAgICBzbmFwR3JpZCA9IHN3aXBlci5zbmFwR3JpZCxcbiAgICAgICAgZW5hYmxlZCA9IHN3aXBlci5lbmFibGVkO1xuICAgIGlmICghZW5hYmxlZCkgcmV0dXJuO1xuICAgIHZhciBlID0gZXZlbnQ7XG4gICAgaWYgKGUub3JpZ2luYWxFdmVudCkgZSA9IGUub3JpZ2luYWxFdmVudDtcblxuICAgIGlmIChkYXRhLmFsbG93VG91Y2hDYWxsYmFja3MpIHtcbiAgICAgIHN3aXBlci5lbWl0KCd0b3VjaEVuZCcsIGUpO1xuICAgIH1cblxuICAgIGRhdGEuYWxsb3dUb3VjaENhbGxiYWNrcyA9IGZhbHNlO1xuXG4gICAgaWYgKCFkYXRhLmlzVG91Y2hlZCkge1xuICAgICAgaWYgKGRhdGEuaXNNb3ZlZCAmJiBwYXJhbXMuZ3JhYkN1cnNvcikge1xuICAgICAgICBzd2lwZXIuc2V0R3JhYkN1cnNvcihmYWxzZSk7XG4gICAgICB9XG5cbiAgICAgIGRhdGEuaXNNb3ZlZCA9IGZhbHNlO1xuICAgICAgZGF0YS5zdGFydE1vdmluZyA9IGZhbHNlO1xuICAgICAgcmV0dXJuO1xuICAgIH0gLy8gUmV0dXJuIEdyYWIgQ3Vyc29yXG5cblxuICAgIGlmIChwYXJhbXMuZ3JhYkN1cnNvciAmJiBkYXRhLmlzTW92ZWQgJiYgZGF0YS5pc1RvdWNoZWQgJiYgKHN3aXBlci5hbGxvd1NsaWRlTmV4dCA9PT0gdHJ1ZSB8fCBzd2lwZXIuYWxsb3dTbGlkZVByZXYgPT09IHRydWUpKSB7XG4gICAgICBzd2lwZXIuc2V0R3JhYkN1cnNvcihmYWxzZSk7XG4gICAgfSAvLyBUaW1lIGRpZmZcblxuXG4gICAgdmFyIHRvdWNoRW5kVGltZSA9IG5vdygpO1xuICAgIHZhciB0aW1lRGlmZiA9IHRvdWNoRW5kVGltZSAtIGRhdGEudG91Y2hTdGFydFRpbWU7IC8vIFRhcCwgZG91YmxlVGFwLCBDbGlja1xuXG4gICAgaWYgKHN3aXBlci5hbGxvd0NsaWNrKSB7XG4gICAgICBzd2lwZXIudXBkYXRlQ2xpY2tlZFNsaWRlKGUpO1xuICAgICAgc3dpcGVyLmVtaXQoJ3RhcCBjbGljaycsIGUpO1xuXG4gICAgICBpZiAodGltZURpZmYgPCAzMDAgJiYgdG91Y2hFbmRUaW1lIC0gZGF0YS5sYXN0Q2xpY2tUaW1lIDwgMzAwKSB7XG4gICAgICAgIHN3aXBlci5lbWl0KCdkb3VibGVUYXAgZG91YmxlQ2xpY2snLCBlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBkYXRhLmxhc3RDbGlja1RpbWUgPSBub3coKTtcbiAgICBuZXh0VGljayhmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIXN3aXBlci5kZXN0cm95ZWQpIHN3aXBlci5hbGxvd0NsaWNrID0gdHJ1ZTtcbiAgICB9KTtcblxuICAgIGlmICghZGF0YS5pc1RvdWNoZWQgfHwgIWRhdGEuaXNNb3ZlZCB8fCAhc3dpcGVyLnN3aXBlRGlyZWN0aW9uIHx8IHRvdWNoZXMuZGlmZiA9PT0gMCB8fCBkYXRhLmN1cnJlbnRUcmFuc2xhdGUgPT09IGRhdGEuc3RhcnRUcmFuc2xhdGUpIHtcbiAgICAgIGRhdGEuaXNUb3VjaGVkID0gZmFsc2U7XG4gICAgICBkYXRhLmlzTW92ZWQgPSBmYWxzZTtcbiAgICAgIGRhdGEuc3RhcnRNb3ZpbmcgPSBmYWxzZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBkYXRhLmlzVG91Y2hlZCA9IGZhbHNlO1xuICAgIGRhdGEuaXNNb3ZlZCA9IGZhbHNlO1xuICAgIGRhdGEuc3RhcnRNb3ZpbmcgPSBmYWxzZTtcbiAgICB2YXIgY3VycmVudFBvcztcblxuICAgIGlmIChwYXJhbXMuZm9sbG93RmluZ2VyKSB7XG4gICAgICBjdXJyZW50UG9zID0gcnRsID8gc3dpcGVyLnRyYW5zbGF0ZSA6IC1zd2lwZXIudHJhbnNsYXRlO1xuICAgIH0gZWxzZSB7XG4gICAgICBjdXJyZW50UG9zID0gLWRhdGEuY3VycmVudFRyYW5zbGF0ZTtcbiAgICB9XG5cbiAgICBpZiAocGFyYW1zLmNzc01vZGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAocGFyYW1zLmZyZWVNb2RlKSB7XG4gICAgICBpZiAoY3VycmVudFBvcyA8IC1zd2lwZXIubWluVHJhbnNsYXRlKCkpIHtcbiAgICAgICAgc3dpcGVyLnNsaWRlVG8oc3dpcGVyLmFjdGl2ZUluZGV4KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoY3VycmVudFBvcyA+IC1zd2lwZXIubWF4VHJhbnNsYXRlKCkpIHtcbiAgICAgICAgaWYgKHN3aXBlci5zbGlkZXMubGVuZ3RoIDwgc25hcEdyaWQubGVuZ3RoKSB7XG4gICAgICAgICAgc3dpcGVyLnNsaWRlVG8oc25hcEdyaWQubGVuZ3RoIC0gMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3dpcGVyLnNsaWRlVG8oc3dpcGVyLnNsaWRlcy5sZW5ndGggLSAxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHBhcmFtcy5mcmVlTW9kZU1vbWVudHVtKSB7XG4gICAgICAgIGlmIChkYXRhLnZlbG9jaXRpZXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgIHZhciBsYXN0TW92ZUV2ZW50ID0gZGF0YS52ZWxvY2l0aWVzLnBvcCgpO1xuICAgICAgICAgIHZhciB2ZWxvY2l0eUV2ZW50ID0gZGF0YS52ZWxvY2l0aWVzLnBvcCgpO1xuICAgICAgICAgIHZhciBkaXN0YW5jZSA9IGxhc3RNb3ZlRXZlbnQucG9zaXRpb24gLSB2ZWxvY2l0eUV2ZW50LnBvc2l0aW9uO1xuICAgICAgICAgIHZhciB0aW1lID0gbGFzdE1vdmVFdmVudC50aW1lIC0gdmVsb2NpdHlFdmVudC50aW1lO1xuICAgICAgICAgIHN3aXBlci52ZWxvY2l0eSA9IGRpc3RhbmNlIC8gdGltZTtcbiAgICAgICAgICBzd2lwZXIudmVsb2NpdHkgLz0gMjtcblxuICAgICAgICAgIGlmIChNYXRoLmFicyhzd2lwZXIudmVsb2NpdHkpIDwgcGFyYW1zLmZyZWVNb2RlTWluaW11bVZlbG9jaXR5KSB7XG4gICAgICAgICAgICBzd2lwZXIudmVsb2NpdHkgPSAwO1xuICAgICAgICAgIH0gLy8gdGhpcyBpbXBsaWVzIHRoYXQgdGhlIHVzZXIgc3RvcHBlZCBtb3ZpbmcgYSBmaW5nZXIgdGhlbiByZWxlYXNlZC5cbiAgICAgICAgICAvLyBUaGVyZSB3b3VsZCBiZSBubyBldmVudHMgd2l0aCBkaXN0YW5jZSB6ZXJvLCBzbyB0aGUgbGFzdCBldmVudCBpcyBzdGFsZS5cblxuXG4gICAgICAgICAgaWYgKHRpbWUgPiAxNTAgfHwgbm93KCkgLSBsYXN0TW92ZUV2ZW50LnRpbWUgPiAzMDApIHtcbiAgICAgICAgICAgIHN3aXBlci52ZWxvY2l0eSA9IDA7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN3aXBlci52ZWxvY2l0eSA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBzd2lwZXIudmVsb2NpdHkgKj0gcGFyYW1zLmZyZWVNb2RlTW9tZW50dW1WZWxvY2l0eVJhdGlvO1xuICAgICAgICBkYXRhLnZlbG9jaXRpZXMubGVuZ3RoID0gMDtcbiAgICAgICAgdmFyIG1vbWVudHVtRHVyYXRpb24gPSAxMDAwICogcGFyYW1zLmZyZWVNb2RlTW9tZW50dW1SYXRpbztcbiAgICAgICAgdmFyIG1vbWVudHVtRGlzdGFuY2UgPSBzd2lwZXIudmVsb2NpdHkgKiBtb21lbnR1bUR1cmF0aW9uO1xuICAgICAgICB2YXIgbmV3UG9zaXRpb24gPSBzd2lwZXIudHJhbnNsYXRlICsgbW9tZW50dW1EaXN0YW5jZTtcbiAgICAgICAgaWYgKHJ0bCkgbmV3UG9zaXRpb24gPSAtbmV3UG9zaXRpb247XG4gICAgICAgIHZhciBkb0JvdW5jZSA9IGZhbHNlO1xuICAgICAgICB2YXIgYWZ0ZXJCb3VuY2VQb3NpdGlvbjtcbiAgICAgICAgdmFyIGJvdW5jZUFtb3VudCA9IE1hdGguYWJzKHN3aXBlci52ZWxvY2l0eSkgKiAyMCAqIHBhcmFtcy5mcmVlTW9kZU1vbWVudHVtQm91bmNlUmF0aW87XG4gICAgICAgIHZhciBuZWVkc0xvb3BGaXg7XG5cbiAgICAgICAgaWYgKG5ld1Bvc2l0aW9uIDwgc3dpcGVyLm1heFRyYW5zbGF0ZSgpKSB7XG4gICAgICAgICAgaWYgKHBhcmFtcy5mcmVlTW9kZU1vbWVudHVtQm91bmNlKSB7XG4gICAgICAgICAgICBpZiAobmV3UG9zaXRpb24gKyBzd2lwZXIubWF4VHJhbnNsYXRlKCkgPCAtYm91bmNlQW1vdW50KSB7XG4gICAgICAgICAgICAgIG5ld1Bvc2l0aW9uID0gc3dpcGVyLm1heFRyYW5zbGF0ZSgpIC0gYm91bmNlQW1vdW50O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhZnRlckJvdW5jZVBvc2l0aW9uID0gc3dpcGVyLm1heFRyYW5zbGF0ZSgpO1xuICAgICAgICAgICAgZG9Cb3VuY2UgPSB0cnVlO1xuICAgICAgICAgICAgZGF0YS5hbGxvd01vbWVudHVtQm91bmNlID0gdHJ1ZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbmV3UG9zaXRpb24gPSBzd2lwZXIubWF4VHJhbnNsYXRlKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHBhcmFtcy5sb29wICYmIHBhcmFtcy5jZW50ZXJlZFNsaWRlcykgbmVlZHNMb29wRml4ID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIGlmIChuZXdQb3NpdGlvbiA+IHN3aXBlci5taW5UcmFuc2xhdGUoKSkge1xuICAgICAgICAgIGlmIChwYXJhbXMuZnJlZU1vZGVNb21lbnR1bUJvdW5jZSkge1xuICAgICAgICAgICAgaWYgKG5ld1Bvc2l0aW9uIC0gc3dpcGVyLm1pblRyYW5zbGF0ZSgpID4gYm91bmNlQW1vdW50KSB7XG4gICAgICAgICAgICAgIG5ld1Bvc2l0aW9uID0gc3dpcGVyLm1pblRyYW5zbGF0ZSgpICsgYm91bmNlQW1vdW50O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhZnRlckJvdW5jZVBvc2l0aW9uID0gc3dpcGVyLm1pblRyYW5zbGF0ZSgpO1xuICAgICAgICAgICAgZG9Cb3VuY2UgPSB0cnVlO1xuICAgICAgICAgICAgZGF0YS5hbGxvd01vbWVudHVtQm91bmNlID0gdHJ1ZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbmV3UG9zaXRpb24gPSBzd2lwZXIubWluVHJhbnNsYXRlKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHBhcmFtcy5sb29wICYmIHBhcmFtcy5jZW50ZXJlZFNsaWRlcykgbmVlZHNMb29wRml4ID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIGlmIChwYXJhbXMuZnJlZU1vZGVTdGlja3kpIHtcbiAgICAgICAgICB2YXIgbmV4dFNsaWRlO1xuXG4gICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBzbmFwR3JpZC5sZW5ndGg7IGogKz0gMSkge1xuICAgICAgICAgICAgaWYgKHNuYXBHcmlkW2pdID4gLW5ld1Bvc2l0aW9uKSB7XG4gICAgICAgICAgICAgIG5leHRTbGlkZSA9IGo7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChNYXRoLmFicyhzbmFwR3JpZFtuZXh0U2xpZGVdIC0gbmV3UG9zaXRpb24pIDwgTWF0aC5hYnMoc25hcEdyaWRbbmV4dFNsaWRlIC0gMV0gLSBuZXdQb3NpdGlvbikgfHwgc3dpcGVyLnN3aXBlRGlyZWN0aW9uID09PSAnbmV4dCcpIHtcbiAgICAgICAgICAgIG5ld1Bvc2l0aW9uID0gc25hcEdyaWRbbmV4dFNsaWRlXTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbmV3UG9zaXRpb24gPSBzbmFwR3JpZFtuZXh0U2xpZGUgLSAxXTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBuZXdQb3NpdGlvbiA9IC1uZXdQb3NpdGlvbjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChuZWVkc0xvb3BGaXgpIHtcbiAgICAgICAgICBzd2lwZXIub25jZSgndHJhbnNpdGlvbkVuZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHN3aXBlci5sb29wRml4KCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gLy8gRml4IGR1cmF0aW9uXG5cblxuICAgICAgICBpZiAoc3dpcGVyLnZlbG9jaXR5ICE9PSAwKSB7XG4gICAgICAgICAgaWYgKHJ0bCkge1xuICAgICAgICAgICAgbW9tZW50dW1EdXJhdGlvbiA9IE1hdGguYWJzKCgtbmV3UG9zaXRpb24gLSBzd2lwZXIudHJhbnNsYXRlKSAvIHN3aXBlci52ZWxvY2l0eSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1vbWVudHVtRHVyYXRpb24gPSBNYXRoLmFicygobmV3UG9zaXRpb24gLSBzd2lwZXIudHJhbnNsYXRlKSAvIHN3aXBlci52ZWxvY2l0eSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHBhcmFtcy5mcmVlTW9kZVN0aWNreSkge1xuICAgICAgICAgICAgLy8gSWYgZnJlZU1vZGVTdGlja3kgaXMgYWN0aXZlIGFuZCB0aGUgdXNlciBlbmRzIGEgc3dpcGUgd2l0aCBhIHNsb3ctdmVsb2NpdHlcbiAgICAgICAgICAgIC8vIGV2ZW50LCB0aGVuIGR1cmF0aW9ucyBjYW4gYmUgMjArIHNlY29uZHMgdG8gc2xpZGUgb25lIChvciB6ZXJvISkgc2xpZGVzLlxuICAgICAgICAgICAgLy8gSXQncyBlYXN5IHRvIHNlZSB0aGlzIHdoZW4gc2ltdWxhdGluZyB0b3VjaCB3aXRoIG1vdXNlIGV2ZW50cy4gVG8gZml4IHRoaXMsXG4gICAgICAgICAgICAvLyBsaW1pdCBzaW5nbGUtc2xpZGUgc3dpcGVzIHRvIHRoZSBkZWZhdWx0IHNsaWRlIGR1cmF0aW9uLiBUaGlzIGFsc28gaGFzIHRoZVxuICAgICAgICAgICAgLy8gbmljZSBzaWRlIGVmZmVjdCBvZiBtYXRjaGluZyBzbGlkZSBzcGVlZCBpZiB0aGUgdXNlciBzdG9wcGVkIG1vdmluZyBiZWZvcmVcbiAgICAgICAgICAgIC8vIGxpZnRpbmcgZmluZ2VyIG9yIG1vdXNlIHZzLiBtb3Zpbmcgc2xvd2x5IGJlZm9yZSBsaWZ0aW5nIHRoZSBmaW5nZXIvbW91c2UuXG4gICAgICAgICAgICAvLyBGb3IgZmFzdGVyIHN3aXBlcywgYWxzbyBhcHBseSBsaW1pdHMgKGFsYmVpdCBoaWdoZXIgb25lcykuXG4gICAgICAgICAgICB2YXIgbW92ZURpc3RhbmNlID0gTWF0aC5hYnMoKHJ0bCA/IC1uZXdQb3NpdGlvbiA6IG5ld1Bvc2l0aW9uKSAtIHN3aXBlci50cmFuc2xhdGUpO1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRTbGlkZVNpemUgPSBzd2lwZXIuc2xpZGVzU2l6ZXNHcmlkW3N3aXBlci5hY3RpdmVJbmRleF07XG5cbiAgICAgICAgICAgIGlmIChtb3ZlRGlzdGFuY2UgPCBjdXJyZW50U2xpZGVTaXplKSB7XG4gICAgICAgICAgICAgIG1vbWVudHVtRHVyYXRpb24gPSBwYXJhbXMuc3BlZWQ7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG1vdmVEaXN0YW5jZSA8IDIgKiBjdXJyZW50U2xpZGVTaXplKSB7XG4gICAgICAgICAgICAgIG1vbWVudHVtRHVyYXRpb24gPSBwYXJhbXMuc3BlZWQgKiAxLjU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBtb21lbnR1bUR1cmF0aW9uID0gcGFyYW1zLnNwZWVkICogMi41O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChwYXJhbXMuZnJlZU1vZGVTdGlja3kpIHtcbiAgICAgICAgICBzd2lwZXIuc2xpZGVUb0Nsb3Nlc3QoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGFyYW1zLmZyZWVNb2RlTW9tZW50dW1Cb3VuY2UgJiYgZG9Cb3VuY2UpIHtcbiAgICAgICAgICBzd2lwZXIudXBkYXRlUHJvZ3Jlc3MoYWZ0ZXJCb3VuY2VQb3NpdGlvbik7XG4gICAgICAgICAgc3dpcGVyLnNldFRyYW5zaXRpb24obW9tZW50dW1EdXJhdGlvbik7XG4gICAgICAgICAgc3dpcGVyLnNldFRyYW5zbGF0ZShuZXdQb3NpdGlvbik7XG4gICAgICAgICAgc3dpcGVyLnRyYW5zaXRpb25TdGFydCh0cnVlLCBzd2lwZXIuc3dpcGVEaXJlY3Rpb24pO1xuICAgICAgICAgIHN3aXBlci5hbmltYXRpbmcgPSB0cnVlO1xuICAgICAgICAgICR3cmFwcGVyRWwudHJhbnNpdGlvbkVuZChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIXN3aXBlciB8fCBzd2lwZXIuZGVzdHJveWVkIHx8ICFkYXRhLmFsbG93TW9tZW50dW1Cb3VuY2UpIHJldHVybjtcbiAgICAgICAgICAgIHN3aXBlci5lbWl0KCdtb21lbnR1bUJvdW5jZScpO1xuICAgICAgICAgICAgc3dpcGVyLnNldFRyYW5zaXRpb24ocGFyYW1zLnNwZWVkKTtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICBzd2lwZXIuc2V0VHJhbnNsYXRlKGFmdGVyQm91bmNlUG9zaXRpb24pO1xuICAgICAgICAgICAgICAkd3JhcHBlckVsLnRyYW5zaXRpb25FbmQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmICghc3dpcGVyIHx8IHN3aXBlci5kZXN0cm95ZWQpIHJldHVybjtcbiAgICAgICAgICAgICAgICBzd2lwZXIudHJhbnNpdGlvbkVuZCgpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKHN3aXBlci52ZWxvY2l0eSkge1xuICAgICAgICAgIHN3aXBlci51cGRhdGVQcm9ncmVzcyhuZXdQb3NpdGlvbik7XG4gICAgICAgICAgc3dpcGVyLnNldFRyYW5zaXRpb24obW9tZW50dW1EdXJhdGlvbik7XG4gICAgICAgICAgc3dpcGVyLnNldFRyYW5zbGF0ZShuZXdQb3NpdGlvbik7XG4gICAgICAgICAgc3dpcGVyLnRyYW5zaXRpb25TdGFydCh0cnVlLCBzd2lwZXIuc3dpcGVEaXJlY3Rpb24pO1xuXG4gICAgICAgICAgaWYgKCFzd2lwZXIuYW5pbWF0aW5nKSB7XG4gICAgICAgICAgICBzd2lwZXIuYW5pbWF0aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICR3cmFwcGVyRWwudHJhbnNpdGlvbkVuZChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIGlmICghc3dpcGVyIHx8IHN3aXBlci5kZXN0cm95ZWQpIHJldHVybjtcbiAgICAgICAgICAgICAgc3dpcGVyLnRyYW5zaXRpb25FbmQoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzd2lwZXIuZW1pdCgnX2ZyZWVNb2RlTm9Nb21lbnR1bVJlbGVhc2UnKTtcbiAgICAgICAgICBzd2lwZXIudXBkYXRlUHJvZ3Jlc3MobmV3UG9zaXRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgc3dpcGVyLnVwZGF0ZUFjdGl2ZUluZGV4KCk7XG4gICAgICAgIHN3aXBlci51cGRhdGVTbGlkZXNDbGFzc2VzKCk7XG4gICAgICB9IGVsc2UgaWYgKHBhcmFtcy5mcmVlTW9kZVN0aWNreSkge1xuICAgICAgICBzd2lwZXIuc2xpZGVUb0Nsb3Nlc3QoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIGlmIChwYXJhbXMuZnJlZU1vZGUpIHtcbiAgICAgICAgc3dpcGVyLmVtaXQoJ19mcmVlTW9kZU5vTW9tZW50dW1SZWxlYXNlJyk7XG4gICAgICB9XG5cbiAgICAgIGlmICghcGFyYW1zLmZyZWVNb2RlTW9tZW50dW0gfHwgdGltZURpZmYgPj0gcGFyYW1zLmxvbmdTd2lwZXNNcykge1xuICAgICAgICBzd2lwZXIudXBkYXRlUHJvZ3Jlc3MoKTtcbiAgICAgICAgc3dpcGVyLnVwZGF0ZUFjdGl2ZUluZGV4KCk7XG4gICAgICAgIHN3aXBlci51cGRhdGVTbGlkZXNDbGFzc2VzKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybjtcbiAgICB9IC8vIEZpbmQgY3VycmVudCBzbGlkZVxuXG5cbiAgICB2YXIgc3RvcEluZGV4ID0gMDtcbiAgICB2YXIgZ3JvdXBTaXplID0gc3dpcGVyLnNsaWRlc1NpemVzR3JpZFswXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2xpZGVzR3JpZC5sZW5ndGg7IGkgKz0gaSA8IHBhcmFtcy5zbGlkZXNQZXJHcm91cFNraXAgPyAxIDogcGFyYW1zLnNsaWRlc1Blckdyb3VwKSB7XG4gICAgICB2YXIgX2luY3JlbWVudCA9IGkgPCBwYXJhbXMuc2xpZGVzUGVyR3JvdXBTa2lwIC0gMSA/IDEgOiBwYXJhbXMuc2xpZGVzUGVyR3JvdXA7XG5cbiAgICAgIGlmICh0eXBlb2Ygc2xpZGVzR3JpZFtpICsgX2luY3JlbWVudF0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGlmIChjdXJyZW50UG9zID49IHNsaWRlc0dyaWRbaV0gJiYgY3VycmVudFBvcyA8IHNsaWRlc0dyaWRbaSArIF9pbmNyZW1lbnRdKSB7XG4gICAgICAgICAgc3RvcEluZGV4ID0gaTtcbiAgICAgICAgICBncm91cFNpemUgPSBzbGlkZXNHcmlkW2kgKyBfaW5jcmVtZW50XSAtIHNsaWRlc0dyaWRbaV07XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoY3VycmVudFBvcyA+PSBzbGlkZXNHcmlkW2ldKSB7XG4gICAgICAgIHN0b3BJbmRleCA9IGk7XG4gICAgICAgIGdyb3VwU2l6ZSA9IHNsaWRlc0dyaWRbc2xpZGVzR3JpZC5sZW5ndGggLSAxXSAtIHNsaWRlc0dyaWRbc2xpZGVzR3JpZC5sZW5ndGggLSAyXTtcbiAgICAgIH1cbiAgICB9IC8vIEZpbmQgY3VycmVudCBzbGlkZSBzaXplXG5cblxuICAgIHZhciByYXRpbyA9IChjdXJyZW50UG9zIC0gc2xpZGVzR3JpZFtzdG9wSW5kZXhdKSAvIGdyb3VwU2l6ZTtcbiAgICB2YXIgaW5jcmVtZW50ID0gc3RvcEluZGV4IDwgcGFyYW1zLnNsaWRlc1Blckdyb3VwU2tpcCAtIDEgPyAxIDogcGFyYW1zLnNsaWRlc1Blckdyb3VwO1xuXG4gICAgaWYgKHRpbWVEaWZmID4gcGFyYW1zLmxvbmdTd2lwZXNNcykge1xuICAgICAgLy8gTG9uZyB0b3VjaGVzXG4gICAgICBpZiAoIXBhcmFtcy5sb25nU3dpcGVzKSB7XG4gICAgICAgIHN3aXBlci5zbGlkZVRvKHN3aXBlci5hY3RpdmVJbmRleCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHN3aXBlci5zd2lwZURpcmVjdGlvbiA9PT0gJ25leHQnKSB7XG4gICAgICAgIGlmIChyYXRpbyA+PSBwYXJhbXMubG9uZ1N3aXBlc1JhdGlvKSBzd2lwZXIuc2xpZGVUbyhzdG9wSW5kZXggKyBpbmNyZW1lbnQpO2Vsc2Ugc3dpcGVyLnNsaWRlVG8oc3RvcEluZGV4KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHN3aXBlci5zd2lwZURpcmVjdGlvbiA9PT0gJ3ByZXYnKSB7XG4gICAgICAgIGlmIChyYXRpbyA+IDEgLSBwYXJhbXMubG9uZ1N3aXBlc1JhdGlvKSBzd2lwZXIuc2xpZGVUbyhzdG9wSW5kZXggKyBpbmNyZW1lbnQpO2Vsc2Ugc3dpcGVyLnNsaWRlVG8oc3RvcEluZGV4KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gU2hvcnQgc3dpcGVzXG4gICAgICBpZiAoIXBhcmFtcy5zaG9ydFN3aXBlcykge1xuICAgICAgICBzd2lwZXIuc2xpZGVUbyhzd2lwZXIuYWN0aXZlSW5kZXgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBpc05hdkJ1dHRvblRhcmdldCA9IHN3aXBlci5uYXZpZ2F0aW9uICYmIChlLnRhcmdldCA9PT0gc3dpcGVyLm5hdmlnYXRpb24ubmV4dEVsIHx8IGUudGFyZ2V0ID09PSBzd2lwZXIubmF2aWdhdGlvbi5wcmV2RWwpO1xuXG4gICAgICBpZiAoIWlzTmF2QnV0dG9uVGFyZ2V0KSB7XG4gICAgICAgIGlmIChzd2lwZXIuc3dpcGVEaXJlY3Rpb24gPT09ICduZXh0Jykge1xuICAgICAgICAgIHN3aXBlci5zbGlkZVRvKHN0b3BJbmRleCArIGluY3JlbWVudCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3dpcGVyLnN3aXBlRGlyZWN0aW9uID09PSAncHJldicpIHtcbiAgICAgICAgICBzd2lwZXIuc2xpZGVUbyhzdG9wSW5kZXgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGUudGFyZ2V0ID09PSBzd2lwZXIubmF2aWdhdGlvbi5uZXh0RWwpIHtcbiAgICAgICAgc3dpcGVyLnNsaWRlVG8oc3RvcEluZGV4ICsgaW5jcmVtZW50KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN3aXBlci5zbGlkZVRvKHN0b3BJbmRleCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gb25SZXNpemUoKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgdmFyIHBhcmFtcyA9IHN3aXBlci5wYXJhbXMsXG4gICAgICAgIGVsID0gc3dpcGVyLmVsO1xuICAgIGlmIChlbCAmJiBlbC5vZmZzZXRXaWR0aCA9PT0gMCkgcmV0dXJuOyAvLyBCcmVha3BvaW50c1xuXG4gICAgaWYgKHBhcmFtcy5icmVha3BvaW50cykge1xuICAgICAgc3dpcGVyLnNldEJyZWFrcG9pbnQoKTtcbiAgICB9IC8vIFNhdmUgbG9ja3NcblxuXG4gICAgdmFyIGFsbG93U2xpZGVOZXh0ID0gc3dpcGVyLmFsbG93U2xpZGVOZXh0LFxuICAgICAgICBhbGxvd1NsaWRlUHJldiA9IHN3aXBlci5hbGxvd1NsaWRlUHJldixcbiAgICAgICAgc25hcEdyaWQgPSBzd2lwZXIuc25hcEdyaWQ7IC8vIERpc2FibGUgbG9ja3Mgb24gcmVzaXplXG5cbiAgICBzd2lwZXIuYWxsb3dTbGlkZU5leHQgPSB0cnVlO1xuICAgIHN3aXBlci5hbGxvd1NsaWRlUHJldiA9IHRydWU7XG4gICAgc3dpcGVyLnVwZGF0ZVNpemUoKTtcbiAgICBzd2lwZXIudXBkYXRlU2xpZGVzKCk7XG4gICAgc3dpcGVyLnVwZGF0ZVNsaWRlc0NsYXNzZXMoKTtcblxuICAgIGlmICgocGFyYW1zLnNsaWRlc1BlclZpZXcgPT09ICdhdXRvJyB8fCBwYXJhbXMuc2xpZGVzUGVyVmlldyA+IDEpICYmIHN3aXBlci5pc0VuZCAmJiAhc3dpcGVyLmlzQmVnaW5uaW5nICYmICFzd2lwZXIucGFyYW1zLmNlbnRlcmVkU2xpZGVzKSB7XG4gICAgICBzd2lwZXIuc2xpZGVUbyhzd2lwZXIuc2xpZGVzLmxlbmd0aCAtIDEsIDAsIGZhbHNlLCB0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3dpcGVyLnNsaWRlVG8oc3dpcGVyLmFjdGl2ZUluZGV4LCAwLCBmYWxzZSwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgaWYgKHN3aXBlci5hdXRvcGxheSAmJiBzd2lwZXIuYXV0b3BsYXkucnVubmluZyAmJiBzd2lwZXIuYXV0b3BsYXkucGF1c2VkKSB7XG4gICAgICBzd2lwZXIuYXV0b3BsYXkucnVuKCk7XG4gICAgfSAvLyBSZXR1cm4gbG9ja3MgYWZ0ZXIgcmVzaXplXG5cblxuICAgIHN3aXBlci5hbGxvd1NsaWRlUHJldiA9IGFsbG93U2xpZGVQcmV2O1xuICAgIHN3aXBlci5hbGxvd1NsaWRlTmV4dCA9IGFsbG93U2xpZGVOZXh0O1xuXG4gICAgaWYgKHN3aXBlci5wYXJhbXMud2F0Y2hPdmVyZmxvdyAmJiBzbmFwR3JpZCAhPT0gc3dpcGVyLnNuYXBHcmlkKSB7XG4gICAgICBzd2lwZXIuY2hlY2tPdmVyZmxvdygpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG9uQ2xpY2soZSkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIGlmICghc3dpcGVyLmVuYWJsZWQpIHJldHVybjtcblxuICAgIGlmICghc3dpcGVyLmFsbG93Q2xpY2spIHtcbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLnByZXZlbnRDbGlja3MpIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgaWYgKHN3aXBlci5wYXJhbXMucHJldmVudENsaWNrc1Byb3BhZ2F0aW9uICYmIHN3aXBlci5hbmltYXRpbmcpIHtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBvblNjcm9sbCgpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICB2YXIgd3JhcHBlckVsID0gc3dpcGVyLndyYXBwZXJFbCxcbiAgICAgICAgcnRsVHJhbnNsYXRlID0gc3dpcGVyLnJ0bFRyYW5zbGF0ZSxcbiAgICAgICAgZW5hYmxlZCA9IHN3aXBlci5lbmFibGVkO1xuICAgIGlmICghZW5hYmxlZCkgcmV0dXJuO1xuICAgIHN3aXBlci5wcmV2aW91c1RyYW5zbGF0ZSA9IHN3aXBlci50cmFuc2xhdGU7XG5cbiAgICBpZiAoc3dpcGVyLmlzSG9yaXpvbnRhbCgpKSB7XG4gICAgICBpZiAocnRsVHJhbnNsYXRlKSB7XG4gICAgICAgIHN3aXBlci50cmFuc2xhdGUgPSB3cmFwcGVyRWwuc2Nyb2xsV2lkdGggLSB3cmFwcGVyRWwub2Zmc2V0V2lkdGggLSB3cmFwcGVyRWwuc2Nyb2xsTGVmdDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN3aXBlci50cmFuc2xhdGUgPSAtd3JhcHBlckVsLnNjcm9sbExlZnQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHN3aXBlci50cmFuc2xhdGUgPSAtd3JhcHBlckVsLnNjcm9sbFRvcDtcbiAgICB9IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuXG5cbiAgICBpZiAoc3dpcGVyLnRyYW5zbGF0ZSA9PT0gLTApIHN3aXBlci50cmFuc2xhdGUgPSAwO1xuICAgIHN3aXBlci51cGRhdGVBY3RpdmVJbmRleCgpO1xuICAgIHN3aXBlci51cGRhdGVTbGlkZXNDbGFzc2VzKCk7XG4gICAgdmFyIG5ld1Byb2dyZXNzO1xuICAgIHZhciB0cmFuc2xhdGVzRGlmZiA9IHN3aXBlci5tYXhUcmFuc2xhdGUoKSAtIHN3aXBlci5taW5UcmFuc2xhdGUoKTtcblxuICAgIGlmICh0cmFuc2xhdGVzRGlmZiA9PT0gMCkge1xuICAgICAgbmV3UHJvZ3Jlc3MgPSAwO1xuICAgIH0gZWxzZSB7XG4gICAgICBuZXdQcm9ncmVzcyA9IChzd2lwZXIudHJhbnNsYXRlIC0gc3dpcGVyLm1pblRyYW5zbGF0ZSgpKSAvIHRyYW5zbGF0ZXNEaWZmO1xuICAgIH1cblxuICAgIGlmIChuZXdQcm9ncmVzcyAhPT0gc3dpcGVyLnByb2dyZXNzKSB7XG4gICAgICBzd2lwZXIudXBkYXRlUHJvZ3Jlc3MocnRsVHJhbnNsYXRlID8gLXN3aXBlci50cmFuc2xhdGUgOiBzd2lwZXIudHJhbnNsYXRlKTtcbiAgICB9XG5cbiAgICBzd2lwZXIuZW1pdCgnc2V0VHJhbnNsYXRlJywgc3dpcGVyLnRyYW5zbGF0ZSwgZmFsc2UpO1xuICB9XG5cbiAgdmFyIGR1bW15RXZlbnRBdHRhY2hlZCA9IGZhbHNlO1xuXG4gIGZ1bmN0aW9uIGR1bW15RXZlbnRMaXN0ZW5lcigpIHt9XG5cbiAgZnVuY3Rpb24gYXR0YWNoRXZlbnRzKCkge1xuICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgIHZhciBkb2N1bWVudCA9IGdldERvY3VtZW50KCk7XG4gICAgdmFyIHBhcmFtcyA9IHN3aXBlci5wYXJhbXMsXG4gICAgICAgIHRvdWNoRXZlbnRzID0gc3dpcGVyLnRvdWNoRXZlbnRzLFxuICAgICAgICBlbCA9IHN3aXBlci5lbCxcbiAgICAgICAgd3JhcHBlckVsID0gc3dpcGVyLndyYXBwZXJFbCxcbiAgICAgICAgZGV2aWNlID0gc3dpcGVyLmRldmljZSxcbiAgICAgICAgc3VwcG9ydCA9IHN3aXBlci5zdXBwb3J0O1xuICAgIHN3aXBlci5vblRvdWNoU3RhcnQgPSBvblRvdWNoU3RhcnQuYmluZChzd2lwZXIpO1xuICAgIHN3aXBlci5vblRvdWNoTW92ZSA9IG9uVG91Y2hNb3ZlLmJpbmQoc3dpcGVyKTtcbiAgICBzd2lwZXIub25Ub3VjaEVuZCA9IG9uVG91Y2hFbmQuYmluZChzd2lwZXIpO1xuXG4gICAgaWYgKHBhcmFtcy5jc3NNb2RlKSB7XG4gICAgICBzd2lwZXIub25TY3JvbGwgPSBvblNjcm9sbC5iaW5kKHN3aXBlcik7XG4gICAgfVxuXG4gICAgc3dpcGVyLm9uQ2xpY2sgPSBvbkNsaWNrLmJpbmQoc3dpcGVyKTtcbiAgICB2YXIgY2FwdHVyZSA9ICEhcGFyYW1zLm5lc3RlZDsgLy8gVG91Y2ggRXZlbnRzXG5cbiAgICBpZiAoIXN1cHBvcnQudG91Y2ggJiYgc3VwcG9ydC5wb2ludGVyRXZlbnRzKSB7XG4gICAgICBlbC5hZGRFdmVudExpc3RlbmVyKHRvdWNoRXZlbnRzLnN0YXJ0LCBzd2lwZXIub25Ub3VjaFN0YXJ0LCBmYWxzZSk7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKHRvdWNoRXZlbnRzLm1vdmUsIHN3aXBlci5vblRvdWNoTW92ZSwgY2FwdHVyZSk7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKHRvdWNoRXZlbnRzLmVuZCwgc3dpcGVyLm9uVG91Y2hFbmQsIGZhbHNlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHN1cHBvcnQudG91Y2gpIHtcbiAgICAgICAgdmFyIHBhc3NpdmVMaXN0ZW5lciA9IHRvdWNoRXZlbnRzLnN0YXJ0ID09PSAndG91Y2hzdGFydCcgJiYgc3VwcG9ydC5wYXNzaXZlTGlzdGVuZXIgJiYgcGFyYW1zLnBhc3NpdmVMaXN0ZW5lcnMgPyB7XG4gICAgICAgICAgcGFzc2l2ZTogdHJ1ZSxcbiAgICAgICAgICBjYXB0dXJlOiBmYWxzZVxuICAgICAgICB9IDogZmFsc2U7XG4gICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIodG91Y2hFdmVudHMuc3RhcnQsIHN3aXBlci5vblRvdWNoU3RhcnQsIHBhc3NpdmVMaXN0ZW5lcik7XG4gICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIodG91Y2hFdmVudHMubW92ZSwgc3dpcGVyLm9uVG91Y2hNb3ZlLCBzdXBwb3J0LnBhc3NpdmVMaXN0ZW5lciA/IHtcbiAgICAgICAgICBwYXNzaXZlOiBmYWxzZSxcbiAgICAgICAgICBjYXB0dXJlOiBjYXB0dXJlXG4gICAgICAgIH0gOiBjYXB0dXJlKTtcbiAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcih0b3VjaEV2ZW50cy5lbmQsIHN3aXBlci5vblRvdWNoRW5kLCBwYXNzaXZlTGlzdGVuZXIpO1xuXG4gICAgICAgIGlmICh0b3VjaEV2ZW50cy5jYW5jZWwpIHtcbiAgICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKHRvdWNoRXZlbnRzLmNhbmNlbCwgc3dpcGVyLm9uVG91Y2hFbmQsIHBhc3NpdmVMaXN0ZW5lcik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWR1bW15RXZlbnRBdHRhY2hlZCkge1xuICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBkdW1teUV2ZW50TGlzdGVuZXIpO1xuICAgICAgICAgIGR1bW15RXZlbnRBdHRhY2hlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHBhcmFtcy5zaW11bGF0ZVRvdWNoICYmICFkZXZpY2UuaW9zICYmICFkZXZpY2UuYW5kcm9pZCB8fCBwYXJhbXMuc2ltdWxhdGVUb3VjaCAmJiAhc3VwcG9ydC50b3VjaCAmJiBkZXZpY2UuaW9zKSB7XG4gICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHN3aXBlci5vblRvdWNoU3RhcnQsIGZhbHNlKTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgc3dpcGVyLm9uVG91Y2hNb3ZlLCBjYXB0dXJlKTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHN3aXBlci5vblRvdWNoRW5kLCBmYWxzZSk7XG4gICAgICB9XG4gICAgfSAvLyBQcmV2ZW50IExpbmtzIENsaWNrc1xuXG5cbiAgICBpZiAocGFyYW1zLnByZXZlbnRDbGlja3MgfHwgcGFyYW1zLnByZXZlbnRDbGlja3NQcm9wYWdhdGlvbikge1xuICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzd2lwZXIub25DbGljaywgdHJ1ZSk7XG4gICAgfVxuXG4gICAgaWYgKHBhcmFtcy5jc3NNb2RlKSB7XG4gICAgICB3cmFwcGVyRWwuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgc3dpcGVyLm9uU2Nyb2xsKTtcbiAgICB9IC8vIFJlc2l6ZSBoYW5kbGVyXG5cblxuICAgIGlmIChwYXJhbXMudXBkYXRlT25XaW5kb3dSZXNpemUpIHtcbiAgICAgIHN3aXBlci5vbihkZXZpY2UuaW9zIHx8IGRldmljZS5hbmRyb2lkID8gJ3Jlc2l6ZSBvcmllbnRhdGlvbmNoYW5nZSBvYnNlcnZlclVwZGF0ZScgOiAncmVzaXplIG9ic2VydmVyVXBkYXRlJywgb25SZXNpemUsIHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzd2lwZXIub24oJ29ic2VydmVyVXBkYXRlJywgb25SZXNpemUsIHRydWUpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGRldGFjaEV2ZW50cygpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICB2YXIgZG9jdW1lbnQgPSBnZXREb2N1bWVudCgpO1xuICAgIHZhciBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLFxuICAgICAgICB0b3VjaEV2ZW50cyA9IHN3aXBlci50b3VjaEV2ZW50cyxcbiAgICAgICAgZWwgPSBzd2lwZXIuZWwsXG4gICAgICAgIHdyYXBwZXJFbCA9IHN3aXBlci53cmFwcGVyRWwsXG4gICAgICAgIGRldmljZSA9IHN3aXBlci5kZXZpY2UsXG4gICAgICAgIHN1cHBvcnQgPSBzd2lwZXIuc3VwcG9ydDtcbiAgICB2YXIgY2FwdHVyZSA9ICEhcGFyYW1zLm5lc3RlZDsgLy8gVG91Y2ggRXZlbnRzXG5cbiAgICBpZiAoIXN1cHBvcnQudG91Y2ggJiYgc3VwcG9ydC5wb2ludGVyRXZlbnRzKSB7XG4gICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKHRvdWNoRXZlbnRzLnN0YXJ0LCBzd2lwZXIub25Ub3VjaFN0YXJ0LCBmYWxzZSk7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHRvdWNoRXZlbnRzLm1vdmUsIHN3aXBlci5vblRvdWNoTW92ZSwgY2FwdHVyZSk7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHRvdWNoRXZlbnRzLmVuZCwgc3dpcGVyLm9uVG91Y2hFbmQsIGZhbHNlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHN1cHBvcnQudG91Y2gpIHtcbiAgICAgICAgdmFyIHBhc3NpdmVMaXN0ZW5lciA9IHRvdWNoRXZlbnRzLnN0YXJ0ID09PSAnb25Ub3VjaFN0YXJ0JyAmJiBzdXBwb3J0LnBhc3NpdmVMaXN0ZW5lciAmJiBwYXJhbXMucGFzc2l2ZUxpc3RlbmVycyA/IHtcbiAgICAgICAgICBwYXNzaXZlOiB0cnVlLFxuICAgICAgICAgIGNhcHR1cmU6IGZhbHNlXG4gICAgICAgIH0gOiBmYWxzZTtcbiAgICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcih0b3VjaEV2ZW50cy5zdGFydCwgc3dpcGVyLm9uVG91Y2hTdGFydCwgcGFzc2l2ZUxpc3RlbmVyKTtcbiAgICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcih0b3VjaEV2ZW50cy5tb3ZlLCBzd2lwZXIub25Ub3VjaE1vdmUsIGNhcHR1cmUpO1xuICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKHRvdWNoRXZlbnRzLmVuZCwgc3dpcGVyLm9uVG91Y2hFbmQsIHBhc3NpdmVMaXN0ZW5lcik7XG5cbiAgICAgICAgaWYgKHRvdWNoRXZlbnRzLmNhbmNlbCkge1xuICAgICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIodG91Y2hFdmVudHMuY2FuY2VsLCBzd2lwZXIub25Ub3VjaEVuZCwgcGFzc2l2ZUxpc3RlbmVyKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAocGFyYW1zLnNpbXVsYXRlVG91Y2ggJiYgIWRldmljZS5pb3MgJiYgIWRldmljZS5hbmRyb2lkIHx8IHBhcmFtcy5zaW11bGF0ZVRvdWNoICYmICFzdXBwb3J0LnRvdWNoICYmIGRldmljZS5pb3MpIHtcbiAgICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgc3dpcGVyLm9uVG91Y2hTdGFydCwgZmFsc2UpO1xuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBzd2lwZXIub25Ub3VjaE1vdmUsIGNhcHR1cmUpO1xuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgc3dpcGVyLm9uVG91Y2hFbmQsIGZhbHNlKTtcbiAgICAgIH1cbiAgICB9IC8vIFByZXZlbnQgTGlua3MgQ2xpY2tzXG5cblxuICAgIGlmIChwYXJhbXMucHJldmVudENsaWNrcyB8fCBwYXJhbXMucHJldmVudENsaWNrc1Byb3BhZ2F0aW9uKSB7XG4gICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHN3aXBlci5vbkNsaWNrLCB0cnVlKTtcbiAgICB9XG5cbiAgICBpZiAocGFyYW1zLmNzc01vZGUpIHtcbiAgICAgIHdyYXBwZXJFbC5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBzd2lwZXIub25TY3JvbGwpO1xuICAgIH0gLy8gUmVzaXplIGhhbmRsZXJcblxuXG4gICAgc3dpcGVyLm9mZihkZXZpY2UuaW9zIHx8IGRldmljZS5hbmRyb2lkID8gJ3Jlc2l6ZSBvcmllbnRhdGlvbmNoYW5nZSBvYnNlcnZlclVwZGF0ZScgOiAncmVzaXplIG9ic2VydmVyVXBkYXRlJywgb25SZXNpemUpO1xuICB9XG5cbiAgdmFyIGV2ZW50cyA9IHtcbiAgICBhdHRhY2hFdmVudHM6IGF0dGFjaEV2ZW50cyxcbiAgICBkZXRhY2hFdmVudHM6IGRldGFjaEV2ZW50c1xuICB9O1xuXG4gIGZ1bmN0aW9uIHNldEJyZWFrcG9pbnQoKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgdmFyIGFjdGl2ZUluZGV4ID0gc3dpcGVyLmFjdGl2ZUluZGV4LFxuICAgICAgICBpbml0aWFsaXplZCA9IHN3aXBlci5pbml0aWFsaXplZCxcbiAgICAgICAgX3N3aXBlciRsb29wZWRTbGlkZXMgPSBzd2lwZXIubG9vcGVkU2xpZGVzLFxuICAgICAgICBsb29wZWRTbGlkZXMgPSBfc3dpcGVyJGxvb3BlZFNsaWRlcyA9PT0gdm9pZCAwID8gMCA6IF9zd2lwZXIkbG9vcGVkU2xpZGVzLFxuICAgICAgICBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLFxuICAgICAgICAkZWwgPSBzd2lwZXIuJGVsO1xuICAgIHZhciBicmVha3BvaW50cyA9IHBhcmFtcy5icmVha3BvaW50cztcbiAgICBpZiAoIWJyZWFrcG9pbnRzIHx8IGJyZWFrcG9pbnRzICYmIE9iamVjdC5rZXlzKGJyZWFrcG9pbnRzKS5sZW5ndGggPT09IDApIHJldHVybjsgLy8gR2V0IGJyZWFrcG9pbnQgZm9yIHdpbmRvdyB3aWR0aCBhbmQgdXBkYXRlIHBhcmFtZXRlcnNcblxuICAgIHZhciBicmVha3BvaW50ID0gc3dpcGVyLmdldEJyZWFrcG9pbnQoYnJlYWtwb2ludHMsIHN3aXBlci5wYXJhbXMuYnJlYWtwb2ludHNCYXNlLCBzd2lwZXIuZWwpO1xuICAgIGlmICghYnJlYWtwb2ludCB8fCBzd2lwZXIuY3VycmVudEJyZWFrcG9pbnQgPT09IGJyZWFrcG9pbnQpIHJldHVybjtcbiAgICB2YXIgYnJlYWtwb2ludE9ubHlQYXJhbXMgPSBicmVha3BvaW50IGluIGJyZWFrcG9pbnRzID8gYnJlYWtwb2ludHNbYnJlYWtwb2ludF0gOiB1bmRlZmluZWQ7XG5cbiAgICBpZiAoYnJlYWtwb2ludE9ubHlQYXJhbXMpIHtcbiAgICAgIFsnc2xpZGVzUGVyVmlldycsICdzcGFjZUJldHdlZW4nLCAnc2xpZGVzUGVyR3JvdXAnLCAnc2xpZGVzUGVyR3JvdXBTa2lwJywgJ3NsaWRlc1BlckNvbHVtbiddLmZvckVhY2goZnVuY3Rpb24gKHBhcmFtKSB7XG4gICAgICAgIHZhciBwYXJhbVZhbHVlID0gYnJlYWtwb2ludE9ubHlQYXJhbXNbcGFyYW1dO1xuICAgICAgICBpZiAodHlwZW9mIHBhcmFtVmFsdWUgPT09ICd1bmRlZmluZWQnKSByZXR1cm47XG5cbiAgICAgICAgaWYgKHBhcmFtID09PSAnc2xpZGVzUGVyVmlldycgJiYgKHBhcmFtVmFsdWUgPT09ICdBVVRPJyB8fCBwYXJhbVZhbHVlID09PSAnYXV0bycpKSB7XG4gICAgICAgICAgYnJlYWtwb2ludE9ubHlQYXJhbXNbcGFyYW1dID0gJ2F1dG8nO1xuICAgICAgICB9IGVsc2UgaWYgKHBhcmFtID09PSAnc2xpZGVzUGVyVmlldycpIHtcbiAgICAgICAgICBicmVha3BvaW50T25seVBhcmFtc1twYXJhbV0gPSBwYXJzZUZsb2F0KHBhcmFtVmFsdWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGJyZWFrcG9pbnRPbmx5UGFyYW1zW3BhcmFtXSA9IHBhcnNlSW50KHBhcmFtVmFsdWUsIDEwKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdmFyIGJyZWFrcG9pbnRQYXJhbXMgPSBicmVha3BvaW50T25seVBhcmFtcyB8fCBzd2lwZXIub3JpZ2luYWxQYXJhbXM7XG4gICAgdmFyIHdhc011bHRpUm93ID0gcGFyYW1zLnNsaWRlc1BlckNvbHVtbiA+IDE7XG4gICAgdmFyIGlzTXVsdGlSb3cgPSBicmVha3BvaW50UGFyYW1zLnNsaWRlc1BlckNvbHVtbiA+IDE7XG4gICAgdmFyIHdhc0VuYWJsZWQgPSBwYXJhbXMuZW5hYmxlZDtcblxuICAgIGlmICh3YXNNdWx0aVJvdyAmJiAhaXNNdWx0aVJvdykge1xuICAgICAgJGVsLnJlbW92ZUNsYXNzKHBhcmFtcy5jb250YWluZXJNb2RpZmllckNsYXNzICsgXCJtdWx0aXJvdyBcIiArIHBhcmFtcy5jb250YWluZXJNb2RpZmllckNsYXNzICsgXCJtdWx0aXJvdy1jb2x1bW5cIik7XG4gICAgICBzd2lwZXIuZW1pdENvbnRhaW5lckNsYXNzZXMoKTtcbiAgICB9IGVsc2UgaWYgKCF3YXNNdWx0aVJvdyAmJiBpc011bHRpUm93KSB7XG4gICAgICAkZWwuYWRkQ2xhc3MocGFyYW1zLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3MgKyBcIm11bHRpcm93XCIpO1xuXG4gICAgICBpZiAoYnJlYWtwb2ludFBhcmFtcy5zbGlkZXNQZXJDb2x1bW5GaWxsICYmIGJyZWFrcG9pbnRQYXJhbXMuc2xpZGVzUGVyQ29sdW1uRmlsbCA9PT0gJ2NvbHVtbicgfHwgIWJyZWFrcG9pbnRQYXJhbXMuc2xpZGVzUGVyQ29sdW1uRmlsbCAmJiBwYXJhbXMuc2xpZGVzUGVyQ29sdW1uRmlsbCA9PT0gJ2NvbHVtbicpIHtcbiAgICAgICAgJGVsLmFkZENsYXNzKHBhcmFtcy5jb250YWluZXJNb2RpZmllckNsYXNzICsgXCJtdWx0aXJvdy1jb2x1bW5cIik7XG4gICAgICB9XG5cbiAgICAgIHN3aXBlci5lbWl0Q29udGFpbmVyQ2xhc3NlcygpO1xuICAgIH1cblxuICAgIHZhciBkaXJlY3Rpb25DaGFuZ2VkID0gYnJlYWtwb2ludFBhcmFtcy5kaXJlY3Rpb24gJiYgYnJlYWtwb2ludFBhcmFtcy5kaXJlY3Rpb24gIT09IHBhcmFtcy5kaXJlY3Rpb247XG4gICAgdmFyIG5lZWRzUmVMb29wID0gcGFyYW1zLmxvb3AgJiYgKGJyZWFrcG9pbnRQYXJhbXMuc2xpZGVzUGVyVmlldyAhPT0gcGFyYW1zLnNsaWRlc1BlclZpZXcgfHwgZGlyZWN0aW9uQ2hhbmdlZCk7XG5cbiAgICBpZiAoZGlyZWN0aW9uQ2hhbmdlZCAmJiBpbml0aWFsaXplZCkge1xuICAgICAgc3dpcGVyLmNoYW5nZURpcmVjdGlvbigpO1xuICAgIH1cblxuICAgIGV4dGVuZChzd2lwZXIucGFyYW1zLCBicmVha3BvaW50UGFyYW1zKTtcbiAgICB2YXIgaXNFbmFibGVkID0gc3dpcGVyLnBhcmFtcy5lbmFibGVkO1xuICAgIGV4dGVuZChzd2lwZXIsIHtcbiAgICAgIGFsbG93VG91Y2hNb3ZlOiBzd2lwZXIucGFyYW1zLmFsbG93VG91Y2hNb3ZlLFxuICAgICAgYWxsb3dTbGlkZU5leHQ6IHN3aXBlci5wYXJhbXMuYWxsb3dTbGlkZU5leHQsXG4gICAgICBhbGxvd1NsaWRlUHJldjogc3dpcGVyLnBhcmFtcy5hbGxvd1NsaWRlUHJldlxuICAgIH0pO1xuXG4gICAgaWYgKHdhc0VuYWJsZWQgJiYgIWlzRW5hYmxlZCkge1xuICAgICAgc3dpcGVyLmRpc2FibGUoKTtcbiAgICB9IGVsc2UgaWYgKCF3YXNFbmFibGVkICYmIGlzRW5hYmxlZCkge1xuICAgICAgc3dpcGVyLmVuYWJsZSgpO1xuICAgIH1cblxuICAgIHN3aXBlci5jdXJyZW50QnJlYWtwb2ludCA9IGJyZWFrcG9pbnQ7XG4gICAgc3dpcGVyLmVtaXQoJ19iZWZvcmVCcmVha3BvaW50JywgYnJlYWtwb2ludFBhcmFtcyk7XG5cbiAgICBpZiAobmVlZHNSZUxvb3AgJiYgaW5pdGlhbGl6ZWQpIHtcbiAgICAgIHN3aXBlci5sb29wRGVzdHJveSgpO1xuICAgICAgc3dpcGVyLmxvb3BDcmVhdGUoKTtcbiAgICAgIHN3aXBlci51cGRhdGVTbGlkZXMoKTtcbiAgICAgIHN3aXBlci5zbGlkZVRvKGFjdGl2ZUluZGV4IC0gbG9vcGVkU2xpZGVzICsgc3dpcGVyLmxvb3BlZFNsaWRlcywgMCwgZmFsc2UpO1xuICAgIH1cblxuICAgIHN3aXBlci5lbWl0KCdicmVha3BvaW50JywgYnJlYWtwb2ludFBhcmFtcyk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRCcmVha3BvaW50KGJyZWFrcG9pbnRzLCBiYXNlLCBjb250YWluZXJFbCkge1xuICAgIGlmIChiYXNlID09PSB2b2lkIDApIHtcbiAgICAgIGJhc2UgPSAnd2luZG93JztcbiAgICB9XG5cbiAgICBpZiAoIWJyZWFrcG9pbnRzIHx8IGJhc2UgPT09ICdjb250YWluZXInICYmICFjb250YWluZXJFbCkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB2YXIgYnJlYWtwb2ludCA9IGZhbHNlO1xuICAgIHZhciB3aW5kb3cgPSBnZXRXaW5kb3coKTtcbiAgICB2YXIgY3VycmVudEhlaWdodCA9IGJhc2UgPT09ICd3aW5kb3cnID8gd2luZG93LmlubmVySGVpZ2h0IDogY29udGFpbmVyRWwuY2xpZW50SGVpZ2h0O1xuICAgIHZhciBwb2ludHMgPSBPYmplY3Qua2V5cyhicmVha3BvaW50cykubWFwKGZ1bmN0aW9uIChwb2ludCkge1xuICAgICAgaWYgKHR5cGVvZiBwb2ludCA9PT0gJ3N0cmluZycgJiYgcG9pbnQuaW5kZXhPZignQCcpID09PSAwKSB7XG4gICAgICAgIHZhciBtaW5SYXRpbyA9IHBhcnNlRmxvYXQocG9pbnQuc3Vic3RyKDEpKTtcbiAgICAgICAgdmFyIHZhbHVlID0gY3VycmVudEhlaWdodCAqIG1pblJhdGlvO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICBwb2ludDogcG9pbnRcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdmFsdWU6IHBvaW50LFxuICAgICAgICBwb2ludDogcG9pbnRcbiAgICAgIH07XG4gICAgfSk7XG4gICAgcG9pbnRzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgIHJldHVybiBwYXJzZUludChhLnZhbHVlLCAxMCkgLSBwYXJzZUludChiLnZhbHVlLCAxMCk7XG4gICAgfSk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgdmFyIF9wb2ludHMkaSA9IHBvaW50c1tpXSxcbiAgICAgICAgICBwb2ludCA9IF9wb2ludHMkaS5wb2ludCxcbiAgICAgICAgICB2YWx1ZSA9IF9wb2ludHMkaS52YWx1ZTtcblxuICAgICAgaWYgKGJhc2UgPT09ICd3aW5kb3cnKSB7XG4gICAgICAgIGlmICh3aW5kb3cubWF0Y2hNZWRpYShcIihtaW4td2lkdGg6IFwiICsgdmFsdWUgKyBcInB4KVwiKS5tYXRjaGVzKSB7XG4gICAgICAgICAgYnJlYWtwb2ludCA9IHBvaW50O1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHZhbHVlIDw9IGNvbnRhaW5lckVsLmNsaWVudFdpZHRoKSB7XG4gICAgICAgIGJyZWFrcG9pbnQgPSBwb2ludDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gYnJlYWtwb2ludCB8fCAnbWF4JztcbiAgfVxuXG4gIHZhciBicmVha3BvaW50cyA9IHtcbiAgICBzZXRCcmVha3BvaW50OiBzZXRCcmVha3BvaW50LFxuICAgIGdldEJyZWFrcG9pbnQ6IGdldEJyZWFrcG9pbnRcbiAgfTtcblxuICBmdW5jdGlvbiBwcmVwYXJlQ2xhc3NlcyhlbnRyaWVzLCBwcmVmaXgpIHtcbiAgICB2YXIgcmVzdWx0Q2xhc3NlcyA9IFtdO1xuICAgIGVudHJpZXMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgaWYgKHR5cGVvZiBpdGVtID09PSAnb2JqZWN0Jykge1xuICAgICAgICBPYmplY3Qua2V5cyhpdGVtKS5mb3JFYWNoKGZ1bmN0aW9uIChjbGFzc05hbWVzKSB7XG4gICAgICAgICAgaWYgKGl0ZW1bY2xhc3NOYW1lc10pIHtcbiAgICAgICAgICAgIHJlc3VsdENsYXNzZXMucHVzaChwcmVmaXggKyBjbGFzc05hbWVzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgaXRlbSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmVzdWx0Q2xhc3Nlcy5wdXNoKHByZWZpeCArIGl0ZW0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHRDbGFzc2VzO1xuICB9XG5cbiAgZnVuY3Rpb24gYWRkQ2xhc3NlcygpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICB2YXIgY2xhc3NOYW1lcyA9IHN3aXBlci5jbGFzc05hbWVzLFxuICAgICAgICBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLFxuICAgICAgICBydGwgPSBzd2lwZXIucnRsLFxuICAgICAgICAkZWwgPSBzd2lwZXIuJGVsLFxuICAgICAgICBkZXZpY2UgPSBzd2lwZXIuZGV2aWNlLFxuICAgICAgICBzdXBwb3J0ID0gc3dpcGVyLnN1cHBvcnQ7IC8vIHByZXR0aWVyLWlnbm9yZVxuXG4gICAgdmFyIHN1ZmZpeGVzID0gcHJlcGFyZUNsYXNzZXMoWydpbml0aWFsaXplZCcsIHBhcmFtcy5kaXJlY3Rpb24sIHtcbiAgICAgICdwb2ludGVyLWV2ZW50cyc6IHN1cHBvcnQucG9pbnRlckV2ZW50cyAmJiAhc3VwcG9ydC50b3VjaFxuICAgIH0sIHtcbiAgICAgICdmcmVlLW1vZGUnOiBwYXJhbXMuZnJlZU1vZGVcbiAgICB9LCB7XG4gICAgICAnYXV0b2hlaWdodCc6IHBhcmFtcy5hdXRvSGVpZ2h0XG4gICAgfSwge1xuICAgICAgJ3J0bCc6IHJ0bFxuICAgIH0sIHtcbiAgICAgICdtdWx0aXJvdyc6IHBhcmFtcy5zbGlkZXNQZXJDb2x1bW4gPiAxXG4gICAgfSwge1xuICAgICAgJ211bHRpcm93LWNvbHVtbic6IHBhcmFtcy5zbGlkZXNQZXJDb2x1bW4gPiAxICYmIHBhcmFtcy5zbGlkZXNQZXJDb2x1bW5GaWxsID09PSAnY29sdW1uJ1xuICAgIH0sIHtcbiAgICAgICdhbmRyb2lkJzogZGV2aWNlLmFuZHJvaWRcbiAgICB9LCB7XG4gICAgICAnaW9zJzogZGV2aWNlLmlvc1xuICAgIH0sIHtcbiAgICAgICdjc3MtbW9kZSc6IHBhcmFtcy5jc3NNb2RlXG4gICAgfV0sIHBhcmFtcy5jb250YWluZXJNb2RpZmllckNsYXNzKTtcbiAgICBjbGFzc05hbWVzLnB1c2guYXBwbHkoY2xhc3NOYW1lcywgc3VmZml4ZXMpO1xuICAgICRlbC5hZGRDbGFzcyhbXS5jb25jYXQoY2xhc3NOYW1lcykuam9pbignICcpKTtcbiAgICBzd2lwZXIuZW1pdENvbnRhaW5lckNsYXNzZXMoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbW92ZUNsYXNzZXMoKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgdmFyICRlbCA9IHN3aXBlci4kZWwsXG4gICAgICAgIGNsYXNzTmFtZXMgPSBzd2lwZXIuY2xhc3NOYW1lcztcbiAgICAkZWwucmVtb3ZlQ2xhc3MoY2xhc3NOYW1lcy5qb2luKCcgJykpO1xuICAgIHN3aXBlci5lbWl0Q29udGFpbmVyQ2xhc3NlcygpO1xuICB9XG5cbiAgdmFyIGNsYXNzZXMgPSB7XG4gICAgYWRkQ2xhc3NlczogYWRkQ2xhc3NlcyxcbiAgICByZW1vdmVDbGFzc2VzOiByZW1vdmVDbGFzc2VzXG4gIH07XG5cbiAgZnVuY3Rpb24gbG9hZEltYWdlKGltYWdlRWwsIHNyYywgc3Jjc2V0LCBzaXplcywgY2hlY2tGb3JDb21wbGV0ZSwgY2FsbGJhY2spIHtcbiAgICB2YXIgd2luZG93ID0gZ2V0V2luZG93KCk7XG4gICAgdmFyIGltYWdlO1xuXG4gICAgZnVuY3Rpb24gb25SZWFkeSgpIHtcbiAgICAgIGlmIChjYWxsYmFjaykgY2FsbGJhY2soKTtcbiAgICB9XG5cbiAgICB2YXIgaXNQaWN0dXJlID0gJChpbWFnZUVsKS5wYXJlbnQoJ3BpY3R1cmUnKVswXTtcblxuICAgIGlmICghaXNQaWN0dXJlICYmICghaW1hZ2VFbC5jb21wbGV0ZSB8fCAhY2hlY2tGb3JDb21wbGV0ZSkpIHtcbiAgICAgIGlmIChzcmMpIHtcbiAgICAgICAgaW1hZ2UgPSBuZXcgd2luZG93LkltYWdlKCk7XG4gICAgICAgIGltYWdlLm9ubG9hZCA9IG9uUmVhZHk7XG4gICAgICAgIGltYWdlLm9uZXJyb3IgPSBvblJlYWR5O1xuXG4gICAgICAgIGlmIChzaXplcykge1xuICAgICAgICAgIGltYWdlLnNpemVzID0gc2l6ZXM7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3Jjc2V0KSB7XG4gICAgICAgICAgaW1hZ2Uuc3Jjc2V0ID0gc3Jjc2V0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNyYykge1xuICAgICAgICAgIGltYWdlLnNyYyA9IHNyYztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb25SZWFkeSgpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBpbWFnZSBhbHJlYWR5IGxvYWRlZC4uLlxuICAgICAgb25SZWFkeSgpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHByZWxvYWRJbWFnZXMoKSB7XG4gICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgc3dpcGVyLmltYWdlc1RvTG9hZCA9IHN3aXBlci4kZWwuZmluZCgnaW1nJyk7XG5cbiAgICBmdW5jdGlvbiBvblJlYWR5KCkge1xuICAgICAgaWYgKHR5cGVvZiBzd2lwZXIgPT09ICd1bmRlZmluZWQnIHx8IHN3aXBlciA9PT0gbnVsbCB8fCAhc3dpcGVyIHx8IHN3aXBlci5kZXN0cm95ZWQpIHJldHVybjtcbiAgICAgIGlmIChzd2lwZXIuaW1hZ2VzTG9hZGVkICE9PSB1bmRlZmluZWQpIHN3aXBlci5pbWFnZXNMb2FkZWQgKz0gMTtcblxuICAgICAgaWYgKHN3aXBlci5pbWFnZXNMb2FkZWQgPT09IHN3aXBlci5pbWFnZXNUb0xvYWQubGVuZ3RoKSB7XG4gICAgICAgIGlmIChzd2lwZXIucGFyYW1zLnVwZGF0ZU9uSW1hZ2VzUmVhZHkpIHN3aXBlci51cGRhdGUoKTtcbiAgICAgICAgc3dpcGVyLmVtaXQoJ2ltYWdlc1JlYWR5Jyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzd2lwZXIuaW1hZ2VzVG9Mb2FkLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICB2YXIgaW1hZ2VFbCA9IHN3aXBlci5pbWFnZXNUb0xvYWRbaV07XG4gICAgICBzd2lwZXIubG9hZEltYWdlKGltYWdlRWwsIGltYWdlRWwuY3VycmVudFNyYyB8fCBpbWFnZUVsLmdldEF0dHJpYnV0ZSgnc3JjJyksIGltYWdlRWwuc3Jjc2V0IHx8IGltYWdlRWwuZ2V0QXR0cmlidXRlKCdzcmNzZXQnKSwgaW1hZ2VFbC5zaXplcyB8fCBpbWFnZUVsLmdldEF0dHJpYnV0ZSgnc2l6ZXMnKSwgdHJ1ZSwgb25SZWFkeSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIGltYWdlcyA9IHtcbiAgICBsb2FkSW1hZ2U6IGxvYWRJbWFnZSxcbiAgICBwcmVsb2FkSW1hZ2VzOiBwcmVsb2FkSW1hZ2VzXG4gIH07XG5cbiAgZnVuY3Rpb24gY2hlY2tPdmVyZmxvdygpIHtcbiAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICB2YXIgcGFyYW1zID0gc3dpcGVyLnBhcmFtcztcbiAgICB2YXIgd2FzTG9ja2VkID0gc3dpcGVyLmlzTG9ja2VkO1xuICAgIHZhciBsYXN0U2xpZGVQb3NpdGlvbiA9IHN3aXBlci5zbGlkZXMubGVuZ3RoID4gMCAmJiBwYXJhbXMuc2xpZGVzT2Zmc2V0QmVmb3JlICsgcGFyYW1zLnNwYWNlQmV0d2VlbiAqIChzd2lwZXIuc2xpZGVzLmxlbmd0aCAtIDEpICsgc3dpcGVyLnNsaWRlc1swXS5vZmZzZXRXaWR0aCAqIHN3aXBlci5zbGlkZXMubGVuZ3RoO1xuXG4gICAgaWYgKHBhcmFtcy5zbGlkZXNPZmZzZXRCZWZvcmUgJiYgcGFyYW1zLnNsaWRlc09mZnNldEFmdGVyICYmIGxhc3RTbGlkZVBvc2l0aW9uKSB7XG4gICAgICBzd2lwZXIuaXNMb2NrZWQgPSBsYXN0U2xpZGVQb3NpdGlvbiA8PSBzd2lwZXIuc2l6ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3dpcGVyLmlzTG9ja2VkID0gc3dpcGVyLnNuYXBHcmlkLmxlbmd0aCA9PT0gMTtcbiAgICB9XG5cbiAgICBzd2lwZXIuYWxsb3dTbGlkZU5leHQgPSAhc3dpcGVyLmlzTG9ja2VkO1xuICAgIHN3aXBlci5hbGxvd1NsaWRlUHJldiA9ICFzd2lwZXIuaXNMb2NrZWQ7IC8vIGV2ZW50c1xuXG4gICAgaWYgKHdhc0xvY2tlZCAhPT0gc3dpcGVyLmlzTG9ja2VkKSBzd2lwZXIuZW1pdChzd2lwZXIuaXNMb2NrZWQgPyAnbG9jaycgOiAndW5sb2NrJyk7XG5cbiAgICBpZiAod2FzTG9ja2VkICYmIHdhc0xvY2tlZCAhPT0gc3dpcGVyLmlzTG9ja2VkKSB7XG4gICAgICBzd2lwZXIuaXNFbmQgPSBmYWxzZTtcbiAgICAgIGlmIChzd2lwZXIubmF2aWdhdGlvbikgc3dpcGVyLm5hdmlnYXRpb24udXBkYXRlKCk7XG4gICAgfVxuICB9XG5cbiAgdmFyIGNoZWNrT3ZlcmZsb3ckMSA9IHtcbiAgICBjaGVja092ZXJmbG93OiBjaGVja092ZXJmbG93XG4gIH07XG5cbiAgdmFyIGRlZmF1bHRzID0ge1xuICAgIGluaXQ6IHRydWUsXG4gICAgZGlyZWN0aW9uOiAnaG9yaXpvbnRhbCcsXG4gICAgdG91Y2hFdmVudHNUYXJnZXQ6ICdjb250YWluZXInLFxuICAgIGluaXRpYWxTbGlkZTogMCxcbiAgICBzcGVlZDogMzAwLFxuICAgIGNzc01vZGU6IGZhbHNlLFxuICAgIHVwZGF0ZU9uV2luZG93UmVzaXplOiB0cnVlLFxuICAgIHJlc2l6ZU9ic2VydmVyOiBmYWxzZSxcbiAgICBuZXN0ZWQ6IGZhbHNlLFxuICAgIGNyZWF0ZUVsZW1lbnRzOiBmYWxzZSxcbiAgICBlbmFibGVkOiB0cnVlLFxuICAgIGZvY3VzYWJsZUVsZW1lbnRzOiAnaW5wdXQsIHNlbGVjdCwgb3B0aW9uLCB0ZXh0YXJlYSwgYnV0dG9uLCB2aWRlbywgbGFiZWwnLFxuICAgIC8vIE92ZXJyaWRlc1xuICAgIHdpZHRoOiBudWxsLFxuICAgIGhlaWdodDogbnVsbCxcbiAgICAvL1xuICAgIHByZXZlbnRJbnRlcmFjdGlvbk9uVHJhbnNpdGlvbjogZmFsc2UsXG4gICAgLy8gc3NyXG4gICAgdXNlckFnZW50OiBudWxsLFxuICAgIHVybDogbnVsbCxcbiAgICAvLyBUbyBzdXBwb3J0IGlPUydzIHN3aXBlLXRvLWdvLWJhY2sgZ2VzdHVyZSAod2hlbiBiZWluZyB1c2VkIGluLWFwcCkuXG4gICAgZWRnZVN3aXBlRGV0ZWN0aW9uOiBmYWxzZSxcbiAgICBlZGdlU3dpcGVUaHJlc2hvbGQ6IDIwLFxuICAgIC8vIEZyZWUgbW9kZVxuICAgIGZyZWVNb2RlOiBmYWxzZSxcbiAgICBmcmVlTW9kZU1vbWVudHVtOiB0cnVlLFxuICAgIGZyZWVNb2RlTW9tZW50dW1SYXRpbzogMSxcbiAgICBmcmVlTW9kZU1vbWVudHVtQm91bmNlOiB0cnVlLFxuICAgIGZyZWVNb2RlTW9tZW50dW1Cb3VuY2VSYXRpbzogMSxcbiAgICBmcmVlTW9kZU1vbWVudHVtVmVsb2NpdHlSYXRpbzogMSxcbiAgICBmcmVlTW9kZVN0aWNreTogZmFsc2UsXG4gICAgZnJlZU1vZGVNaW5pbXVtVmVsb2NpdHk6IDAuMDIsXG4gICAgLy8gQXV0b2hlaWdodFxuICAgIGF1dG9IZWlnaHQ6IGZhbHNlLFxuICAgIC8vIFNldCB3cmFwcGVyIHdpZHRoXG4gICAgc2V0V3JhcHBlclNpemU6IGZhbHNlLFxuICAgIC8vIFZpcnR1YWwgVHJhbnNsYXRlXG4gICAgdmlydHVhbFRyYW5zbGF0ZTogZmFsc2UsXG4gICAgLy8gRWZmZWN0c1xuICAgIGVmZmVjdDogJ3NsaWRlJyxcbiAgICAvLyAnc2xpZGUnIG9yICdmYWRlJyBvciAnY3ViZScgb3IgJ2NvdmVyZmxvdycgb3IgJ2ZsaXAnXG4gICAgLy8gQnJlYWtwb2ludHNcbiAgICBicmVha3BvaW50czogdW5kZWZpbmVkLFxuICAgIGJyZWFrcG9pbnRzQmFzZTogJ3dpbmRvdycsXG4gICAgLy8gU2xpZGVzIGdyaWRcbiAgICBzcGFjZUJldHdlZW46IDAsXG4gICAgc2xpZGVzUGVyVmlldzogMSxcbiAgICBzbGlkZXNQZXJDb2x1bW46IDEsXG4gICAgc2xpZGVzUGVyQ29sdW1uRmlsbDogJ2NvbHVtbicsXG4gICAgc2xpZGVzUGVyR3JvdXA6IDEsXG4gICAgc2xpZGVzUGVyR3JvdXBTa2lwOiAwLFxuICAgIGNlbnRlcmVkU2xpZGVzOiBmYWxzZSxcbiAgICBjZW50ZXJlZFNsaWRlc0JvdW5kczogZmFsc2UsXG4gICAgc2xpZGVzT2Zmc2V0QmVmb3JlOiAwLFxuICAgIC8vIGluIHB4XG4gICAgc2xpZGVzT2Zmc2V0QWZ0ZXI6IDAsXG4gICAgLy8gaW4gcHhcbiAgICBub3JtYWxpemVTbGlkZUluZGV4OiB0cnVlLFxuICAgIGNlbnRlckluc3VmZmljaWVudFNsaWRlczogZmFsc2UsXG4gICAgLy8gRGlzYWJsZSBzd2lwZXIgYW5kIGhpZGUgbmF2aWdhdGlvbiB3aGVuIGNvbnRhaW5lciBub3Qgb3ZlcmZsb3dcbiAgICB3YXRjaE92ZXJmbG93OiBmYWxzZSxcbiAgICAvLyBSb3VuZCBsZW5ndGhcbiAgICByb3VuZExlbmd0aHM6IGZhbHNlLFxuICAgIC8vIFRvdWNoZXNcbiAgICB0b3VjaFJhdGlvOiAxLFxuICAgIHRvdWNoQW5nbGU6IDQ1LFxuICAgIHNpbXVsYXRlVG91Y2g6IHRydWUsXG4gICAgc2hvcnRTd2lwZXM6IHRydWUsXG4gICAgbG9uZ1N3aXBlczogdHJ1ZSxcbiAgICBsb25nU3dpcGVzUmF0aW86IDAuNSxcbiAgICBsb25nU3dpcGVzTXM6IDMwMCxcbiAgICBmb2xsb3dGaW5nZXI6IHRydWUsXG4gICAgYWxsb3dUb3VjaE1vdmU6IHRydWUsXG4gICAgdGhyZXNob2xkOiAwLFxuICAgIHRvdWNoTW92ZVN0b3BQcm9wYWdhdGlvbjogZmFsc2UsXG4gICAgdG91Y2hTdGFydFByZXZlbnREZWZhdWx0OiB0cnVlLFxuICAgIHRvdWNoU3RhcnRGb3JjZVByZXZlbnREZWZhdWx0OiBmYWxzZSxcbiAgICB0b3VjaFJlbGVhc2VPbkVkZ2VzOiBmYWxzZSxcbiAgICAvLyBVbmlxdWUgTmF2aWdhdGlvbiBFbGVtZW50c1xuICAgIHVuaXF1ZU5hdkVsZW1lbnRzOiB0cnVlLFxuICAgIC8vIFJlc2lzdGFuY2VcbiAgICByZXNpc3RhbmNlOiB0cnVlLFxuICAgIHJlc2lzdGFuY2VSYXRpbzogMC44NSxcbiAgICAvLyBQcm9ncmVzc1xuICAgIHdhdGNoU2xpZGVzUHJvZ3Jlc3M6IGZhbHNlLFxuICAgIHdhdGNoU2xpZGVzVmlzaWJpbGl0eTogZmFsc2UsXG4gICAgLy8gQ3Vyc29yXG4gICAgZ3JhYkN1cnNvcjogZmFsc2UsXG4gICAgLy8gQ2xpY2tzXG4gICAgcHJldmVudENsaWNrczogdHJ1ZSxcbiAgICBwcmV2ZW50Q2xpY2tzUHJvcGFnYXRpb246IHRydWUsXG4gICAgc2xpZGVUb0NsaWNrZWRTbGlkZTogZmFsc2UsXG4gICAgLy8gSW1hZ2VzXG4gICAgcHJlbG9hZEltYWdlczogdHJ1ZSxcbiAgICB1cGRhdGVPbkltYWdlc1JlYWR5OiB0cnVlLFxuICAgIC8vIGxvb3BcbiAgICBsb29wOiBmYWxzZSxcbiAgICBsb29wQWRkaXRpb25hbFNsaWRlczogMCxcbiAgICBsb29wZWRTbGlkZXM6IG51bGwsXG4gICAgbG9vcEZpbGxHcm91cFdpdGhCbGFuazogZmFsc2UsXG4gICAgbG9vcFByZXZlbnRzU2xpZGU6IHRydWUsXG4gICAgLy8gU3dpcGluZy9ubyBzd2lwaW5nXG4gICAgYWxsb3dTbGlkZVByZXY6IHRydWUsXG4gICAgYWxsb3dTbGlkZU5leHQ6IHRydWUsXG4gICAgc3dpcGVIYW5kbGVyOiBudWxsLFxuICAgIC8vICcuc3dpcGUtaGFuZGxlcicsXG4gICAgbm9Td2lwaW5nOiB0cnVlLFxuICAgIG5vU3dpcGluZ0NsYXNzOiAnc3dpcGVyLW5vLXN3aXBpbmcnLFxuICAgIG5vU3dpcGluZ1NlbGVjdG9yOiBudWxsLFxuICAgIC8vIFBhc3NpdmUgTGlzdGVuZXJzXG4gICAgcGFzc2l2ZUxpc3RlbmVyczogdHJ1ZSxcbiAgICAvLyBOU1xuICAgIGNvbnRhaW5lck1vZGlmaWVyQ2xhc3M6ICdzd2lwZXItY29udGFpbmVyLScsXG4gICAgLy8gTkVXXG4gICAgc2xpZGVDbGFzczogJ3N3aXBlci1zbGlkZScsXG4gICAgc2xpZGVCbGFua0NsYXNzOiAnc3dpcGVyLXNsaWRlLWludmlzaWJsZS1ibGFuaycsXG4gICAgc2xpZGVBY3RpdmVDbGFzczogJ3N3aXBlci1zbGlkZS1hY3RpdmUnLFxuICAgIHNsaWRlRHVwbGljYXRlQWN0aXZlQ2xhc3M6ICdzd2lwZXItc2xpZGUtZHVwbGljYXRlLWFjdGl2ZScsXG4gICAgc2xpZGVWaXNpYmxlQ2xhc3M6ICdzd2lwZXItc2xpZGUtdmlzaWJsZScsXG4gICAgc2xpZGVEdXBsaWNhdGVDbGFzczogJ3N3aXBlci1zbGlkZS1kdXBsaWNhdGUnLFxuICAgIHNsaWRlTmV4dENsYXNzOiAnc3dpcGVyLXNsaWRlLW5leHQnLFxuICAgIHNsaWRlRHVwbGljYXRlTmV4dENsYXNzOiAnc3dpcGVyLXNsaWRlLWR1cGxpY2F0ZS1uZXh0JyxcbiAgICBzbGlkZVByZXZDbGFzczogJ3N3aXBlci1zbGlkZS1wcmV2JyxcbiAgICBzbGlkZUR1cGxpY2F0ZVByZXZDbGFzczogJ3N3aXBlci1zbGlkZS1kdXBsaWNhdGUtcHJldicsXG4gICAgd3JhcHBlckNsYXNzOiAnc3dpcGVyLXdyYXBwZXInLFxuICAgIC8vIENhbGxiYWNrc1xuICAgIHJ1bkNhbGxiYWNrc09uSW5pdDogdHJ1ZSxcbiAgICAvLyBJbnRlcm5hbHNcbiAgICBfZW1pdENsYXNzZXM6IGZhbHNlXG4gIH07XG5cbiAgdmFyIHByb3RvdHlwZXMgPSB7XG4gICAgbW9kdWxhcjogbW9kdWxhcixcbiAgICBldmVudHNFbWl0dGVyOiBldmVudHNFbWl0dGVyLFxuICAgIHVwZGF0ZTogdXBkYXRlLFxuICAgIHRyYW5zbGF0ZTogdHJhbnNsYXRlLFxuICAgIHRyYW5zaXRpb246IHRyYW5zaXRpb24sXG4gICAgc2xpZGU6IHNsaWRlLFxuICAgIGxvb3A6IGxvb3AsXG4gICAgZ3JhYkN1cnNvcjogZ3JhYkN1cnNvcixcbiAgICBtYW5pcHVsYXRpb246IG1hbmlwdWxhdGlvbixcbiAgICBldmVudHM6IGV2ZW50cyxcbiAgICBicmVha3BvaW50czogYnJlYWtwb2ludHMsXG4gICAgY2hlY2tPdmVyZmxvdzogY2hlY2tPdmVyZmxvdyQxLFxuICAgIGNsYXNzZXM6IGNsYXNzZXMsXG4gICAgaW1hZ2VzOiBpbWFnZXNcbiAgfTtcbiAgdmFyIGV4dGVuZGVkRGVmYXVsdHMgPSB7fTtcblxuICB2YXIgU3dpcGVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTd2lwZXIoKSB7XG4gICAgICB2YXIgZWw7XG4gICAgICB2YXIgcGFyYW1zO1xuXG4gICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgIH1cblxuICAgICAgaWYgKGFyZ3MubGVuZ3RoID09PSAxICYmIGFyZ3NbMF0uY29uc3RydWN0b3IgJiYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGFyZ3NbMF0pLnNsaWNlKDgsIC0xKSA9PT0gJ09iamVjdCcpIHtcbiAgICAgICAgcGFyYW1zID0gYXJnc1swXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVsID0gYXJnc1swXTtcbiAgICAgICAgcGFyYW1zID0gYXJnc1sxXTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFwYXJhbXMpIHBhcmFtcyA9IHt9O1xuICAgICAgcGFyYW1zID0gZXh0ZW5kKHt9LCBwYXJhbXMpO1xuICAgICAgaWYgKGVsICYmICFwYXJhbXMuZWwpIHBhcmFtcy5lbCA9IGVsO1xuXG4gICAgICBpZiAocGFyYW1zLmVsICYmICQocGFyYW1zLmVsKS5sZW5ndGggPiAxKSB7XG4gICAgICAgIHZhciBzd2lwZXJzID0gW107XG4gICAgICAgICQocGFyYW1zLmVsKS5lYWNoKGZ1bmN0aW9uIChjb250YWluZXJFbCkge1xuICAgICAgICAgIHZhciBuZXdQYXJhbXMgPSBleHRlbmQoe30sIHBhcmFtcywge1xuICAgICAgICAgICAgZWw6IGNvbnRhaW5lckVsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc3dpcGVycy5wdXNoKG5ldyBTd2lwZXIobmV3UGFyYW1zKSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gc3dpcGVycztcbiAgICAgIH0gLy8gU3dpcGVyIEluc3RhbmNlXG5cblxuICAgICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgICBzd2lwZXIuX19zd2lwZXJfXyA9IHRydWU7XG4gICAgICBzd2lwZXIuc3VwcG9ydCA9IGdldFN1cHBvcnQoKTtcbiAgICAgIHN3aXBlci5kZXZpY2UgPSBnZXREZXZpY2Uoe1xuICAgICAgICB1c2VyQWdlbnQ6IHBhcmFtcy51c2VyQWdlbnRcbiAgICAgIH0pO1xuICAgICAgc3dpcGVyLmJyb3dzZXIgPSBnZXRCcm93c2VyKCk7XG4gICAgICBzd2lwZXIuZXZlbnRzTGlzdGVuZXJzID0ge307XG4gICAgICBzd2lwZXIuZXZlbnRzQW55TGlzdGVuZXJzID0gW107XG5cbiAgICAgIGlmICh0eXBlb2Ygc3dpcGVyLm1vZHVsZXMgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHN3aXBlci5tb2R1bGVzID0ge307XG4gICAgICB9XG5cbiAgICAgIE9iamVjdC5rZXlzKHN3aXBlci5tb2R1bGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChtb2R1bGVOYW1lKSB7XG4gICAgICAgIHZhciBtb2R1bGUgPSBzd2lwZXIubW9kdWxlc1ttb2R1bGVOYW1lXTtcblxuICAgICAgICBpZiAobW9kdWxlLnBhcmFtcykge1xuICAgICAgICAgIHZhciBtb2R1bGVQYXJhbU5hbWUgPSBPYmplY3Qua2V5cyhtb2R1bGUucGFyYW1zKVswXTtcbiAgICAgICAgICB2YXIgbW9kdWxlUGFyYW1zID0gbW9kdWxlLnBhcmFtc1ttb2R1bGVQYXJhbU5hbWVdO1xuICAgICAgICAgIGlmICh0eXBlb2YgbW9kdWxlUGFyYW1zICE9PSAnb2JqZWN0JyB8fCBtb2R1bGVQYXJhbXMgPT09IG51bGwpIHJldHVybjtcblxuICAgICAgICAgIGlmIChbJ25hdmlnYXRpb24nLCAncGFnaW5hdGlvbicsICdzY3JvbGxiYXInXS5pbmRleE9mKG1vZHVsZVBhcmFtTmFtZSkgPj0gMCAmJiBwYXJhbXNbbW9kdWxlUGFyYW1OYW1lXSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgcGFyYW1zW21vZHVsZVBhcmFtTmFtZV0gPSB7XG4gICAgICAgICAgICAgIGF1dG86IHRydWVcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCEobW9kdWxlUGFyYW1OYW1lIGluIHBhcmFtcyAmJiAnZW5hYmxlZCcgaW4gbW9kdWxlUGFyYW1zKSkgcmV0dXJuO1xuXG4gICAgICAgICAgaWYgKHBhcmFtc1ttb2R1bGVQYXJhbU5hbWVdID09PSB0cnVlKSB7XG4gICAgICAgICAgICBwYXJhbXNbbW9kdWxlUGFyYW1OYW1lXSA9IHtcbiAgICAgICAgICAgICAgZW5hYmxlZDogdHJ1ZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAodHlwZW9mIHBhcmFtc1ttb2R1bGVQYXJhbU5hbWVdID09PSAnb2JqZWN0JyAmJiAhKCdlbmFibGVkJyBpbiBwYXJhbXNbbW9kdWxlUGFyYW1OYW1lXSkpIHtcbiAgICAgICAgICAgIHBhcmFtc1ttb2R1bGVQYXJhbU5hbWVdLmVuYWJsZWQgPSB0cnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICghcGFyYW1zW21vZHVsZVBhcmFtTmFtZV0pIHBhcmFtc1ttb2R1bGVQYXJhbU5hbWVdID0ge1xuICAgICAgICAgICAgZW5hYmxlZDogZmFsc2VcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9KTsgLy8gRXh0ZW5kIGRlZmF1bHRzIHdpdGggbW9kdWxlcyBwYXJhbXNcblxuICAgICAgdmFyIHN3aXBlclBhcmFtcyA9IGV4dGVuZCh7fSwgZGVmYXVsdHMpO1xuICAgICAgc3dpcGVyLnVzZVBhcmFtcyhzd2lwZXJQYXJhbXMpOyAvLyBFeHRlbmQgZGVmYXVsdHMgd2l0aCBwYXNzZWQgcGFyYW1zXG5cbiAgICAgIHN3aXBlci5wYXJhbXMgPSBleHRlbmQoe30sIHN3aXBlclBhcmFtcywgZXh0ZW5kZWREZWZhdWx0cywgcGFyYW1zKTtcbiAgICAgIHN3aXBlci5vcmlnaW5hbFBhcmFtcyA9IGV4dGVuZCh7fSwgc3dpcGVyLnBhcmFtcyk7XG4gICAgICBzd2lwZXIucGFzc2VkUGFyYW1zID0gZXh0ZW5kKHt9LCBwYXJhbXMpOyAvLyBhZGQgZXZlbnQgbGlzdGVuZXJzXG5cbiAgICAgIGlmIChzd2lwZXIucGFyYW1zICYmIHN3aXBlci5wYXJhbXMub24pIHtcbiAgICAgICAgT2JqZWN0LmtleXMoc3dpcGVyLnBhcmFtcy5vbikuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnROYW1lKSB7XG4gICAgICAgICAgc3dpcGVyLm9uKGV2ZW50TmFtZSwgc3dpcGVyLnBhcmFtcy5vbltldmVudE5hbWVdKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChzd2lwZXIucGFyYW1zICYmIHN3aXBlci5wYXJhbXMub25BbnkpIHtcbiAgICAgICAgc3dpcGVyLm9uQW55KHN3aXBlci5wYXJhbXMub25BbnkpO1xuICAgICAgfSAvLyBTYXZlIERvbSBsaWJcblxuXG4gICAgICBzd2lwZXIuJCA9ICQ7IC8vIEV4dGVuZCBTd2lwZXJcblxuICAgICAgZXh0ZW5kKHN3aXBlciwge1xuICAgICAgICBlbmFibGVkOiBzd2lwZXIucGFyYW1zLmVuYWJsZWQsXG4gICAgICAgIGVsOiBlbCxcbiAgICAgICAgLy8gQ2xhc3Nlc1xuICAgICAgICBjbGFzc05hbWVzOiBbXSxcbiAgICAgICAgLy8gU2xpZGVzXG4gICAgICAgIHNsaWRlczogJCgpLFxuICAgICAgICBzbGlkZXNHcmlkOiBbXSxcbiAgICAgICAgc25hcEdyaWQ6IFtdLFxuICAgICAgICBzbGlkZXNTaXplc0dyaWQ6IFtdLFxuICAgICAgICAvLyBpc0RpcmVjdGlvblxuICAgICAgICBpc0hvcml6b250YWw6IGZ1bmN0aW9uIGlzSG9yaXpvbnRhbCgpIHtcbiAgICAgICAgICByZXR1cm4gc3dpcGVyLnBhcmFtcy5kaXJlY3Rpb24gPT09ICdob3Jpem9udGFsJztcbiAgICAgICAgfSxcbiAgICAgICAgaXNWZXJ0aWNhbDogZnVuY3Rpb24gaXNWZXJ0aWNhbCgpIHtcbiAgICAgICAgICByZXR1cm4gc3dpcGVyLnBhcmFtcy5kaXJlY3Rpb24gPT09ICd2ZXJ0aWNhbCc7XG4gICAgICAgIH0sXG4gICAgICAgIC8vIEluZGV4ZXNcbiAgICAgICAgYWN0aXZlSW5kZXg6IDAsXG4gICAgICAgIHJlYWxJbmRleDogMCxcbiAgICAgICAgLy9cbiAgICAgICAgaXNCZWdpbm5pbmc6IHRydWUsXG4gICAgICAgIGlzRW5kOiBmYWxzZSxcbiAgICAgICAgLy8gUHJvcHNcbiAgICAgICAgdHJhbnNsYXRlOiAwLFxuICAgICAgICBwcmV2aW91c1RyYW5zbGF0ZTogMCxcbiAgICAgICAgcHJvZ3Jlc3M6IDAsXG4gICAgICAgIHZlbG9jaXR5OiAwLFxuICAgICAgICBhbmltYXRpbmc6IGZhbHNlLFxuICAgICAgICAvLyBMb2Nrc1xuICAgICAgICBhbGxvd1NsaWRlTmV4dDogc3dpcGVyLnBhcmFtcy5hbGxvd1NsaWRlTmV4dCxcbiAgICAgICAgYWxsb3dTbGlkZVByZXY6IHN3aXBlci5wYXJhbXMuYWxsb3dTbGlkZVByZXYsXG4gICAgICAgIC8vIFRvdWNoIEV2ZW50c1xuICAgICAgICB0b3VjaEV2ZW50czogZnVuY3Rpb24gdG91Y2hFdmVudHMoKSB7XG4gICAgICAgICAgdmFyIHRvdWNoID0gWyd0b3VjaHN0YXJ0JywgJ3RvdWNobW92ZScsICd0b3VjaGVuZCcsICd0b3VjaGNhbmNlbCddO1xuICAgICAgICAgIHZhciBkZXNrdG9wID0gWydtb3VzZWRvd24nLCAnbW91c2Vtb3ZlJywgJ21vdXNldXAnXTtcblxuICAgICAgICAgIGlmIChzd2lwZXIuc3VwcG9ydC5wb2ludGVyRXZlbnRzKSB7XG4gICAgICAgICAgICBkZXNrdG9wID0gWydwb2ludGVyZG93bicsICdwb2ludGVybW92ZScsICdwb2ludGVydXAnXTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBzd2lwZXIudG91Y2hFdmVudHNUb3VjaCA9IHtcbiAgICAgICAgICAgIHN0YXJ0OiB0b3VjaFswXSxcbiAgICAgICAgICAgIG1vdmU6IHRvdWNoWzFdLFxuICAgICAgICAgICAgZW5kOiB0b3VjaFsyXSxcbiAgICAgICAgICAgIGNhbmNlbDogdG91Y2hbM11cbiAgICAgICAgICB9O1xuICAgICAgICAgIHN3aXBlci50b3VjaEV2ZW50c0Rlc2t0b3AgPSB7XG4gICAgICAgICAgICBzdGFydDogZGVza3RvcFswXSxcbiAgICAgICAgICAgIG1vdmU6IGRlc2t0b3BbMV0sXG4gICAgICAgICAgICBlbmQ6IGRlc2t0b3BbMl1cbiAgICAgICAgICB9O1xuICAgICAgICAgIHJldHVybiBzd2lwZXIuc3VwcG9ydC50b3VjaCB8fCAhc3dpcGVyLnBhcmFtcy5zaW11bGF0ZVRvdWNoID8gc3dpcGVyLnRvdWNoRXZlbnRzVG91Y2ggOiBzd2lwZXIudG91Y2hFdmVudHNEZXNrdG9wO1xuICAgICAgICB9KCksXG4gICAgICAgIHRvdWNoRXZlbnRzRGF0YToge1xuICAgICAgICAgIGlzVG91Y2hlZDogdW5kZWZpbmVkLFxuICAgICAgICAgIGlzTW92ZWQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICBhbGxvd1RvdWNoQ2FsbGJhY2tzOiB1bmRlZmluZWQsXG4gICAgICAgICAgdG91Y2hTdGFydFRpbWU6IHVuZGVmaW5lZCxcbiAgICAgICAgICBpc1Njcm9sbGluZzogdW5kZWZpbmVkLFxuICAgICAgICAgIGN1cnJlbnRUcmFuc2xhdGU6IHVuZGVmaW5lZCxcbiAgICAgICAgICBzdGFydFRyYW5zbGF0ZTogdW5kZWZpbmVkLFxuICAgICAgICAgIGFsbG93VGhyZXNob2xkTW92ZTogdW5kZWZpbmVkLFxuICAgICAgICAgIC8vIEZvcm0gZWxlbWVudHMgdG8gbWF0Y2hcbiAgICAgICAgICBmb2N1c2FibGVFbGVtZW50czogc3dpcGVyLnBhcmFtcy5mb2N1c2FibGVFbGVtZW50cyxcbiAgICAgICAgICAvLyBMYXN0IGNsaWNrIHRpbWVcbiAgICAgICAgICBsYXN0Q2xpY2tUaW1lOiBub3coKSxcbiAgICAgICAgICBjbGlja1RpbWVvdXQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICAvLyBWZWxvY2l0aWVzXG4gICAgICAgICAgdmVsb2NpdGllczogW10sXG4gICAgICAgICAgYWxsb3dNb21lbnR1bUJvdW5jZTogdW5kZWZpbmVkLFxuICAgICAgICAgIGlzVG91Y2hFdmVudDogdW5kZWZpbmVkLFxuICAgICAgICAgIHN0YXJ0TW92aW5nOiB1bmRlZmluZWRcbiAgICAgICAgfSxcbiAgICAgICAgLy8gQ2xpY2tzXG4gICAgICAgIGFsbG93Q2xpY2s6IHRydWUsXG4gICAgICAgIC8vIFRvdWNoZXNcbiAgICAgICAgYWxsb3dUb3VjaE1vdmU6IHN3aXBlci5wYXJhbXMuYWxsb3dUb3VjaE1vdmUsXG4gICAgICAgIHRvdWNoZXM6IHtcbiAgICAgICAgICBzdGFydFg6IDAsXG4gICAgICAgICAgc3RhcnRZOiAwLFxuICAgICAgICAgIGN1cnJlbnRYOiAwLFxuICAgICAgICAgIGN1cnJlbnRZOiAwLFxuICAgICAgICAgIGRpZmY6IDBcbiAgICAgICAgfSxcbiAgICAgICAgLy8gSW1hZ2VzXG4gICAgICAgIGltYWdlc1RvTG9hZDogW10sXG4gICAgICAgIGltYWdlc0xvYWRlZDogMFxuICAgICAgfSk7IC8vIEluc3RhbGwgTW9kdWxlc1xuXG4gICAgICBzd2lwZXIudXNlTW9kdWxlcygpO1xuICAgICAgc3dpcGVyLmVtaXQoJ19zd2lwZXInKTsgLy8gSW5pdFxuXG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy5pbml0KSB7XG4gICAgICAgIHN3aXBlci5pbml0KCk7XG4gICAgICB9IC8vIFJldHVybiBhcHAgaW5zdGFuY2VcblxuXG4gICAgICByZXR1cm4gc3dpcGVyO1xuICAgIH1cblxuICAgIHZhciBfcHJvdG8gPSBTd2lwZXIucHJvdG90eXBlO1xuXG4gICAgX3Byb3RvLmVuYWJsZSA9IGZ1bmN0aW9uIGVuYWJsZSgpIHtcbiAgICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgICAgaWYgKHN3aXBlci5lbmFibGVkKSByZXR1cm47XG4gICAgICBzd2lwZXIuZW5hYmxlZCA9IHRydWU7XG5cbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLmdyYWJDdXJzb3IpIHtcbiAgICAgICAgc3dpcGVyLnNldEdyYWJDdXJzb3IoKTtcbiAgICAgIH1cblxuICAgICAgc3dpcGVyLmVtaXQoJ2VuYWJsZScpO1xuICAgIH07XG5cbiAgICBfcHJvdG8uZGlzYWJsZSA9IGZ1bmN0aW9uIGRpc2FibGUoKSB7XG4gICAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICAgIGlmICghc3dpcGVyLmVuYWJsZWQpIHJldHVybjtcbiAgICAgIHN3aXBlci5lbmFibGVkID0gZmFsc2U7XG5cbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLmdyYWJDdXJzb3IpIHtcbiAgICAgICAgc3dpcGVyLnVuc2V0R3JhYkN1cnNvcigpO1xuICAgICAgfVxuXG4gICAgICBzd2lwZXIuZW1pdCgnZGlzYWJsZScpO1xuICAgIH07XG5cbiAgICBfcHJvdG8uc2V0UHJvZ3Jlc3MgPSBmdW5jdGlvbiBzZXRQcm9ncmVzcyhwcm9ncmVzcywgc3BlZWQpIHtcbiAgICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgICAgcHJvZ3Jlc3MgPSBNYXRoLm1pbihNYXRoLm1heChwcm9ncmVzcywgMCksIDEpO1xuICAgICAgdmFyIG1pbiA9IHN3aXBlci5taW5UcmFuc2xhdGUoKTtcbiAgICAgIHZhciBtYXggPSBzd2lwZXIubWF4VHJhbnNsYXRlKCk7XG4gICAgICB2YXIgY3VycmVudCA9IChtYXggLSBtaW4pICogcHJvZ3Jlc3MgKyBtaW47XG4gICAgICBzd2lwZXIudHJhbnNsYXRlVG8oY3VycmVudCwgdHlwZW9mIHNwZWVkID09PSAndW5kZWZpbmVkJyA/IDAgOiBzcGVlZCk7XG4gICAgICBzd2lwZXIudXBkYXRlQWN0aXZlSW5kZXgoKTtcbiAgICAgIHN3aXBlci51cGRhdGVTbGlkZXNDbGFzc2VzKCk7XG4gICAgfTtcblxuICAgIF9wcm90by5lbWl0Q29udGFpbmVyQ2xhc3NlcyA9IGZ1bmN0aW9uIGVtaXRDb250YWluZXJDbGFzc2VzKCkge1xuICAgICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgICBpZiAoIXN3aXBlci5wYXJhbXMuX2VtaXRDbGFzc2VzIHx8ICFzd2lwZXIuZWwpIHJldHVybjtcbiAgICAgIHZhciBjbGFzc2VzID0gc3dpcGVyLmVsLmNsYXNzTmFtZS5zcGxpdCgnICcpLmZpbHRlcihmdW5jdGlvbiAoY2xhc3NOYW1lKSB7XG4gICAgICAgIHJldHVybiBjbGFzc05hbWUuaW5kZXhPZignc3dpcGVyLWNvbnRhaW5lcicpID09PSAwIHx8IGNsYXNzTmFtZS5pbmRleE9mKHN3aXBlci5wYXJhbXMuY29udGFpbmVyTW9kaWZpZXJDbGFzcykgPT09IDA7XG4gICAgICB9KTtcbiAgICAgIHN3aXBlci5lbWl0KCdfY29udGFpbmVyQ2xhc3NlcycsIGNsYXNzZXMuam9pbignICcpKTtcbiAgICB9O1xuXG4gICAgX3Byb3RvLmdldFNsaWRlQ2xhc3NlcyA9IGZ1bmN0aW9uIGdldFNsaWRlQ2xhc3NlcyhzbGlkZUVsKSB7XG4gICAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICAgIHJldHVybiBzbGlkZUVsLmNsYXNzTmFtZS5zcGxpdCgnICcpLmZpbHRlcihmdW5jdGlvbiAoY2xhc3NOYW1lKSB7XG4gICAgICAgIHJldHVybiBjbGFzc05hbWUuaW5kZXhPZignc3dpcGVyLXNsaWRlJykgPT09IDAgfHwgY2xhc3NOYW1lLmluZGV4T2Yoc3dpcGVyLnBhcmFtcy5zbGlkZUNsYXNzKSA9PT0gMDtcbiAgICAgIH0pLmpvaW4oJyAnKTtcbiAgICB9O1xuXG4gICAgX3Byb3RvLmVtaXRTbGlkZXNDbGFzc2VzID0gZnVuY3Rpb24gZW1pdFNsaWRlc0NsYXNzZXMoKSB7XG4gICAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICAgIGlmICghc3dpcGVyLnBhcmFtcy5fZW1pdENsYXNzZXMgfHwgIXN3aXBlci5lbCkgcmV0dXJuO1xuICAgICAgdmFyIHVwZGF0ZXMgPSBbXTtcbiAgICAgIHN3aXBlci5zbGlkZXMuZWFjaChmdW5jdGlvbiAoc2xpZGVFbCkge1xuICAgICAgICB2YXIgY2xhc3NOYW1lcyA9IHN3aXBlci5nZXRTbGlkZUNsYXNzZXMoc2xpZGVFbCk7XG4gICAgICAgIHVwZGF0ZXMucHVzaCh7XG4gICAgICAgICAgc2xpZGVFbDogc2xpZGVFbCxcbiAgICAgICAgICBjbGFzc05hbWVzOiBjbGFzc05hbWVzXG4gICAgICAgIH0pO1xuICAgICAgICBzd2lwZXIuZW1pdCgnX3NsaWRlQ2xhc3MnLCBzbGlkZUVsLCBjbGFzc05hbWVzKTtcbiAgICAgIH0pO1xuICAgICAgc3dpcGVyLmVtaXQoJ19zbGlkZUNsYXNzZXMnLCB1cGRhdGVzKTtcbiAgICB9O1xuXG4gICAgX3Byb3RvLnNsaWRlc1BlclZpZXdEeW5hbWljID0gZnVuY3Rpb24gc2xpZGVzUGVyVmlld0R5bmFtaWMoKSB7XG4gICAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICAgIHZhciBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLFxuICAgICAgICAgIHNsaWRlcyA9IHN3aXBlci5zbGlkZXMsXG4gICAgICAgICAgc2xpZGVzR3JpZCA9IHN3aXBlci5zbGlkZXNHcmlkLFxuICAgICAgICAgIHN3aXBlclNpemUgPSBzd2lwZXIuc2l6ZSxcbiAgICAgICAgICBhY3RpdmVJbmRleCA9IHN3aXBlci5hY3RpdmVJbmRleDtcbiAgICAgIHZhciBzcHYgPSAxO1xuXG4gICAgICBpZiAocGFyYW1zLmNlbnRlcmVkU2xpZGVzKSB7XG4gICAgICAgIHZhciBzbGlkZVNpemUgPSBzbGlkZXNbYWN0aXZlSW5kZXhdLnN3aXBlclNsaWRlU2l6ZTtcbiAgICAgICAgdmFyIGJyZWFrTG9vcDtcblxuICAgICAgICBmb3IgKHZhciBpID0gYWN0aXZlSW5kZXggKyAxOyBpIDwgc2xpZGVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgaWYgKHNsaWRlc1tpXSAmJiAhYnJlYWtMb29wKSB7XG4gICAgICAgICAgICBzbGlkZVNpemUgKz0gc2xpZGVzW2ldLnN3aXBlclNsaWRlU2l6ZTtcbiAgICAgICAgICAgIHNwdiArPSAxO1xuICAgICAgICAgICAgaWYgKHNsaWRlU2l6ZSA+IHN3aXBlclNpemUpIGJyZWFrTG9vcCA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgX2kgPSBhY3RpdmVJbmRleCAtIDE7IF9pID49IDA7IF9pIC09IDEpIHtcbiAgICAgICAgICBpZiAoc2xpZGVzW19pXSAmJiAhYnJlYWtMb29wKSB7XG4gICAgICAgICAgICBzbGlkZVNpemUgKz0gc2xpZGVzW19pXS5zd2lwZXJTbGlkZVNpemU7XG4gICAgICAgICAgICBzcHYgKz0gMTtcbiAgICAgICAgICAgIGlmIChzbGlkZVNpemUgPiBzd2lwZXJTaXplKSBicmVha0xvb3AgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm9yICh2YXIgX2kyID0gYWN0aXZlSW5kZXggKyAxOyBfaTIgPCBzbGlkZXMubGVuZ3RoOyBfaTIgKz0gMSkge1xuICAgICAgICAgIGlmIChzbGlkZXNHcmlkW19pMl0gLSBzbGlkZXNHcmlkW2FjdGl2ZUluZGV4XSA8IHN3aXBlclNpemUpIHtcbiAgICAgICAgICAgIHNwdiArPSAxO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gc3B2O1xuICAgIH07XG5cbiAgICBfcHJvdG8udXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlKCkge1xuICAgICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgICBpZiAoIXN3aXBlciB8fCBzd2lwZXIuZGVzdHJveWVkKSByZXR1cm47XG4gICAgICB2YXIgc25hcEdyaWQgPSBzd2lwZXIuc25hcEdyaWQsXG4gICAgICAgICAgcGFyYW1zID0gc3dpcGVyLnBhcmFtczsgLy8gQnJlYWtwb2ludHNcblxuICAgICAgaWYgKHBhcmFtcy5icmVha3BvaW50cykge1xuICAgICAgICBzd2lwZXIuc2V0QnJlYWtwb2ludCgpO1xuICAgICAgfVxuXG4gICAgICBzd2lwZXIudXBkYXRlU2l6ZSgpO1xuICAgICAgc3dpcGVyLnVwZGF0ZVNsaWRlcygpO1xuICAgICAgc3dpcGVyLnVwZGF0ZVByb2dyZXNzKCk7XG4gICAgICBzd2lwZXIudXBkYXRlU2xpZGVzQ2xhc3NlcygpO1xuXG4gICAgICBmdW5jdGlvbiBzZXRUcmFuc2xhdGUoKSB7XG4gICAgICAgIHZhciB0cmFuc2xhdGVWYWx1ZSA9IHN3aXBlci5ydGxUcmFuc2xhdGUgPyBzd2lwZXIudHJhbnNsYXRlICogLTEgOiBzd2lwZXIudHJhbnNsYXRlO1xuICAgICAgICB2YXIgbmV3VHJhbnNsYXRlID0gTWF0aC5taW4oTWF0aC5tYXgodHJhbnNsYXRlVmFsdWUsIHN3aXBlci5tYXhUcmFuc2xhdGUoKSksIHN3aXBlci5taW5UcmFuc2xhdGUoKSk7XG4gICAgICAgIHN3aXBlci5zZXRUcmFuc2xhdGUobmV3VHJhbnNsYXRlKTtcbiAgICAgICAgc3dpcGVyLnVwZGF0ZUFjdGl2ZUluZGV4KCk7XG4gICAgICAgIHN3aXBlci51cGRhdGVTbGlkZXNDbGFzc2VzKCk7XG4gICAgICB9XG5cbiAgICAgIHZhciB0cmFuc2xhdGVkO1xuXG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy5mcmVlTW9kZSkge1xuICAgICAgICBzZXRUcmFuc2xhdGUoKTtcblxuICAgICAgICBpZiAoc3dpcGVyLnBhcmFtcy5hdXRvSGVpZ2h0KSB7XG4gICAgICAgICAgc3dpcGVyLnVwZGF0ZUF1dG9IZWlnaHQoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKChzd2lwZXIucGFyYW1zLnNsaWRlc1BlclZpZXcgPT09ICdhdXRvJyB8fCBzd2lwZXIucGFyYW1zLnNsaWRlc1BlclZpZXcgPiAxKSAmJiBzd2lwZXIuaXNFbmQgJiYgIXN3aXBlci5wYXJhbXMuY2VudGVyZWRTbGlkZXMpIHtcbiAgICAgICAgICB0cmFuc2xhdGVkID0gc3dpcGVyLnNsaWRlVG8oc3dpcGVyLnNsaWRlcy5sZW5ndGggLSAxLCAwLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdHJhbnNsYXRlZCA9IHN3aXBlci5zbGlkZVRvKHN3aXBlci5hY3RpdmVJbmRleCwgMCwgZmFsc2UsIHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0cmFuc2xhdGVkKSB7XG4gICAgICAgICAgc2V0VHJhbnNsYXRlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHBhcmFtcy53YXRjaE92ZXJmbG93ICYmIHNuYXBHcmlkICE9PSBzd2lwZXIuc25hcEdyaWQpIHtcbiAgICAgICAgc3dpcGVyLmNoZWNrT3ZlcmZsb3coKTtcbiAgICAgIH1cblxuICAgICAgc3dpcGVyLmVtaXQoJ3VwZGF0ZScpO1xuICAgIH07XG5cbiAgICBfcHJvdG8uY2hhbmdlRGlyZWN0aW9uID0gZnVuY3Rpb24gY2hhbmdlRGlyZWN0aW9uKG5ld0RpcmVjdGlvbiwgbmVlZFVwZGF0ZSkge1xuICAgICAgaWYgKG5lZWRVcGRhdGUgPT09IHZvaWQgMCkge1xuICAgICAgICBuZWVkVXBkYXRlID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgICB2YXIgY3VycmVudERpcmVjdGlvbiA9IHN3aXBlci5wYXJhbXMuZGlyZWN0aW9uO1xuXG4gICAgICBpZiAoIW5ld0RpcmVjdGlvbikge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgICAgbmV3RGlyZWN0aW9uID0gY3VycmVudERpcmVjdGlvbiA9PT0gJ2hvcml6b250YWwnID8gJ3ZlcnRpY2FsJyA6ICdob3Jpem9udGFsJztcbiAgICAgIH1cblxuICAgICAgaWYgKG5ld0RpcmVjdGlvbiA9PT0gY3VycmVudERpcmVjdGlvbiB8fCBuZXdEaXJlY3Rpb24gIT09ICdob3Jpem9udGFsJyAmJiBuZXdEaXJlY3Rpb24gIT09ICd2ZXJ0aWNhbCcpIHtcbiAgICAgICAgcmV0dXJuIHN3aXBlcjtcbiAgICAgIH1cblxuICAgICAgc3dpcGVyLiRlbC5yZW1vdmVDbGFzcyhcIlwiICsgc3dpcGVyLnBhcmFtcy5jb250YWluZXJNb2RpZmllckNsYXNzICsgY3VycmVudERpcmVjdGlvbikuYWRkQ2xhc3MoXCJcIiArIHN3aXBlci5wYXJhbXMuY29udGFpbmVyTW9kaWZpZXJDbGFzcyArIG5ld0RpcmVjdGlvbik7XG4gICAgICBzd2lwZXIuZW1pdENvbnRhaW5lckNsYXNzZXMoKTtcbiAgICAgIHN3aXBlci5wYXJhbXMuZGlyZWN0aW9uID0gbmV3RGlyZWN0aW9uO1xuICAgICAgc3dpcGVyLnNsaWRlcy5lYWNoKGZ1bmN0aW9uIChzbGlkZUVsKSB7XG4gICAgICAgIGlmIChuZXdEaXJlY3Rpb24gPT09ICd2ZXJ0aWNhbCcpIHtcbiAgICAgICAgICBzbGlkZUVsLnN0eWxlLndpZHRoID0gJyc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2xpZGVFbC5zdHlsZS5oZWlnaHQgPSAnJztcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBzd2lwZXIuZW1pdCgnY2hhbmdlRGlyZWN0aW9uJyk7XG4gICAgICBpZiAobmVlZFVwZGF0ZSkgc3dpcGVyLnVwZGF0ZSgpO1xuICAgICAgcmV0dXJuIHN3aXBlcjtcbiAgICB9O1xuXG4gICAgX3Byb3RvLm1vdW50ID0gZnVuY3Rpb24gbW91bnQoZWwpIHtcbiAgICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgICAgaWYgKHN3aXBlci5tb3VudGVkKSByZXR1cm4gdHJ1ZTsgLy8gRmluZCBlbFxuXG4gICAgICB2YXIgJGVsID0gJChlbCB8fCBzd2lwZXIucGFyYW1zLmVsKTtcbiAgICAgIGVsID0gJGVsWzBdO1xuXG4gICAgICBpZiAoIWVsKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgZWwuc3dpcGVyID0gc3dpcGVyO1xuXG4gICAgICB2YXIgZ2V0V3JhcHBlclNlbGVjdG9yID0gZnVuY3Rpb24gZ2V0V3JhcHBlclNlbGVjdG9yKCkge1xuICAgICAgICByZXR1cm4gXCIuXCIgKyAoc3dpcGVyLnBhcmFtcy53cmFwcGVyQ2xhc3MgfHwgJycpLnRyaW0oKS5zcGxpdCgnICcpLmpvaW4oJy4nKTtcbiAgICAgIH07XG5cbiAgICAgIHZhciBnZXRXcmFwcGVyID0gZnVuY3Rpb24gZ2V0V3JhcHBlcigpIHtcbiAgICAgICAgaWYgKGVsICYmIGVsLnNoYWRvd1Jvb3QgJiYgZWwuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKSB7XG4gICAgICAgICAgdmFyIHJlcyA9ICQoZWwuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKGdldFdyYXBwZXJTZWxlY3RvcigpKSk7IC8vIENoaWxkcmVuIG5lZWRzIHRvIHJldHVybiBzbG90IGl0ZW1zXG5cbiAgICAgICAgICByZXMuY2hpbGRyZW4gPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuICRlbC5jaGlsZHJlbihvcHRpb25zKTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAkZWwuY2hpbGRyZW4oZ2V0V3JhcHBlclNlbGVjdG9yKCkpO1xuICAgICAgfTsgLy8gRmluZCBXcmFwcGVyXG5cblxuICAgICAgdmFyICR3cmFwcGVyRWwgPSBnZXRXcmFwcGVyKCk7XG5cbiAgICAgIGlmICgkd3JhcHBlckVsLmxlbmd0aCA9PT0gMCAmJiBzd2lwZXIucGFyYW1zLmNyZWF0ZUVsZW1lbnRzKSB7XG4gICAgICAgIHZhciBkb2N1bWVudCA9IGdldERvY3VtZW50KCk7XG4gICAgICAgIHZhciB3cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICR3cmFwcGVyRWwgPSAkKHdyYXBwZXIpO1xuICAgICAgICB3cmFwcGVyLmNsYXNzTmFtZSA9IHN3aXBlci5wYXJhbXMud3JhcHBlckNsYXNzO1xuICAgICAgICAkZWwuYXBwZW5kKHdyYXBwZXIpO1xuICAgICAgICAkZWwuY2hpbGRyZW4oXCIuXCIgKyBzd2lwZXIucGFyYW1zLnNsaWRlQ2xhc3MpLmVhY2goZnVuY3Rpb24gKHNsaWRlRWwpIHtcbiAgICAgICAgICAkd3JhcHBlckVsLmFwcGVuZChzbGlkZUVsKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGV4dGVuZChzd2lwZXIsIHtcbiAgICAgICAgJGVsOiAkZWwsXG4gICAgICAgIGVsOiBlbCxcbiAgICAgICAgJHdyYXBwZXJFbDogJHdyYXBwZXJFbCxcbiAgICAgICAgd3JhcHBlckVsOiAkd3JhcHBlckVsWzBdLFxuICAgICAgICBtb3VudGVkOiB0cnVlLFxuICAgICAgICAvLyBSVExcbiAgICAgICAgcnRsOiBlbC5kaXIudG9Mb3dlckNhc2UoKSA9PT0gJ3J0bCcgfHwgJGVsLmNzcygnZGlyZWN0aW9uJykgPT09ICdydGwnLFxuICAgICAgICBydGxUcmFuc2xhdGU6IHN3aXBlci5wYXJhbXMuZGlyZWN0aW9uID09PSAnaG9yaXpvbnRhbCcgJiYgKGVsLmRpci50b0xvd2VyQ2FzZSgpID09PSAncnRsJyB8fCAkZWwuY3NzKCdkaXJlY3Rpb24nKSA9PT0gJ3J0bCcpLFxuICAgICAgICB3cm9uZ1JUTDogJHdyYXBwZXJFbC5jc3MoJ2Rpc3BsYXknKSA9PT0gJy13ZWJraXQtYm94J1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuXG4gICAgX3Byb3RvLmluaXQgPSBmdW5jdGlvbiBpbml0KGVsKSB7XG4gICAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICAgIGlmIChzd2lwZXIuaW5pdGlhbGl6ZWQpIHJldHVybiBzd2lwZXI7XG4gICAgICB2YXIgbW91bnRlZCA9IHN3aXBlci5tb3VudChlbCk7XG4gICAgICBpZiAobW91bnRlZCA9PT0gZmFsc2UpIHJldHVybiBzd2lwZXI7XG4gICAgICBzd2lwZXIuZW1pdCgnYmVmb3JlSW5pdCcpOyAvLyBTZXQgYnJlYWtwb2ludFxuXG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy5icmVha3BvaW50cykge1xuICAgICAgICBzd2lwZXIuc2V0QnJlYWtwb2ludCgpO1xuICAgICAgfSAvLyBBZGQgQ2xhc3Nlc1xuXG5cbiAgICAgIHN3aXBlci5hZGRDbGFzc2VzKCk7IC8vIENyZWF0ZSBsb29wXG5cbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLmxvb3ApIHtcbiAgICAgICAgc3dpcGVyLmxvb3BDcmVhdGUoKTtcbiAgICAgIH0gLy8gVXBkYXRlIHNpemVcblxuXG4gICAgICBzd2lwZXIudXBkYXRlU2l6ZSgpOyAvLyBVcGRhdGUgc2xpZGVzXG5cbiAgICAgIHN3aXBlci51cGRhdGVTbGlkZXMoKTtcblxuICAgICAgaWYgKHN3aXBlci5wYXJhbXMud2F0Y2hPdmVyZmxvdykge1xuICAgICAgICBzd2lwZXIuY2hlY2tPdmVyZmxvdygpO1xuICAgICAgfSAvLyBTZXQgR3JhYiBDdXJzb3JcblxuXG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy5ncmFiQ3Vyc29yICYmIHN3aXBlci5lbmFibGVkKSB7XG4gICAgICAgIHN3aXBlci5zZXRHcmFiQ3Vyc29yKCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLnByZWxvYWRJbWFnZXMpIHtcbiAgICAgICAgc3dpcGVyLnByZWxvYWRJbWFnZXMoKTtcbiAgICAgIH0gLy8gU2xpZGUgVG8gSW5pdGlhbCBTbGlkZVxuXG5cbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLmxvb3ApIHtcbiAgICAgICAgc3dpcGVyLnNsaWRlVG8oc3dpcGVyLnBhcmFtcy5pbml0aWFsU2xpZGUgKyBzd2lwZXIubG9vcGVkU2xpZGVzLCAwLCBzd2lwZXIucGFyYW1zLnJ1bkNhbGxiYWNrc09uSW5pdCwgZmFsc2UsIHRydWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3dpcGVyLnNsaWRlVG8oc3dpcGVyLnBhcmFtcy5pbml0aWFsU2xpZGUsIDAsIHN3aXBlci5wYXJhbXMucnVuQ2FsbGJhY2tzT25Jbml0LCBmYWxzZSwgdHJ1ZSk7XG4gICAgICB9IC8vIEF0dGFjaCBldmVudHNcblxuXG4gICAgICBzd2lwZXIuYXR0YWNoRXZlbnRzKCk7IC8vIEluaXQgRmxhZ1xuXG4gICAgICBzd2lwZXIuaW5pdGlhbGl6ZWQgPSB0cnVlOyAvLyBFbWl0XG5cbiAgICAgIHN3aXBlci5lbWl0KCdpbml0Jyk7XG4gICAgICBzd2lwZXIuZW1pdCgnYWZ0ZXJJbml0Jyk7XG4gICAgICByZXR1cm4gc3dpcGVyO1xuICAgIH07XG5cbiAgICBfcHJvdG8uZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koZGVsZXRlSW5zdGFuY2UsIGNsZWFuU3R5bGVzKSB7XG4gICAgICBpZiAoZGVsZXRlSW5zdGFuY2UgPT09IHZvaWQgMCkge1xuICAgICAgICBkZWxldGVJbnN0YW5jZSA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChjbGVhblN0eWxlcyA9PT0gdm9pZCAwKSB7XG4gICAgICAgIGNsZWFuU3R5bGVzID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgICB2YXIgcGFyYW1zID0gc3dpcGVyLnBhcmFtcyxcbiAgICAgICAgICAkZWwgPSBzd2lwZXIuJGVsLFxuICAgICAgICAgICR3cmFwcGVyRWwgPSBzd2lwZXIuJHdyYXBwZXJFbCxcbiAgICAgICAgICBzbGlkZXMgPSBzd2lwZXIuc2xpZGVzO1xuXG4gICAgICBpZiAodHlwZW9mIHN3aXBlci5wYXJhbXMgPT09ICd1bmRlZmluZWQnIHx8IHN3aXBlci5kZXN0cm95ZWQpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIHN3aXBlci5lbWl0KCdiZWZvcmVEZXN0cm95Jyk7IC8vIEluaXQgRmxhZ1xuXG4gICAgICBzd2lwZXIuaW5pdGlhbGl6ZWQgPSBmYWxzZTsgLy8gRGV0YWNoIGV2ZW50c1xuXG4gICAgICBzd2lwZXIuZGV0YWNoRXZlbnRzKCk7IC8vIERlc3Ryb3kgbG9vcFxuXG4gICAgICBpZiAocGFyYW1zLmxvb3ApIHtcbiAgICAgICAgc3dpcGVyLmxvb3BEZXN0cm95KCk7XG4gICAgICB9IC8vIENsZWFudXAgc3R5bGVzXG5cblxuICAgICAgaWYgKGNsZWFuU3R5bGVzKSB7XG4gICAgICAgIHN3aXBlci5yZW1vdmVDbGFzc2VzKCk7XG4gICAgICAgICRlbC5yZW1vdmVBdHRyKCdzdHlsZScpO1xuICAgICAgICAkd3JhcHBlckVsLnJlbW92ZUF0dHIoJ3N0eWxlJyk7XG5cbiAgICAgICAgaWYgKHNsaWRlcyAmJiBzbGlkZXMubGVuZ3RoKSB7XG4gICAgICAgICAgc2xpZGVzLnJlbW92ZUNsYXNzKFtwYXJhbXMuc2xpZGVWaXNpYmxlQ2xhc3MsIHBhcmFtcy5zbGlkZUFjdGl2ZUNsYXNzLCBwYXJhbXMuc2xpZGVOZXh0Q2xhc3MsIHBhcmFtcy5zbGlkZVByZXZDbGFzc10uam9pbignICcpKS5yZW1vdmVBdHRyKCdzdHlsZScpLnJlbW92ZUF0dHIoJ2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4Jyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgc3dpcGVyLmVtaXQoJ2Rlc3Ryb3knKTsgLy8gRGV0YWNoIGVtaXR0ZXIgZXZlbnRzXG5cbiAgICAgIE9iamVjdC5rZXlzKHN3aXBlci5ldmVudHNMaXN0ZW5lcnMpLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50TmFtZSkge1xuICAgICAgICBzd2lwZXIub2ZmKGV2ZW50TmFtZSk7XG4gICAgICB9KTtcblxuICAgICAgaWYgKGRlbGV0ZUluc3RhbmNlICE9PSBmYWxzZSkge1xuICAgICAgICBzd2lwZXIuJGVsWzBdLnN3aXBlciA9IG51bGw7XG4gICAgICAgIGRlbGV0ZVByb3BzKHN3aXBlcik7XG4gICAgICB9XG5cbiAgICAgIHN3aXBlci5kZXN0cm95ZWQgPSB0cnVlO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcblxuICAgIFN3aXBlci5leHRlbmREZWZhdWx0cyA9IGZ1bmN0aW9uIGV4dGVuZERlZmF1bHRzKG5ld0RlZmF1bHRzKSB7XG4gICAgICBleHRlbmQoZXh0ZW5kZWREZWZhdWx0cywgbmV3RGVmYXVsdHMpO1xuICAgIH07XG5cbiAgICBTd2lwZXIuaW5zdGFsbE1vZHVsZSA9IGZ1bmN0aW9uIGluc3RhbGxNb2R1bGUobW9kdWxlKSB7XG4gICAgICBpZiAoIVN3aXBlci5wcm90b3R5cGUubW9kdWxlcykgU3dpcGVyLnByb3RvdHlwZS5tb2R1bGVzID0ge307XG4gICAgICB2YXIgbmFtZSA9IG1vZHVsZS5uYW1lIHx8IE9iamVjdC5rZXlzKFN3aXBlci5wcm90b3R5cGUubW9kdWxlcykubGVuZ3RoICsgXCJfXCIgKyBub3coKTtcbiAgICAgIFN3aXBlci5wcm90b3R5cGUubW9kdWxlc1tuYW1lXSA9IG1vZHVsZTtcbiAgICB9O1xuXG4gICAgU3dpcGVyLnVzZSA9IGZ1bmN0aW9uIHVzZShtb2R1bGUpIHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KG1vZHVsZSkpIHtcbiAgICAgICAgbW9kdWxlLmZvckVhY2goZnVuY3Rpb24gKG0pIHtcbiAgICAgICAgICByZXR1cm4gU3dpcGVyLmluc3RhbGxNb2R1bGUobSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gU3dpcGVyO1xuICAgICAgfVxuXG4gICAgICBTd2lwZXIuaW5zdGFsbE1vZHVsZShtb2R1bGUpO1xuICAgICAgcmV0dXJuIFN3aXBlcjtcbiAgICB9O1xuXG4gICAgX2NyZWF0ZUNsYXNzKFN3aXBlciwgbnVsbCwgW3tcbiAgICAgIGtleTogXCJleHRlbmRlZERlZmF1bHRzXCIsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIGV4dGVuZGVkRGVmYXVsdHM7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcImRlZmF1bHRzXCIsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRzO1xuICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBTd2lwZXI7XG4gIH0oKTtcblxuICBPYmplY3Qua2V5cyhwcm90b3R5cGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChwcm90b3R5cGVHcm91cCkge1xuICAgIE9iamVjdC5rZXlzKHByb3RvdHlwZXNbcHJvdG90eXBlR3JvdXBdKS5mb3JFYWNoKGZ1bmN0aW9uIChwcm90b01ldGhvZCkge1xuICAgICAgU3dpcGVyLnByb3RvdHlwZVtwcm90b01ldGhvZF0gPSBwcm90b3R5cGVzW3Byb3RvdHlwZUdyb3VwXVtwcm90b01ldGhvZF07XG4gICAgfSk7XG4gIH0pO1xuICBTd2lwZXIudXNlKFtSZXNpemUsIE9ic2VydmVyJDFdKTtcblxuICB2YXIgVmlydHVhbCA9IHtcbiAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZShmb3JjZSkge1xuICAgICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgICB2YXIgX3N3aXBlciRwYXJhbXMgPSBzd2lwZXIucGFyYW1zLFxuICAgICAgICAgIHNsaWRlc1BlclZpZXcgPSBfc3dpcGVyJHBhcmFtcy5zbGlkZXNQZXJWaWV3LFxuICAgICAgICAgIHNsaWRlc1Blckdyb3VwID0gX3N3aXBlciRwYXJhbXMuc2xpZGVzUGVyR3JvdXAsXG4gICAgICAgICAgY2VudGVyZWRTbGlkZXMgPSBfc3dpcGVyJHBhcmFtcy5jZW50ZXJlZFNsaWRlcztcbiAgICAgIHZhciBfc3dpcGVyJHBhcmFtcyR2aXJ0dWEgPSBzd2lwZXIucGFyYW1zLnZpcnR1YWwsXG4gICAgICAgICAgYWRkU2xpZGVzQmVmb3JlID0gX3N3aXBlciRwYXJhbXMkdmlydHVhLmFkZFNsaWRlc0JlZm9yZSxcbiAgICAgICAgICBhZGRTbGlkZXNBZnRlciA9IF9zd2lwZXIkcGFyYW1zJHZpcnR1YS5hZGRTbGlkZXNBZnRlcjtcbiAgICAgIHZhciBfc3dpcGVyJHZpcnR1YWwgPSBzd2lwZXIudmlydHVhbCxcbiAgICAgICAgICBwcmV2aW91c0Zyb20gPSBfc3dpcGVyJHZpcnR1YWwuZnJvbSxcbiAgICAgICAgICBwcmV2aW91c1RvID0gX3N3aXBlciR2aXJ0dWFsLnRvLFxuICAgICAgICAgIHNsaWRlcyA9IF9zd2lwZXIkdmlydHVhbC5zbGlkZXMsXG4gICAgICAgICAgcHJldmlvdXNTbGlkZXNHcmlkID0gX3N3aXBlciR2aXJ0dWFsLnNsaWRlc0dyaWQsXG4gICAgICAgICAgcmVuZGVyU2xpZGUgPSBfc3dpcGVyJHZpcnR1YWwucmVuZGVyU2xpZGUsXG4gICAgICAgICAgcHJldmlvdXNPZmZzZXQgPSBfc3dpcGVyJHZpcnR1YWwub2Zmc2V0O1xuICAgICAgc3dpcGVyLnVwZGF0ZUFjdGl2ZUluZGV4KCk7XG4gICAgICB2YXIgYWN0aXZlSW5kZXggPSBzd2lwZXIuYWN0aXZlSW5kZXggfHwgMDtcbiAgICAgIHZhciBvZmZzZXRQcm9wO1xuICAgICAgaWYgKHN3aXBlci5ydGxUcmFuc2xhdGUpIG9mZnNldFByb3AgPSAncmlnaHQnO2Vsc2Ugb2Zmc2V0UHJvcCA9IHN3aXBlci5pc0hvcml6b250YWwoKSA/ICdsZWZ0JyA6ICd0b3AnO1xuICAgICAgdmFyIHNsaWRlc0FmdGVyO1xuICAgICAgdmFyIHNsaWRlc0JlZm9yZTtcblxuICAgICAgaWYgKGNlbnRlcmVkU2xpZGVzKSB7XG4gICAgICAgIHNsaWRlc0FmdGVyID0gTWF0aC5mbG9vcihzbGlkZXNQZXJWaWV3IC8gMikgKyBzbGlkZXNQZXJHcm91cCArIGFkZFNsaWRlc0FmdGVyO1xuICAgICAgICBzbGlkZXNCZWZvcmUgPSBNYXRoLmZsb29yKHNsaWRlc1BlclZpZXcgLyAyKSArIHNsaWRlc1Blckdyb3VwICsgYWRkU2xpZGVzQmVmb3JlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2xpZGVzQWZ0ZXIgPSBzbGlkZXNQZXJWaWV3ICsgKHNsaWRlc1Blckdyb3VwIC0gMSkgKyBhZGRTbGlkZXNBZnRlcjtcbiAgICAgICAgc2xpZGVzQmVmb3JlID0gc2xpZGVzUGVyR3JvdXAgKyBhZGRTbGlkZXNCZWZvcmU7XG4gICAgICB9XG5cbiAgICAgIHZhciBmcm9tID0gTWF0aC5tYXgoKGFjdGl2ZUluZGV4IHx8IDApIC0gc2xpZGVzQmVmb3JlLCAwKTtcbiAgICAgIHZhciB0byA9IE1hdGgubWluKChhY3RpdmVJbmRleCB8fCAwKSArIHNsaWRlc0FmdGVyLCBzbGlkZXMubGVuZ3RoIC0gMSk7XG4gICAgICB2YXIgb2Zmc2V0ID0gKHN3aXBlci5zbGlkZXNHcmlkW2Zyb21dIHx8IDApIC0gKHN3aXBlci5zbGlkZXNHcmlkWzBdIHx8IDApO1xuICAgICAgZXh0ZW5kKHN3aXBlci52aXJ0dWFsLCB7XG4gICAgICAgIGZyb206IGZyb20sXG4gICAgICAgIHRvOiB0byxcbiAgICAgICAgb2Zmc2V0OiBvZmZzZXQsXG4gICAgICAgIHNsaWRlc0dyaWQ6IHN3aXBlci5zbGlkZXNHcmlkXG4gICAgICB9KTtcblxuICAgICAgZnVuY3Rpb24gb25SZW5kZXJlZCgpIHtcbiAgICAgICAgc3dpcGVyLnVwZGF0ZVNsaWRlcygpO1xuICAgICAgICBzd2lwZXIudXBkYXRlUHJvZ3Jlc3MoKTtcbiAgICAgICAgc3dpcGVyLnVwZGF0ZVNsaWRlc0NsYXNzZXMoKTtcblxuICAgICAgICBpZiAoc3dpcGVyLmxhenkgJiYgc3dpcGVyLnBhcmFtcy5sYXp5LmVuYWJsZWQpIHtcbiAgICAgICAgICBzd2lwZXIubGF6eS5sb2FkKCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHByZXZpb3VzRnJvbSA9PT0gZnJvbSAmJiBwcmV2aW91c1RvID09PSB0byAmJiAhZm9yY2UpIHtcbiAgICAgICAgaWYgKHN3aXBlci5zbGlkZXNHcmlkICE9PSBwcmV2aW91c1NsaWRlc0dyaWQgJiYgb2Zmc2V0ICE9PSBwcmV2aW91c09mZnNldCkge1xuICAgICAgICAgIHN3aXBlci5zbGlkZXMuY3NzKG9mZnNldFByb3AsIG9mZnNldCArIFwicHhcIik7XG4gICAgICAgIH1cblxuICAgICAgICBzd2lwZXIudXBkYXRlUHJvZ3Jlc3MoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy52aXJ0dWFsLnJlbmRlckV4dGVybmFsKSB7XG4gICAgICAgIHN3aXBlci5wYXJhbXMudmlydHVhbC5yZW5kZXJFeHRlcm5hbC5jYWxsKHN3aXBlciwge1xuICAgICAgICAgIG9mZnNldDogb2Zmc2V0LFxuICAgICAgICAgIGZyb206IGZyb20sXG4gICAgICAgICAgdG86IHRvLFxuICAgICAgICAgIHNsaWRlczogZnVuY3Rpb24gZ2V0U2xpZGVzKCkge1xuICAgICAgICAgICAgdmFyIHNsaWRlc1RvUmVuZGVyID0gW107XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSBmcm9tOyBpIDw9IHRvOyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgc2xpZGVzVG9SZW5kZXIucHVzaChzbGlkZXNbaV0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gc2xpZGVzVG9SZW5kZXI7XG4gICAgICAgICAgfSgpXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChzd2lwZXIucGFyYW1zLnZpcnR1YWwucmVuZGVyRXh0ZXJuYWxVcGRhdGUpIHtcbiAgICAgICAgICBvblJlbmRlcmVkKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBwcmVwZW5kSW5kZXhlcyA9IFtdO1xuICAgICAgdmFyIGFwcGVuZEluZGV4ZXMgPSBbXTtcblxuICAgICAgaWYgKGZvcmNlKSB7XG4gICAgICAgIHN3aXBlci4kd3JhcHBlckVsLmZpbmQoXCIuXCIgKyBzd2lwZXIucGFyYW1zLnNsaWRlQ2xhc3MpLnJlbW92ZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IHByZXZpb3VzRnJvbTsgaSA8PSBwcmV2aW91c1RvOyBpICs9IDEpIHtcbiAgICAgICAgICBpZiAoaSA8IGZyb20gfHwgaSA+IHRvKSB7XG4gICAgICAgICAgICBzd2lwZXIuJHdyYXBwZXJFbC5maW5kKFwiLlwiICsgc3dpcGVyLnBhcmFtcy5zbGlkZUNsYXNzICsgXCJbZGF0YS1zd2lwZXItc2xpZGUtaW5kZXg9XFxcIlwiICsgaSArIFwiXFxcIl1cIikucmVtb3ZlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBzbGlkZXMubGVuZ3RoOyBfaSArPSAxKSB7XG4gICAgICAgIGlmIChfaSA+PSBmcm9tICYmIF9pIDw9IHRvKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBwcmV2aW91c1RvID09PSAndW5kZWZpbmVkJyB8fCBmb3JjZSkge1xuICAgICAgICAgICAgYXBwZW5kSW5kZXhlcy5wdXNoKF9pKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKF9pID4gcHJldmlvdXNUbykgYXBwZW5kSW5kZXhlcy5wdXNoKF9pKTtcbiAgICAgICAgICAgIGlmIChfaSA8IHByZXZpb3VzRnJvbSkgcHJlcGVuZEluZGV4ZXMucHVzaChfaSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGFwcGVuZEluZGV4ZXMuZm9yRWFjaChmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgc3dpcGVyLiR3cmFwcGVyRWwuYXBwZW5kKHJlbmRlclNsaWRlKHNsaWRlc1tpbmRleF0sIGluZGV4KSk7XG4gICAgICB9KTtcbiAgICAgIHByZXBlbmRJbmRleGVzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIGIgLSBhO1xuICAgICAgfSkuZm9yRWFjaChmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgc3dpcGVyLiR3cmFwcGVyRWwucHJlcGVuZChyZW5kZXJTbGlkZShzbGlkZXNbaW5kZXhdLCBpbmRleCkpO1xuICAgICAgfSk7XG4gICAgICBzd2lwZXIuJHdyYXBwZXJFbC5jaGlsZHJlbignLnN3aXBlci1zbGlkZScpLmNzcyhvZmZzZXRQcm9wLCBvZmZzZXQgKyBcInB4XCIpO1xuICAgICAgb25SZW5kZXJlZCgpO1xuICAgIH0sXG4gICAgcmVuZGVyU2xpZGU6IGZ1bmN0aW9uIHJlbmRlclNsaWRlKHNsaWRlLCBpbmRleCkge1xuICAgICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgICB2YXIgcGFyYW1zID0gc3dpcGVyLnBhcmFtcy52aXJ0dWFsO1xuXG4gICAgICBpZiAocGFyYW1zLmNhY2hlICYmIHN3aXBlci52aXJ0dWFsLmNhY2hlW2luZGV4XSkge1xuICAgICAgICByZXR1cm4gc3dpcGVyLnZpcnR1YWwuY2FjaGVbaW5kZXhdO1xuICAgICAgfVxuXG4gICAgICB2YXIgJHNsaWRlRWwgPSBwYXJhbXMucmVuZGVyU2xpZGUgPyAkKHBhcmFtcy5yZW5kZXJTbGlkZS5jYWxsKHN3aXBlciwgc2xpZGUsIGluZGV4KSkgOiAkKFwiPGRpdiBjbGFzcz1cXFwiXCIgKyBzd2lwZXIucGFyYW1zLnNsaWRlQ2xhc3MgKyBcIlxcXCIgZGF0YS1zd2lwZXItc2xpZGUtaW5kZXg9XFxcIlwiICsgaW5kZXggKyBcIlxcXCI+XCIgKyBzbGlkZSArIFwiPC9kaXY+XCIpO1xuICAgICAgaWYgKCEkc2xpZGVFbC5hdHRyKCdkYXRhLXN3aXBlci1zbGlkZS1pbmRleCcpKSAkc2xpZGVFbC5hdHRyKCdkYXRhLXN3aXBlci1zbGlkZS1pbmRleCcsIGluZGV4KTtcbiAgICAgIGlmIChwYXJhbXMuY2FjaGUpIHN3aXBlci52aXJ0dWFsLmNhY2hlW2luZGV4XSA9ICRzbGlkZUVsO1xuICAgICAgcmV0dXJuICRzbGlkZUVsO1xuICAgIH0sXG4gICAgYXBwZW5kU2xpZGU6IGZ1bmN0aW9uIGFwcGVuZFNsaWRlKHNsaWRlcykge1xuICAgICAgdmFyIHN3aXBlciA9IHRoaXM7XG5cbiAgICAgIGlmICh0eXBlb2Ygc2xpZGVzID09PSAnb2JqZWN0JyAmJiAnbGVuZ3RoJyBpbiBzbGlkZXMpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzbGlkZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICBpZiAoc2xpZGVzW2ldKSBzd2lwZXIudmlydHVhbC5zbGlkZXMucHVzaChzbGlkZXNbaV0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzd2lwZXIudmlydHVhbC5zbGlkZXMucHVzaChzbGlkZXMpO1xuICAgICAgfVxuXG4gICAgICBzd2lwZXIudmlydHVhbC51cGRhdGUodHJ1ZSk7XG4gICAgfSxcbiAgICBwcmVwZW5kU2xpZGU6IGZ1bmN0aW9uIHByZXBlbmRTbGlkZShzbGlkZXMpIHtcbiAgICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgICAgdmFyIGFjdGl2ZUluZGV4ID0gc3dpcGVyLmFjdGl2ZUluZGV4O1xuICAgICAgdmFyIG5ld0FjdGl2ZUluZGV4ID0gYWN0aXZlSW5kZXggKyAxO1xuICAgICAgdmFyIG51bWJlck9mTmV3U2xpZGVzID0gMTtcblxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoc2xpZGVzKSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNsaWRlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgIGlmIChzbGlkZXNbaV0pIHN3aXBlci52aXJ0dWFsLnNsaWRlcy51bnNoaWZ0KHNsaWRlc1tpXSk7XG4gICAgICAgIH1cblxuICAgICAgICBuZXdBY3RpdmVJbmRleCA9IGFjdGl2ZUluZGV4ICsgc2xpZGVzLmxlbmd0aDtcbiAgICAgICAgbnVtYmVyT2ZOZXdTbGlkZXMgPSBzbGlkZXMubGVuZ3RoO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3dpcGVyLnZpcnR1YWwuc2xpZGVzLnVuc2hpZnQoc2xpZGVzKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHN3aXBlci5wYXJhbXMudmlydHVhbC5jYWNoZSkge1xuICAgICAgICB2YXIgY2FjaGUgPSBzd2lwZXIudmlydHVhbC5jYWNoZTtcbiAgICAgICAgdmFyIG5ld0NhY2hlID0ge307XG4gICAgICAgIE9iamVjdC5rZXlzKGNhY2hlKS5mb3JFYWNoKGZ1bmN0aW9uIChjYWNoZWRJbmRleCkge1xuICAgICAgICAgIHZhciAkY2FjaGVkRWwgPSBjYWNoZVtjYWNoZWRJbmRleF07XG4gICAgICAgICAgdmFyIGNhY2hlZEVsSW5kZXggPSAkY2FjaGVkRWwuYXR0cignZGF0YS1zd2lwZXItc2xpZGUtaW5kZXgnKTtcblxuICAgICAgICAgIGlmIChjYWNoZWRFbEluZGV4KSB7XG4gICAgICAgICAgICAkY2FjaGVkRWwuYXR0cignZGF0YS1zd2lwZXItc2xpZGUtaW5kZXgnLCBwYXJzZUludChjYWNoZWRFbEluZGV4LCAxMCkgKyAxKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBuZXdDYWNoZVtwYXJzZUludChjYWNoZWRJbmRleCwgMTApICsgbnVtYmVyT2ZOZXdTbGlkZXNdID0gJGNhY2hlZEVsO1xuICAgICAgICB9KTtcbiAgICAgICAgc3dpcGVyLnZpcnR1YWwuY2FjaGUgPSBuZXdDYWNoZTtcbiAgICAgIH1cblxuICAgICAgc3dpcGVyLnZpcnR1YWwudXBkYXRlKHRydWUpO1xuICAgICAgc3dpcGVyLnNsaWRlVG8obmV3QWN0aXZlSW5kZXgsIDApO1xuICAgIH0sXG4gICAgcmVtb3ZlU2xpZGU6IGZ1bmN0aW9uIHJlbW92ZVNsaWRlKHNsaWRlc0luZGV4ZXMpIHtcbiAgICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgICAgaWYgKHR5cGVvZiBzbGlkZXNJbmRleGVzID09PSAndW5kZWZpbmVkJyB8fCBzbGlkZXNJbmRleGVzID09PSBudWxsKSByZXR1cm47XG4gICAgICB2YXIgYWN0aXZlSW5kZXggPSBzd2lwZXIuYWN0aXZlSW5kZXg7XG5cbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHNsaWRlc0luZGV4ZXMpKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSBzbGlkZXNJbmRleGVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaSAtPSAxKSB7XG4gICAgICAgICAgc3dpcGVyLnZpcnR1YWwuc2xpZGVzLnNwbGljZShzbGlkZXNJbmRleGVzW2ldLCAxKTtcblxuICAgICAgICAgIGlmIChzd2lwZXIucGFyYW1zLnZpcnR1YWwuY2FjaGUpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBzd2lwZXIudmlydHVhbC5jYWNoZVtzbGlkZXNJbmRleGVzW2ldXTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoc2xpZGVzSW5kZXhlc1tpXSA8IGFjdGl2ZUluZGV4KSBhY3RpdmVJbmRleCAtPSAxO1xuICAgICAgICAgIGFjdGl2ZUluZGV4ID0gTWF0aC5tYXgoYWN0aXZlSW5kZXgsIDApO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzd2lwZXIudmlydHVhbC5zbGlkZXMuc3BsaWNlKHNsaWRlc0luZGV4ZXMsIDEpO1xuXG4gICAgICAgIGlmIChzd2lwZXIucGFyYW1zLnZpcnR1YWwuY2FjaGUpIHtcbiAgICAgICAgICBkZWxldGUgc3dpcGVyLnZpcnR1YWwuY2FjaGVbc2xpZGVzSW5kZXhlc107XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2xpZGVzSW5kZXhlcyA8IGFjdGl2ZUluZGV4KSBhY3RpdmVJbmRleCAtPSAxO1xuICAgICAgICBhY3RpdmVJbmRleCA9IE1hdGgubWF4KGFjdGl2ZUluZGV4LCAwKTtcbiAgICAgIH1cblxuICAgICAgc3dpcGVyLnZpcnR1YWwudXBkYXRlKHRydWUpO1xuICAgICAgc3dpcGVyLnNsaWRlVG8oYWN0aXZlSW5kZXgsIDApO1xuICAgIH0sXG4gICAgcmVtb3ZlQWxsU2xpZGVzOiBmdW5jdGlvbiByZW1vdmVBbGxTbGlkZXMoKSB7XG4gICAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICAgIHN3aXBlci52aXJ0dWFsLnNsaWRlcyA9IFtdO1xuXG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy52aXJ0dWFsLmNhY2hlKSB7XG4gICAgICAgIHN3aXBlci52aXJ0dWFsLmNhY2hlID0ge307XG4gICAgICB9XG5cbiAgICAgIHN3aXBlci52aXJ0dWFsLnVwZGF0ZSh0cnVlKTtcbiAgICAgIHN3aXBlci5zbGlkZVRvKDAsIDApO1xuICAgIH1cbiAgfTtcbiAgdmFyIFZpcnR1YWwkMSA9IHtcbiAgICBuYW1lOiAndmlydHVhbCcsXG4gICAgcGFyYW1zOiB7XG4gICAgICB2aXJ0dWFsOiB7XG4gICAgICAgIGVuYWJsZWQ6IGZhbHNlLFxuICAgICAgICBzbGlkZXM6IFtdLFxuICAgICAgICBjYWNoZTogdHJ1ZSxcbiAgICAgICAgcmVuZGVyU2xpZGU6IG51bGwsXG4gICAgICAgIHJlbmRlckV4dGVybmFsOiBudWxsLFxuICAgICAgICByZW5kZXJFeHRlcm5hbFVwZGF0ZTogdHJ1ZSxcbiAgICAgICAgYWRkU2xpZGVzQmVmb3JlOiAwLFxuICAgICAgICBhZGRTbGlkZXNBZnRlcjogMFxuICAgICAgfVxuICAgIH0sXG4gICAgY3JlYXRlOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gICAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICAgIGJpbmRNb2R1bGVNZXRob2RzKHN3aXBlciwge1xuICAgICAgICB2aXJ0dWFsOiBfZXh0ZW5kcyh7fSwgVmlydHVhbCwge1xuICAgICAgICAgIHNsaWRlczogc3dpcGVyLnBhcmFtcy52aXJ0dWFsLnNsaWRlcyxcbiAgICAgICAgICBjYWNoZToge31cbiAgICAgICAgfSlcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgb246IHtcbiAgICAgIGJlZm9yZUluaXQ6IGZ1bmN0aW9uIGJlZm9yZUluaXQoc3dpcGVyKSB7XG4gICAgICAgIGlmICghc3dpcGVyLnBhcmFtcy52aXJ0dWFsLmVuYWJsZWQpIHJldHVybjtcbiAgICAgICAgc3dpcGVyLmNsYXNzTmFtZXMucHVzaChzd2lwZXIucGFyYW1zLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3MgKyBcInZpcnR1YWxcIik7XG4gICAgICAgIHZhciBvdmVyd3JpdGVQYXJhbXMgPSB7XG4gICAgICAgICAgd2F0Y2hTbGlkZXNQcm9ncmVzczogdHJ1ZVxuICAgICAgICB9O1xuICAgICAgICBleHRlbmQoc3dpcGVyLnBhcmFtcywgb3ZlcndyaXRlUGFyYW1zKTtcbiAgICAgICAgZXh0ZW5kKHN3aXBlci5vcmlnaW5hbFBhcmFtcywgb3ZlcndyaXRlUGFyYW1zKTtcblxuICAgICAgICBpZiAoIXN3aXBlci5wYXJhbXMuaW5pdGlhbFNsaWRlKSB7XG4gICAgICAgICAgc3dpcGVyLnZpcnR1YWwudXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBzZXRUcmFuc2xhdGU6IGZ1bmN0aW9uIHNldFRyYW5zbGF0ZShzd2lwZXIpIHtcbiAgICAgICAgaWYgKCFzd2lwZXIucGFyYW1zLnZpcnR1YWwuZW5hYmxlZCkgcmV0dXJuO1xuICAgICAgICBzd2lwZXIudmlydHVhbC51cGRhdGUoKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgdmFyIEtleWJvYXJkID0ge1xuICAgIGhhbmRsZTogZnVuY3Rpb24gaGFuZGxlKGV2ZW50KSB7XG4gICAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICAgIGlmICghc3dpcGVyLmVuYWJsZWQpIHJldHVybjtcbiAgICAgIHZhciB3aW5kb3cgPSBnZXRXaW5kb3coKTtcbiAgICAgIHZhciBkb2N1bWVudCA9IGdldERvY3VtZW50KCk7XG4gICAgICB2YXIgcnRsID0gc3dpcGVyLnJ0bFRyYW5zbGF0ZTtcbiAgICAgIHZhciBlID0gZXZlbnQ7XG4gICAgICBpZiAoZS5vcmlnaW5hbEV2ZW50KSBlID0gZS5vcmlnaW5hbEV2ZW50OyAvLyBqcXVlcnkgZml4XG5cbiAgICAgIHZhciBrYyA9IGUua2V5Q29kZSB8fCBlLmNoYXJDb2RlO1xuICAgICAgdmFyIHBhZ2VVcERvd24gPSBzd2lwZXIucGFyYW1zLmtleWJvYXJkLnBhZ2VVcERvd247XG4gICAgICB2YXIgaXNQYWdlVXAgPSBwYWdlVXBEb3duICYmIGtjID09PSAzMztcbiAgICAgIHZhciBpc1BhZ2VEb3duID0gcGFnZVVwRG93biAmJiBrYyA9PT0gMzQ7XG4gICAgICB2YXIgaXNBcnJvd0xlZnQgPSBrYyA9PT0gMzc7XG4gICAgICB2YXIgaXNBcnJvd1JpZ2h0ID0ga2MgPT09IDM5O1xuICAgICAgdmFyIGlzQXJyb3dVcCA9IGtjID09PSAzODtcbiAgICAgIHZhciBpc0Fycm93RG93biA9IGtjID09PSA0MDsgLy8gRGlyZWN0aW9ucyBsb2Nrc1xuXG4gICAgICBpZiAoIXN3aXBlci5hbGxvd1NsaWRlTmV4dCAmJiAoc3dpcGVyLmlzSG9yaXpvbnRhbCgpICYmIGlzQXJyb3dSaWdodCB8fCBzd2lwZXIuaXNWZXJ0aWNhbCgpICYmIGlzQXJyb3dEb3duIHx8IGlzUGFnZURvd24pKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFzd2lwZXIuYWxsb3dTbGlkZVByZXYgJiYgKHN3aXBlci5pc0hvcml6b250YWwoKSAmJiBpc0Fycm93TGVmdCB8fCBzd2lwZXIuaXNWZXJ0aWNhbCgpICYmIGlzQXJyb3dVcCB8fCBpc1BhZ2VVcCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBpZiAoZS5zaGlmdEtleSB8fCBlLmFsdEtleSB8fCBlLmN0cmxLZXkgfHwgZS5tZXRhS2V5KSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIGlmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50ICYmIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQubm9kZU5hbWUgJiYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ2lucHV0JyB8fCBkb2N1bWVudC5hY3RpdmVFbGVtZW50Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICd0ZXh0YXJlYScpKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLmtleWJvYXJkLm9ubHlJblZpZXdwb3J0ICYmIChpc1BhZ2VVcCB8fCBpc1BhZ2VEb3duIHx8IGlzQXJyb3dMZWZ0IHx8IGlzQXJyb3dSaWdodCB8fCBpc0Fycm93VXAgfHwgaXNBcnJvd0Rvd24pKSB7XG4gICAgICAgIHZhciBpblZpZXcgPSBmYWxzZTsgLy8gQ2hlY2sgdGhhdCBzd2lwZXIgc2hvdWxkIGJlIGluc2lkZSBvZiB2aXNpYmxlIGFyZWEgb2Ygd2luZG93XG5cbiAgICAgICAgaWYgKHN3aXBlci4kZWwucGFyZW50cyhcIi5cIiArIHN3aXBlci5wYXJhbXMuc2xpZGVDbGFzcykubGVuZ3RoID4gMCAmJiBzd2lwZXIuJGVsLnBhcmVudHMoXCIuXCIgKyBzd2lwZXIucGFyYW1zLnNsaWRlQWN0aXZlQ2xhc3MpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgJGVsID0gc3dpcGVyLiRlbDtcbiAgICAgICAgdmFyIHN3aXBlcldpZHRoID0gJGVsWzBdLmNsaWVudFdpZHRoO1xuICAgICAgICB2YXIgc3dpcGVySGVpZ2h0ID0gJGVsWzBdLmNsaWVudEhlaWdodDtcbiAgICAgICAgdmFyIHdpbmRvd1dpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgICAgIHZhciB3aW5kb3dIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICAgIHZhciBzd2lwZXJPZmZzZXQgPSBzd2lwZXIuJGVsLm9mZnNldCgpO1xuICAgICAgICBpZiAocnRsKSBzd2lwZXJPZmZzZXQubGVmdCAtPSBzd2lwZXIuJGVsWzBdLnNjcm9sbExlZnQ7XG4gICAgICAgIHZhciBzd2lwZXJDb29yZCA9IFtbc3dpcGVyT2Zmc2V0LmxlZnQsIHN3aXBlck9mZnNldC50b3BdLCBbc3dpcGVyT2Zmc2V0LmxlZnQgKyBzd2lwZXJXaWR0aCwgc3dpcGVyT2Zmc2V0LnRvcF0sIFtzd2lwZXJPZmZzZXQubGVmdCwgc3dpcGVyT2Zmc2V0LnRvcCArIHN3aXBlckhlaWdodF0sIFtzd2lwZXJPZmZzZXQubGVmdCArIHN3aXBlcldpZHRoLCBzd2lwZXJPZmZzZXQudG9wICsgc3dpcGVySGVpZ2h0XV07XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzd2lwZXJDb29yZC5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgIHZhciBwb2ludCA9IHN3aXBlckNvb3JkW2ldO1xuXG4gICAgICAgICAgaWYgKHBvaW50WzBdID49IDAgJiYgcG9pbnRbMF0gPD0gd2luZG93V2lkdGggJiYgcG9pbnRbMV0gPj0gMCAmJiBwb2ludFsxXSA8PSB3aW5kb3dIZWlnaHQpIHtcbiAgICAgICAgICAgIGlmIChwb2ludFswXSA9PT0gMCAmJiBwb2ludFsxXSA9PT0gMCkgY29udGludWU7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcblxuICAgICAgICAgICAgaW5WaWV3ID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWluVmlldykgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgaWYgKHN3aXBlci5pc0hvcml6b250YWwoKSkge1xuICAgICAgICBpZiAoaXNQYWdlVXAgfHwgaXNQYWdlRG93biB8fCBpc0Fycm93TGVmdCB8fCBpc0Fycm93UmlnaHQpIHtcbiAgICAgICAgICBpZiAoZS5wcmV2ZW50RGVmYXVsdCkgZS5wcmV2ZW50RGVmYXVsdCgpO2Vsc2UgZS5yZXR1cm5WYWx1ZSA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKChpc1BhZ2VEb3duIHx8IGlzQXJyb3dSaWdodCkgJiYgIXJ0bCB8fCAoaXNQYWdlVXAgfHwgaXNBcnJvd0xlZnQpICYmIHJ0bCkgc3dpcGVyLnNsaWRlTmV4dCgpO1xuICAgICAgICBpZiAoKGlzUGFnZVVwIHx8IGlzQXJyb3dMZWZ0KSAmJiAhcnRsIHx8IChpc1BhZ2VEb3duIHx8IGlzQXJyb3dSaWdodCkgJiYgcnRsKSBzd2lwZXIuc2xpZGVQcmV2KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoaXNQYWdlVXAgfHwgaXNQYWdlRG93biB8fCBpc0Fycm93VXAgfHwgaXNBcnJvd0Rvd24pIHtcbiAgICAgICAgICBpZiAoZS5wcmV2ZW50RGVmYXVsdCkgZS5wcmV2ZW50RGVmYXVsdCgpO2Vsc2UgZS5yZXR1cm5WYWx1ZSA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzUGFnZURvd24gfHwgaXNBcnJvd0Rvd24pIHN3aXBlci5zbGlkZU5leHQoKTtcbiAgICAgICAgaWYgKGlzUGFnZVVwIHx8IGlzQXJyb3dVcCkgc3dpcGVyLnNsaWRlUHJldigpO1xuICAgICAgfVxuXG4gICAgICBzd2lwZXIuZW1pdCgna2V5UHJlc3MnLCBrYyk7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0sXG4gICAgZW5hYmxlOiBmdW5jdGlvbiBlbmFibGUoKSB7XG4gICAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICAgIHZhciBkb2N1bWVudCA9IGdldERvY3VtZW50KCk7XG4gICAgICBpZiAoc3dpcGVyLmtleWJvYXJkLmVuYWJsZWQpIHJldHVybjtcbiAgICAgICQoZG9jdW1lbnQpLm9uKCdrZXlkb3duJywgc3dpcGVyLmtleWJvYXJkLmhhbmRsZSk7XG4gICAgICBzd2lwZXIua2V5Ym9hcmQuZW5hYmxlZCA9IHRydWU7XG4gICAgfSxcbiAgICBkaXNhYmxlOiBmdW5jdGlvbiBkaXNhYmxlKCkge1xuICAgICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgICB2YXIgZG9jdW1lbnQgPSBnZXREb2N1bWVudCgpO1xuICAgICAgaWYgKCFzd2lwZXIua2V5Ym9hcmQuZW5hYmxlZCkgcmV0dXJuO1xuICAgICAgJChkb2N1bWVudCkub2ZmKCdrZXlkb3duJywgc3dpcGVyLmtleWJvYXJkLmhhbmRsZSk7XG4gICAgICBzd2lwZXIua2V5Ym9hcmQuZW5hYmxlZCA9IGZhbHNlO1xuICAgIH1cbiAgfTtcbiAgdmFyIEtleWJvYXJkJDEgPSB7XG4gICAgbmFtZTogJ2tleWJvYXJkJyxcbiAgICBwYXJhbXM6IHtcbiAgICAgIGtleWJvYXJkOiB7XG4gICAgICAgIGVuYWJsZWQ6IGZhbHNlLFxuICAgICAgICBvbmx5SW5WaWV3cG9ydDogdHJ1ZSxcbiAgICAgICAgcGFnZVVwRG93bjogdHJ1ZVxuICAgICAgfVxuICAgIH0sXG4gICAgY3JlYXRlOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gICAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICAgIGJpbmRNb2R1bGVNZXRob2RzKHN3aXBlciwge1xuICAgICAgICBrZXlib2FyZDogX2V4dGVuZHMoe1xuICAgICAgICAgIGVuYWJsZWQ6IGZhbHNlXG4gICAgICAgIH0sIEtleWJvYXJkKVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBvbjoge1xuICAgICAgaW5pdDogZnVuY3Rpb24gaW5pdChzd2lwZXIpIHtcbiAgICAgICAgaWYgKHN3aXBlci5wYXJhbXMua2V5Ym9hcmQuZW5hYmxlZCkge1xuICAgICAgICAgIHN3aXBlci5rZXlib2FyZC5lbmFibGUoKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koc3dpcGVyKSB7XG4gICAgICAgIGlmIChzd2lwZXIua2V5Ym9hcmQuZW5hYmxlZCkge1xuICAgICAgICAgIHN3aXBlci5rZXlib2FyZC5kaXNhYmxlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLyogZXNsaW50LWRpc2FibGUgY29uc2lzdGVudC1yZXR1cm4gKi9cblxuICBmdW5jdGlvbiBpc0V2ZW50U3VwcG9ydGVkKCkge1xuICAgIHZhciBkb2N1bWVudCA9IGdldERvY3VtZW50KCk7XG4gICAgdmFyIGV2ZW50TmFtZSA9ICdvbndoZWVsJztcbiAgICB2YXIgaXNTdXBwb3J0ZWQgPSAoZXZlbnROYW1lIGluIGRvY3VtZW50KTtcblxuICAgIGlmICghaXNTdXBwb3J0ZWQpIHtcbiAgICAgIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShldmVudE5hbWUsICdyZXR1cm47Jyk7XG4gICAgICBpc1N1cHBvcnRlZCA9IHR5cGVvZiBlbGVtZW50W2V2ZW50TmFtZV0gPT09ICdmdW5jdGlvbic7XG4gICAgfVxuXG4gICAgaWYgKCFpc1N1cHBvcnRlZCAmJiBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbiAmJiBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5oYXNGZWF0dXJlICYmIC8vIGFsd2F5cyByZXR1cm5zIHRydWUgaW4gbmV3ZXIgYnJvd3NlcnMgYXMgcGVyIHRoZSBzdGFuZGFyZC5cbiAgICAvLyBAc2VlIGh0dHA6Ly9kb20uc3BlYy53aGF0d2cub3JnLyNkb20tZG9taW1wbGVtZW50YXRpb24taGFzZmVhdHVyZVxuICAgIGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmhhc0ZlYXR1cmUoJycsICcnKSAhPT0gdHJ1ZSkge1xuICAgICAgLy8gVGhpcyBpcyB0aGUgb25seSB3YXkgdG8gdGVzdCBzdXBwb3J0IGZvciB0aGUgYHdoZWVsYCBldmVudCBpbiBJRTkrLlxuICAgICAgaXNTdXBwb3J0ZWQgPSBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5oYXNGZWF0dXJlKCdFdmVudHMud2hlZWwnLCAnMy4wJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGlzU3VwcG9ydGVkO1xuICB9XG5cbiAgdmFyIE1vdXNld2hlZWwgPSB7XG4gICAgbGFzdFNjcm9sbFRpbWU6IG5vdygpLFxuICAgIGxhc3RFdmVudEJlZm9yZVNuYXA6IHVuZGVmaW5lZCxcbiAgICByZWNlbnRXaGVlbEV2ZW50czogW10sXG4gICAgZXZlbnQ6IGZ1bmN0aW9uIGV2ZW50KCkge1xuICAgICAgdmFyIHdpbmRvdyA9IGdldFdpbmRvdygpO1xuICAgICAgaWYgKHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ2ZpcmVmb3gnKSA+IC0xKSByZXR1cm4gJ0RPTU1vdXNlU2Nyb2xsJztcbiAgICAgIHJldHVybiBpc0V2ZW50U3VwcG9ydGVkKCkgPyAnd2hlZWwnIDogJ21vdXNld2hlZWwnO1xuICAgIH0sXG4gICAgbm9ybWFsaXplOiBmdW5jdGlvbiBub3JtYWxpemUoZSkge1xuICAgICAgLy8gUmVhc29uYWJsZSBkZWZhdWx0c1xuICAgICAgdmFyIFBJWEVMX1NURVAgPSAxMDtcbiAgICAgIHZhciBMSU5FX0hFSUdIVCA9IDQwO1xuICAgICAgdmFyIFBBR0VfSEVJR0hUID0gODAwO1xuICAgICAgdmFyIHNYID0gMDtcbiAgICAgIHZhciBzWSA9IDA7IC8vIHNwaW5YLCBzcGluWVxuXG4gICAgICB2YXIgcFggPSAwO1xuICAgICAgdmFyIHBZID0gMDsgLy8gcGl4ZWxYLCBwaXhlbFlcbiAgICAgIC8vIExlZ2FjeVxuXG4gICAgICBpZiAoJ2RldGFpbCcgaW4gZSkge1xuICAgICAgICBzWSA9IGUuZGV0YWlsO1xuICAgICAgfVxuXG4gICAgICBpZiAoJ3doZWVsRGVsdGEnIGluIGUpIHtcbiAgICAgICAgc1kgPSAtZS53aGVlbERlbHRhIC8gMTIwO1xuICAgICAgfVxuXG4gICAgICBpZiAoJ3doZWVsRGVsdGFZJyBpbiBlKSB7XG4gICAgICAgIHNZID0gLWUud2hlZWxEZWx0YVkgLyAxMjA7XG4gICAgICB9XG5cbiAgICAgIGlmICgnd2hlZWxEZWx0YVgnIGluIGUpIHtcbiAgICAgICAgc1ggPSAtZS53aGVlbERlbHRhWCAvIDEyMDtcbiAgICAgIH0gLy8gc2lkZSBzY3JvbGxpbmcgb24gRkYgd2l0aCBET01Nb3VzZVNjcm9sbFxuXG5cbiAgICAgIGlmICgnYXhpcycgaW4gZSAmJiBlLmF4aXMgPT09IGUuSE9SSVpPTlRBTF9BWElTKSB7XG4gICAgICAgIHNYID0gc1k7XG4gICAgICAgIHNZID0gMDtcbiAgICAgIH1cblxuICAgICAgcFggPSBzWCAqIFBJWEVMX1NURVA7XG4gICAgICBwWSA9IHNZICogUElYRUxfU1RFUDtcblxuICAgICAgaWYgKCdkZWx0YVknIGluIGUpIHtcbiAgICAgICAgcFkgPSBlLmRlbHRhWTtcbiAgICAgIH1cblxuICAgICAgaWYgKCdkZWx0YVgnIGluIGUpIHtcbiAgICAgICAgcFggPSBlLmRlbHRhWDtcbiAgICAgIH1cblxuICAgICAgaWYgKGUuc2hpZnRLZXkgJiYgIXBYKSB7XG4gICAgICAgIC8vIGlmIHVzZXIgc2Nyb2xscyB3aXRoIHNoaWZ0IGhlIHdhbnRzIGhvcml6b250YWwgc2Nyb2xsXG4gICAgICAgIHBYID0gcFk7XG4gICAgICAgIHBZID0gMDtcbiAgICAgIH1cblxuICAgICAgaWYgKChwWCB8fCBwWSkgJiYgZS5kZWx0YU1vZGUpIHtcbiAgICAgICAgaWYgKGUuZGVsdGFNb2RlID09PSAxKSB7XG4gICAgICAgICAgLy8gZGVsdGEgaW4gTElORSB1bml0c1xuICAgICAgICAgIHBYICo9IExJTkVfSEVJR0hUO1xuICAgICAgICAgIHBZICo9IExJTkVfSEVJR0hUO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIGRlbHRhIGluIFBBR0UgdW5pdHNcbiAgICAgICAgICBwWCAqPSBQQUdFX0hFSUdIVDtcbiAgICAgICAgICBwWSAqPSBQQUdFX0hFSUdIVDtcbiAgICAgICAgfVxuICAgICAgfSAvLyBGYWxsLWJhY2sgaWYgc3BpbiBjYW5ub3QgYmUgZGV0ZXJtaW5lZFxuXG5cbiAgICAgIGlmIChwWCAmJiAhc1gpIHtcbiAgICAgICAgc1ggPSBwWCA8IDEgPyAtMSA6IDE7XG4gICAgICB9XG5cbiAgICAgIGlmIChwWSAmJiAhc1kpIHtcbiAgICAgICAgc1kgPSBwWSA8IDEgPyAtMSA6IDE7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHNwaW5YOiBzWCxcbiAgICAgICAgc3Bpblk6IHNZLFxuICAgICAgICBwaXhlbFg6IHBYLFxuICAgICAgICBwaXhlbFk6IHBZXG4gICAgICB9O1xuICAgIH0sXG4gICAgaGFuZGxlTW91c2VFbnRlcjogZnVuY3Rpb24gaGFuZGxlTW91c2VFbnRlcigpIHtcbiAgICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgICAgaWYgKCFzd2lwZXIuZW5hYmxlZCkgcmV0dXJuO1xuICAgICAgc3dpcGVyLm1vdXNlRW50ZXJlZCA9IHRydWU7XG4gICAgfSxcbiAgICBoYW5kbGVNb3VzZUxlYXZlOiBmdW5jdGlvbiBoYW5kbGVNb3VzZUxlYXZlKCkge1xuICAgICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgICBpZiAoIXN3aXBlci5lbmFibGVkKSByZXR1cm47XG4gICAgICBzd2lwZXIubW91c2VFbnRlcmVkID0gZmFsc2U7XG4gICAgfSxcbiAgICBoYW5kbGU6IGZ1bmN0aW9uIGhhbmRsZShldmVudCkge1xuICAgICAgdmFyIGUgPSBldmVudDtcbiAgICAgIHZhciBkaXNhYmxlUGFyZW50U3dpcGVyID0gdHJ1ZTtcbiAgICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgICAgaWYgKCFzd2lwZXIuZW5hYmxlZCkgcmV0dXJuO1xuICAgICAgdmFyIHBhcmFtcyA9IHN3aXBlci5wYXJhbXMubW91c2V3aGVlbDtcblxuICAgICAgaWYgKHN3aXBlci5wYXJhbXMuY3NzTW9kZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9XG5cbiAgICAgIHZhciB0YXJnZXQgPSBzd2lwZXIuJGVsO1xuXG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy5tb3VzZXdoZWVsLmV2ZW50c1RhcmdldCAhPT0gJ2NvbnRhaW5lcicpIHtcbiAgICAgICAgdGFyZ2V0ID0gJChzd2lwZXIucGFyYW1zLm1vdXNld2hlZWwuZXZlbnRzVGFyZ2V0KTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFzd2lwZXIubW91c2VFbnRlcmVkICYmICF0YXJnZXRbMF0uY29udGFpbnMoZS50YXJnZXQpICYmICFwYXJhbXMucmVsZWFzZU9uRWRnZXMpIHJldHVybiB0cnVlO1xuICAgICAgaWYgKGUub3JpZ2luYWxFdmVudCkgZSA9IGUub3JpZ2luYWxFdmVudDsgLy8ganF1ZXJ5IGZpeFxuXG4gICAgICB2YXIgZGVsdGEgPSAwO1xuICAgICAgdmFyIHJ0bEZhY3RvciA9IHN3aXBlci5ydGxUcmFuc2xhdGUgPyAtMSA6IDE7XG4gICAgICB2YXIgZGF0YSA9IE1vdXNld2hlZWwubm9ybWFsaXplKGUpO1xuXG4gICAgICBpZiAocGFyYW1zLmZvcmNlVG9BeGlzKSB7XG4gICAgICAgIGlmIChzd2lwZXIuaXNIb3Jpem9udGFsKCkpIHtcbiAgICAgICAgICBpZiAoTWF0aC5hYnMoZGF0YS5waXhlbFgpID4gTWF0aC5hYnMoZGF0YS5waXhlbFkpKSBkZWx0YSA9IC1kYXRhLnBpeGVsWCAqIHJ0bEZhY3RvcjtlbHNlIHJldHVybiB0cnVlO1xuICAgICAgICB9IGVsc2UgaWYgKE1hdGguYWJzKGRhdGEucGl4ZWxZKSA+IE1hdGguYWJzKGRhdGEucGl4ZWxYKSkgZGVsdGEgPSAtZGF0YS5waXhlbFk7ZWxzZSByZXR1cm4gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRlbHRhID0gTWF0aC5hYnMoZGF0YS5waXhlbFgpID4gTWF0aC5hYnMoZGF0YS5waXhlbFkpID8gLWRhdGEucGl4ZWxYICogcnRsRmFjdG9yIDogLWRhdGEucGl4ZWxZO1xuICAgICAgfVxuXG4gICAgICBpZiAoZGVsdGEgPT09IDApIHJldHVybiB0cnVlO1xuICAgICAgaWYgKHBhcmFtcy5pbnZlcnQpIGRlbHRhID0gLWRlbHRhOyAvLyBHZXQgdGhlIHNjcm9sbCBwb3NpdGlvbnNcblxuICAgICAgdmFyIHBvc2l0aW9ucyA9IHN3aXBlci5nZXRUcmFuc2xhdGUoKSArIGRlbHRhICogcGFyYW1zLnNlbnNpdGl2aXR5O1xuICAgICAgaWYgKHBvc2l0aW9ucyA+PSBzd2lwZXIubWluVHJhbnNsYXRlKCkpIHBvc2l0aW9ucyA9IHN3aXBlci5taW5UcmFuc2xhdGUoKTtcbiAgICAgIGlmIChwb3NpdGlvbnMgPD0gc3dpcGVyLm1heFRyYW5zbGF0ZSgpKSBwb3NpdGlvbnMgPSBzd2lwZXIubWF4VHJhbnNsYXRlKCk7IC8vIFdoZW4gbG9vcCBpcyB0cnVlOlxuICAgICAgLy8gICAgIHRoZSBkaXNhYmxlUGFyZW50U3dpcGVyIHdpbGwgYmUgdHJ1ZS5cbiAgICAgIC8vIFdoZW4gbG9vcCBpcyBmYWxzZTpcbiAgICAgIC8vICAgICBpZiB0aGUgc2Nyb2xsIHBvc2l0aW9ucyBpcyBub3Qgb24gZWRnZSxcbiAgICAgIC8vICAgICB0aGVuIHRoZSBkaXNhYmxlUGFyZW50U3dpcGVyIHdpbGwgYmUgdHJ1ZS5cbiAgICAgIC8vICAgICBpZiB0aGUgc2Nyb2xsIG9uIGVkZ2UgcG9zaXRpb25zLFxuICAgICAgLy8gICAgIHRoZW4gdGhlIGRpc2FibGVQYXJlbnRTd2lwZXIgd2lsbCBiZSBmYWxzZS5cblxuICAgICAgZGlzYWJsZVBhcmVudFN3aXBlciA9IHN3aXBlci5wYXJhbXMubG9vcCA/IHRydWUgOiAhKHBvc2l0aW9ucyA9PT0gc3dpcGVyLm1pblRyYW5zbGF0ZSgpIHx8IHBvc2l0aW9ucyA9PT0gc3dpcGVyLm1heFRyYW5zbGF0ZSgpKTtcbiAgICAgIGlmIChkaXNhYmxlUGFyZW50U3dpcGVyICYmIHN3aXBlci5wYXJhbXMubmVzdGVkKSBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICBpZiAoIXN3aXBlci5wYXJhbXMuZnJlZU1vZGUpIHtcbiAgICAgICAgLy8gUmVnaXN0ZXIgdGhlIG5ldyBldmVudCBpbiBhIHZhcmlhYmxlIHdoaWNoIHN0b3JlcyB0aGUgcmVsZXZhbnQgZGF0YVxuICAgICAgICB2YXIgbmV3RXZlbnQgPSB7XG4gICAgICAgICAgdGltZTogbm93KCksXG4gICAgICAgICAgZGVsdGE6IE1hdGguYWJzKGRlbHRhKSxcbiAgICAgICAgICBkaXJlY3Rpb246IE1hdGguc2lnbihkZWx0YSksXG4gICAgICAgICAgcmF3OiBldmVudFxuICAgICAgICB9OyAvLyBLZWVwIHRoZSBtb3N0IHJlY2VudCBldmVudHNcblxuICAgICAgICB2YXIgcmVjZW50V2hlZWxFdmVudHMgPSBzd2lwZXIubW91c2V3aGVlbC5yZWNlbnRXaGVlbEV2ZW50cztcblxuICAgICAgICBpZiAocmVjZW50V2hlZWxFdmVudHMubGVuZ3RoID49IDIpIHtcbiAgICAgICAgICByZWNlbnRXaGVlbEV2ZW50cy5zaGlmdCgpOyAvLyBvbmx5IHN0b3JlIHRoZSBsYXN0IE4gZXZlbnRzXG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcHJldkV2ZW50ID0gcmVjZW50V2hlZWxFdmVudHMubGVuZ3RoID8gcmVjZW50V2hlZWxFdmVudHNbcmVjZW50V2hlZWxFdmVudHMubGVuZ3RoIC0gMV0gOiB1bmRlZmluZWQ7XG4gICAgICAgIHJlY2VudFdoZWVsRXZlbnRzLnB1c2gobmV3RXZlbnQpOyAvLyBJZiB0aGVyZSBpcyBhdCBsZWFzdCBvbmUgcHJldmlvdXMgcmVjb3JkZWQgZXZlbnQ6XG4gICAgICAgIC8vICAgSWYgZGlyZWN0aW9uIGhhcyBjaGFuZ2VkIG9yXG4gICAgICAgIC8vICAgaWYgdGhlIHNjcm9sbCBpcyBxdWlja2VyIHRoYW4gdGhlIHByZXZpb3VzIG9uZTpcbiAgICAgICAgLy8gICAgIEFuaW1hdGUgdGhlIHNsaWRlci5cbiAgICAgICAgLy8gRWxzZSAodGhpcyBpcyB0aGUgZmlyc3QgdGltZSB0aGUgd2hlZWwgaXMgbW92ZWQpOlxuICAgICAgICAvLyAgICAgQW5pbWF0ZSB0aGUgc2xpZGVyLlxuXG4gICAgICAgIGlmIChwcmV2RXZlbnQpIHtcbiAgICAgICAgICBpZiAobmV3RXZlbnQuZGlyZWN0aW9uICE9PSBwcmV2RXZlbnQuZGlyZWN0aW9uIHx8IG5ld0V2ZW50LmRlbHRhID4gcHJldkV2ZW50LmRlbHRhIHx8IG5ld0V2ZW50LnRpbWUgPiBwcmV2RXZlbnQudGltZSArIDE1MCkge1xuICAgICAgICAgICAgc3dpcGVyLm1vdXNld2hlZWwuYW5pbWF0ZVNsaWRlcihuZXdFdmVudCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN3aXBlci5tb3VzZXdoZWVsLmFuaW1hdGVTbGlkZXIobmV3RXZlbnQpO1xuICAgICAgICB9IC8vIElmIGl0J3MgdGltZSB0byByZWxlYXNlIHRoZSBzY3JvbGw6XG4gICAgICAgIC8vICAgUmV0dXJuIG5vdyBzbyB5b3UgZG9uJ3QgaGl0IHRoZSBwcmV2ZW50RGVmYXVsdC5cblxuXG4gICAgICAgIGlmIChzd2lwZXIubW91c2V3aGVlbC5yZWxlYXNlU2Nyb2xsKG5ld0V2ZW50KSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBGcmVlbW9kZSBvciBzY3JvbGxDb250YWluZXI6XG4gICAgICAgIC8vIElmIHdlIHJlY2VudGx5IHNuYXBwZWQgYWZ0ZXIgYSBtb21lbnR1bSBzY3JvbGwsIHRoZW4gaWdub3JlIHdoZWVsIGV2ZW50c1xuICAgICAgICAvLyB0byBnaXZlIHRpbWUgZm9yIHRoZSBkZWNlbGVyYXRpb24gdG8gZmluaXNoLiBTdG9wIGlnbm9yaW5nIGFmdGVyIDUwMCBtc2Vjc1xuICAgICAgICAvLyBvciBpZiBpdCdzIGEgbmV3IHNjcm9sbCAobGFyZ2VyIGRlbHRhIG9yIGludmVyc2Ugc2lnbiBhcyBsYXN0IGV2ZW50IGJlZm9yZVxuICAgICAgICAvLyBhbiBlbmQtb2YtbW9tZW50dW0gc25hcCkuXG4gICAgICAgIHZhciBfbmV3RXZlbnQgPSB7XG4gICAgICAgICAgdGltZTogbm93KCksXG4gICAgICAgICAgZGVsdGE6IE1hdGguYWJzKGRlbHRhKSxcbiAgICAgICAgICBkaXJlY3Rpb246IE1hdGguc2lnbihkZWx0YSlcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGxhc3RFdmVudEJlZm9yZVNuYXAgPSBzd2lwZXIubW91c2V3aGVlbC5sYXN0RXZlbnRCZWZvcmVTbmFwO1xuICAgICAgICB2YXIgaWdub3JlV2hlZWxFdmVudHMgPSBsYXN0RXZlbnRCZWZvcmVTbmFwICYmIF9uZXdFdmVudC50aW1lIDwgbGFzdEV2ZW50QmVmb3JlU25hcC50aW1lICsgNTAwICYmIF9uZXdFdmVudC5kZWx0YSA8PSBsYXN0RXZlbnRCZWZvcmVTbmFwLmRlbHRhICYmIF9uZXdFdmVudC5kaXJlY3Rpb24gPT09IGxhc3RFdmVudEJlZm9yZVNuYXAuZGlyZWN0aW9uO1xuXG4gICAgICAgIGlmICghaWdub3JlV2hlZWxFdmVudHMpIHtcbiAgICAgICAgICBzd2lwZXIubW91c2V3aGVlbC5sYXN0RXZlbnRCZWZvcmVTbmFwID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgaWYgKHN3aXBlci5wYXJhbXMubG9vcCkge1xuICAgICAgICAgICAgc3dpcGVyLmxvb3BGaXgoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgcG9zaXRpb24gPSBzd2lwZXIuZ2V0VHJhbnNsYXRlKCkgKyBkZWx0YSAqIHBhcmFtcy5zZW5zaXRpdml0eTtcbiAgICAgICAgICB2YXIgd2FzQmVnaW5uaW5nID0gc3dpcGVyLmlzQmVnaW5uaW5nO1xuICAgICAgICAgIHZhciB3YXNFbmQgPSBzd2lwZXIuaXNFbmQ7XG4gICAgICAgICAgaWYgKHBvc2l0aW9uID49IHN3aXBlci5taW5UcmFuc2xhdGUoKSkgcG9zaXRpb24gPSBzd2lwZXIubWluVHJhbnNsYXRlKCk7XG4gICAgICAgICAgaWYgKHBvc2l0aW9uIDw9IHN3aXBlci5tYXhUcmFuc2xhdGUoKSkgcG9zaXRpb24gPSBzd2lwZXIubWF4VHJhbnNsYXRlKCk7XG4gICAgICAgICAgc3dpcGVyLnNldFRyYW5zaXRpb24oMCk7XG4gICAgICAgICAgc3dpcGVyLnNldFRyYW5zbGF0ZShwb3NpdGlvbik7XG4gICAgICAgICAgc3dpcGVyLnVwZGF0ZVByb2dyZXNzKCk7XG4gICAgICAgICAgc3dpcGVyLnVwZGF0ZUFjdGl2ZUluZGV4KCk7XG4gICAgICAgICAgc3dpcGVyLnVwZGF0ZVNsaWRlc0NsYXNzZXMoKTtcblxuICAgICAgICAgIGlmICghd2FzQmVnaW5uaW5nICYmIHN3aXBlci5pc0JlZ2lubmluZyB8fCAhd2FzRW5kICYmIHN3aXBlci5pc0VuZCkge1xuICAgICAgICAgICAgc3dpcGVyLnVwZGF0ZVNsaWRlc0NsYXNzZXMoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoc3dpcGVyLnBhcmFtcy5mcmVlTW9kZVN0aWNreSkge1xuICAgICAgICAgICAgLy8gV2hlbiB3aGVlbCBzY3JvbGxpbmcgc3RhcnRzIHdpdGggc3RpY2t5IChha2Egc25hcCkgZW5hYmxlZCwgdGhlbiBkZXRlY3RcbiAgICAgICAgICAgIC8vIHRoZSBlbmQgb2YgYSBtb21lbnR1bSBzY3JvbGwgYnkgc3RvcmluZyByZWNlbnQgKE49MTU/KSB3aGVlbCBldmVudHMuXG4gICAgICAgICAgICAvLyAxLiBkbyBhbGwgTiBldmVudHMgaGF2ZSBkZWNyZWFzaW5nIG9yIHNhbWUgKGFic29sdXRlIHZhbHVlKSBkZWx0YT9cbiAgICAgICAgICAgIC8vIDIuIGRpZCBhbGwgTiBldmVudHMgYXJyaXZlIGluIHRoZSBsYXN0IE0gKE09NTAwPykgbXNlY3M/XG4gICAgICAgICAgICAvLyAzLiBkb2VzIHRoZSBlYXJsaWVzdCBldmVudCBoYXZlIGFuIChhYnNvbHV0ZSB2YWx1ZSkgZGVsdGEgdGhhdCdzXG4gICAgICAgICAgICAvLyAgICBhdCBsZWFzdCBQIChQPTE/KSBsYXJnZXIgdGhhbiB0aGUgbW9zdCByZWNlbnQgZXZlbnQncyBkZWx0YT9cbiAgICAgICAgICAgIC8vIDQuIGRvZXMgdGhlIGxhdGVzdCBldmVudCBoYXZlIGEgZGVsdGEgdGhhdCdzIHNtYWxsZXIgdGhhbiBRIChRPTY/KSBwaXhlbHM/XG4gICAgICAgICAgICAvLyBJZiAxLTQgYXJlIFwieWVzXCIgdGhlbiB3ZSdyZSBuZWFyIHRoZSBlbmQgb2YgYSBtb21lbnR1bSBzY3JvbGwgZGVjZWxlcmF0aW9uLlxuICAgICAgICAgICAgLy8gU25hcCBpbW1lZGlhdGVseSBhbmQgaWdub3JlIHJlbWFpbmluZyB3aGVlbCBldmVudHMgaW4gdGhpcyBzY3JvbGwuXG4gICAgICAgICAgICAvLyBTZWUgY29tbWVudCBhYm92ZSBmb3IgXCJyZW1haW5pbmcgd2hlZWwgZXZlbnRzIGluIHRoaXMgc2Nyb2xsXCIgZGV0ZXJtaW5hdGlvbi5cbiAgICAgICAgICAgIC8vIElmIDEtNCBhcmVuJ3Qgc2F0aXNmaWVkLCB0aGVuIHdhaXQgdG8gc25hcCB1bnRpbCA1MDBtcyBhZnRlciB0aGUgbGFzdCBldmVudC5cbiAgICAgICAgICAgIGNsZWFyVGltZW91dChzd2lwZXIubW91c2V3aGVlbC50aW1lb3V0KTtcbiAgICAgICAgICAgIHN3aXBlci5tb3VzZXdoZWVsLnRpbWVvdXQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB2YXIgX3JlY2VudFdoZWVsRXZlbnRzID0gc3dpcGVyLm1vdXNld2hlZWwucmVjZW50V2hlZWxFdmVudHM7XG5cbiAgICAgICAgICAgIGlmIChfcmVjZW50V2hlZWxFdmVudHMubGVuZ3RoID49IDE1KSB7XG4gICAgICAgICAgICAgIF9yZWNlbnRXaGVlbEV2ZW50cy5zaGlmdCgpOyAvLyBvbmx5IHN0b3JlIHRoZSBsYXN0IE4gZXZlbnRzXG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIF9wcmV2RXZlbnQgPSBfcmVjZW50V2hlZWxFdmVudHMubGVuZ3RoID8gX3JlY2VudFdoZWVsRXZlbnRzW19yZWNlbnRXaGVlbEV2ZW50cy5sZW5ndGggLSAxXSA6IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgdmFyIGZpcnN0RXZlbnQgPSBfcmVjZW50V2hlZWxFdmVudHNbMF07XG5cbiAgICAgICAgICAgIF9yZWNlbnRXaGVlbEV2ZW50cy5wdXNoKF9uZXdFdmVudCk7XG5cbiAgICAgICAgICAgIGlmIChfcHJldkV2ZW50ICYmIChfbmV3RXZlbnQuZGVsdGEgPiBfcHJldkV2ZW50LmRlbHRhIHx8IF9uZXdFdmVudC5kaXJlY3Rpb24gIT09IF9wcmV2RXZlbnQuZGlyZWN0aW9uKSkge1xuICAgICAgICAgICAgICAvLyBJbmNyZWFzaW5nIG9yIHJldmVyc2Utc2lnbiBkZWx0YSBtZWFucyB0aGUgdXNlciBzdGFydGVkIHNjcm9sbGluZyBhZ2Fpbi4gQ2xlYXIgdGhlIHdoZWVsIGV2ZW50IGxvZy5cbiAgICAgICAgICAgICAgX3JlY2VudFdoZWVsRXZlbnRzLnNwbGljZSgwKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoX3JlY2VudFdoZWVsRXZlbnRzLmxlbmd0aCA+PSAxNSAmJiBfbmV3RXZlbnQudGltZSAtIGZpcnN0RXZlbnQudGltZSA8IDUwMCAmJiBmaXJzdEV2ZW50LmRlbHRhIC0gX25ld0V2ZW50LmRlbHRhID49IDEgJiYgX25ld0V2ZW50LmRlbHRhIDw9IDYpIHtcbiAgICAgICAgICAgICAgLy8gV2UncmUgYXQgdGhlIGVuZCBvZiB0aGUgZGVjZWxlcmF0aW9uIG9mIGEgbW9tZW50dW0gc2Nyb2xsLCBzbyB0aGVyZSdzIG5vIG5lZWRcbiAgICAgICAgICAgICAgLy8gdG8gd2FpdCBmb3IgbW9yZSBldmVudHMuIFNuYXAgQVNBUCBvbiB0aGUgbmV4dCB0aWNrLlxuICAgICAgICAgICAgICAvLyBBbHNvLCBiZWNhdXNlIHRoZXJlJ3Mgc29tZSByZW1haW5pbmcgbW9tZW50dW0gd2UnbGwgYmlhcyB0aGUgc25hcCBpbiB0aGVcbiAgICAgICAgICAgICAgLy8gZGlyZWN0aW9uIG9mIHRoZSBvbmdvaW5nIHNjcm9sbCBiZWNhdXNlIGl0J3MgYmV0dGVyIFVYIGZvciB0aGUgc2Nyb2xsIHRvIHNuYXBcbiAgICAgICAgICAgICAgLy8gaW4gdGhlIHNhbWUgZGlyZWN0aW9uIGFzIHRoZSBzY3JvbGwgaW5zdGVhZCBvZiByZXZlcnNpbmcgdG8gc25hcC4gIFRoZXJlZm9yZSxcbiAgICAgICAgICAgICAgLy8gaWYgaXQncyBhbHJlYWR5IHNjcm9sbGVkIG1vcmUgdGhhbiAyMCUgaW4gdGhlIGN1cnJlbnQgZGlyZWN0aW9uLCBrZWVwIGdvaW5nLlxuICAgICAgICAgICAgICB2YXIgc25hcFRvVGhyZXNob2xkID0gZGVsdGEgPiAwID8gMC44IDogMC4yO1xuICAgICAgICAgICAgICBzd2lwZXIubW91c2V3aGVlbC5sYXN0RXZlbnRCZWZvcmVTbmFwID0gX25ld0V2ZW50O1xuXG4gICAgICAgICAgICAgIF9yZWNlbnRXaGVlbEV2ZW50cy5zcGxpY2UoMCk7XG5cbiAgICAgICAgICAgICAgc3dpcGVyLm1vdXNld2hlZWwudGltZW91dCA9IG5leHRUaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBzd2lwZXIuc2xpZGVUb0Nsb3Nlc3Qoc3dpcGVyLnBhcmFtcy5zcGVlZCwgdHJ1ZSwgdW5kZWZpbmVkLCBzbmFwVG9UaHJlc2hvbGQpO1xuICAgICAgICAgICAgICB9LCAwKTsgLy8gbm8gZGVsYXk7IG1vdmUgb24gbmV4dCB0aWNrXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghc3dpcGVyLm1vdXNld2hlZWwudGltZW91dCkge1xuICAgICAgICAgICAgICAvLyBpZiB3ZSBnZXQgaGVyZSwgdGhlbiB3ZSBoYXZlbid0IGRldGVjdGVkIHRoZSBlbmQgb2YgYSBtb21lbnR1bSBzY3JvbGwsIHNvXG4gICAgICAgICAgICAgIC8vIHdlJ2xsIGNvbnNpZGVyIGEgc2Nyb2xsIFwiY29tcGxldGVcIiB3aGVuIHRoZXJlIGhhdmVuJ3QgYmVlbiBhbnkgd2hlZWwgZXZlbnRzXG4gICAgICAgICAgICAgIC8vIGZvciA1MDBtcy5cbiAgICAgICAgICAgICAgc3dpcGVyLm1vdXNld2hlZWwudGltZW91dCA9IG5leHRUaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgc25hcFRvVGhyZXNob2xkID0gMC41O1xuICAgICAgICAgICAgICAgIHN3aXBlci5tb3VzZXdoZWVsLmxhc3RFdmVudEJlZm9yZVNuYXAgPSBfbmV3RXZlbnQ7XG5cbiAgICAgICAgICAgICAgICBfcmVjZW50V2hlZWxFdmVudHMuc3BsaWNlKDApO1xuXG4gICAgICAgICAgICAgICAgc3dpcGVyLnNsaWRlVG9DbG9zZXN0KHN3aXBlci5wYXJhbXMuc3BlZWQsIHRydWUsIHVuZGVmaW5lZCwgc25hcFRvVGhyZXNob2xkKTtcbiAgICAgICAgICAgICAgfSwgNTAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IC8vIEVtaXQgZXZlbnRcblxuXG4gICAgICAgICAgaWYgKCFpZ25vcmVXaGVlbEV2ZW50cykgc3dpcGVyLmVtaXQoJ3Njcm9sbCcsIGUpOyAvLyBTdG9wIGF1dG9wbGF5XG5cbiAgICAgICAgICBpZiAoc3dpcGVyLnBhcmFtcy5hdXRvcGxheSAmJiBzd2lwZXIucGFyYW1zLmF1dG9wbGF5RGlzYWJsZU9uSW50ZXJhY3Rpb24pIHN3aXBlci5hdXRvcGxheS5zdG9wKCk7IC8vIFJldHVybiBwYWdlIHNjcm9sbCBvbiBlZGdlIHBvc2l0aW9uc1xuXG4gICAgICAgICAgaWYgKHBvc2l0aW9uID09PSBzd2lwZXIubWluVHJhbnNsYXRlKCkgfHwgcG9zaXRpb24gPT09IHN3aXBlci5tYXhUcmFuc2xhdGUoKSkgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGUucHJldmVudERlZmF1bHQpIGUucHJldmVudERlZmF1bHQoKTtlbHNlIGUucmV0dXJuVmFsdWUgPSBmYWxzZTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuICAgIGFuaW1hdGVTbGlkZXI6IGZ1bmN0aW9uIGFuaW1hdGVTbGlkZXIobmV3RXZlbnQpIHtcbiAgICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgICAgdmFyIHdpbmRvdyA9IGdldFdpbmRvdygpO1xuXG4gICAgICBpZiAodGhpcy5wYXJhbXMubW91c2V3aGVlbC50aHJlc2hvbGREZWx0YSAmJiBuZXdFdmVudC5kZWx0YSA8IHRoaXMucGFyYW1zLm1vdXNld2hlZWwudGhyZXNob2xkRGVsdGEpIHtcbiAgICAgICAgLy8gUHJldmVudCBpZiBkZWx0YSBvZiB3aGVlbCBzY3JvbGwgZGVsdGEgaXMgYmVsb3cgY29uZmlndXJlZCB0aHJlc2hvbGRcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5wYXJhbXMubW91c2V3aGVlbC50aHJlc2hvbGRUaW1lICYmIG5vdygpIC0gc3dpcGVyLm1vdXNld2hlZWwubGFzdFNjcm9sbFRpbWUgPCB0aGlzLnBhcmFtcy5tb3VzZXdoZWVsLnRocmVzaG9sZFRpbWUpIHtcbiAgICAgICAgLy8gUHJldmVudCBpZiB0aW1lIGJldHdlZW4gc2Nyb2xscyBpcyBiZWxvdyBjb25maWd1cmVkIHRocmVzaG9sZFxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9IC8vIElmIHRoZSBtb3ZlbWVudCBpcyBOT1QgYmlnIGVub3VnaCBhbmRcbiAgICAgIC8vIGlmIHRoZSBsYXN0IHRpbWUgdGhlIHVzZXIgc2Nyb2xsZWQgd2FzIHRvbyBjbG9zZSB0byB0aGUgY3VycmVudCBvbmUgKGF2b2lkIGNvbnRpbnVvdXNseSB0cmlnZ2VyaW5nIHRoZSBzbGlkZXIpOlxuICAgICAgLy8gICBEb24ndCBnbyBhbnkgZnVydGhlciAoYXZvaWQgaW5zaWduaWZpY2FudCBzY3JvbGwgbW92ZW1lbnQpLlxuXG5cbiAgICAgIGlmIChuZXdFdmVudC5kZWx0YSA+PSA2ICYmIG5vdygpIC0gc3dpcGVyLm1vdXNld2hlZWwubGFzdFNjcm9sbFRpbWUgPCA2MCkge1xuICAgICAgICAvLyBSZXR1cm4gZmFsc2UgYXMgYSBkZWZhdWx0XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSAvLyBJZiB1c2VyIGlzIHNjcm9sbGluZyB0b3dhcmRzIHRoZSBlbmQ6XG4gICAgICAvLyAgIElmIHRoZSBzbGlkZXIgaGFzbid0IGhpdCB0aGUgbGF0ZXN0IHNsaWRlIG9yXG4gICAgICAvLyAgIGlmIHRoZSBzbGlkZXIgaXMgYSBsb29wIGFuZFxuICAgICAgLy8gICBpZiB0aGUgc2xpZGVyIGlzbid0IG1vdmluZyByaWdodCBub3c6XG4gICAgICAvLyAgICAgR28gdG8gbmV4dCBzbGlkZSBhbmRcbiAgICAgIC8vICAgICBlbWl0IGEgc2Nyb2xsIGV2ZW50LlxuICAgICAgLy8gRWxzZSAodGhlIHVzZXIgaXMgc2Nyb2xsaW5nIHRvd2FyZHMgdGhlIGJlZ2lubmluZykgYW5kXG4gICAgICAvLyBpZiB0aGUgc2xpZGVyIGhhc24ndCBoaXQgdGhlIGZpcnN0IHNsaWRlIG9yXG4gICAgICAvLyBpZiB0aGUgc2xpZGVyIGlzIGEgbG9vcCBhbmRcbiAgICAgIC8vIGlmIHRoZSBzbGlkZXIgaXNuJ3QgbW92aW5nIHJpZ2h0IG5vdzpcbiAgICAgIC8vICAgR28gdG8gcHJldiBzbGlkZSBhbmRcbiAgICAgIC8vICAgZW1pdCBhIHNjcm9sbCBldmVudC5cblxuXG4gICAgICBpZiAobmV3RXZlbnQuZGlyZWN0aW9uIDwgMCkge1xuICAgICAgICBpZiAoKCFzd2lwZXIuaXNFbmQgfHwgc3dpcGVyLnBhcmFtcy5sb29wKSAmJiAhc3dpcGVyLmFuaW1hdGluZykge1xuICAgICAgICAgIHN3aXBlci5zbGlkZU5leHQoKTtcbiAgICAgICAgICBzd2lwZXIuZW1pdCgnc2Nyb2xsJywgbmV3RXZlbnQucmF3KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICgoIXN3aXBlci5pc0JlZ2lubmluZyB8fCBzd2lwZXIucGFyYW1zLmxvb3ApICYmICFzd2lwZXIuYW5pbWF0aW5nKSB7XG4gICAgICAgIHN3aXBlci5zbGlkZVByZXYoKTtcbiAgICAgICAgc3dpcGVyLmVtaXQoJ3Njcm9sbCcsIG5ld0V2ZW50LnJhdyk7XG4gICAgICB9IC8vIElmIHlvdSBnb3QgaGVyZSBpcyBiZWNhdXNlIGFuIGFuaW1hdGlvbiBoYXMgYmVlbiB0cmlnZ2VyZWQgc28gc3RvcmUgdGhlIGN1cnJlbnQgdGltZVxuXG5cbiAgICAgIHN3aXBlci5tb3VzZXdoZWVsLmxhc3RTY3JvbGxUaW1lID0gbmV3IHdpbmRvdy5EYXRlKCkuZ2V0VGltZSgpOyAvLyBSZXR1cm4gZmFsc2UgYXMgYSBkZWZhdWx0XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuICAgIHJlbGVhc2VTY3JvbGw6IGZ1bmN0aW9uIHJlbGVhc2VTY3JvbGwobmV3RXZlbnQpIHtcbiAgICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgICAgdmFyIHBhcmFtcyA9IHN3aXBlci5wYXJhbXMubW91c2V3aGVlbDtcblxuICAgICAgaWYgKG5ld0V2ZW50LmRpcmVjdGlvbiA8IDApIHtcbiAgICAgICAgaWYgKHN3aXBlci5pc0VuZCAmJiAhc3dpcGVyLnBhcmFtcy5sb29wICYmIHBhcmFtcy5yZWxlYXNlT25FZGdlcykge1xuICAgICAgICAgIC8vIFJldHVybiB0cnVlIHRvIGFuaW1hdGUgc2Nyb2xsIG9uIGVkZ2VzXG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoc3dpcGVyLmlzQmVnaW5uaW5nICYmICFzd2lwZXIucGFyYW1zLmxvb3AgJiYgcGFyYW1zLnJlbGVhc2VPbkVkZ2VzKSB7XG4gICAgICAgIC8vIFJldHVybiB0cnVlIHRvIGFuaW1hdGUgc2Nyb2xsIG9uIGVkZ2VzXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcbiAgICBlbmFibGU6IGZ1bmN0aW9uIGVuYWJsZSgpIHtcbiAgICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgICAgdmFyIGV2ZW50ID0gTW91c2V3aGVlbC5ldmVudCgpO1xuXG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy5jc3NNb2RlKSB7XG4gICAgICAgIHN3aXBlci53cmFwcGVyRWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgc3dpcGVyLm1vdXNld2hlZWwuaGFuZGxlKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmICghZXZlbnQpIHJldHVybiBmYWxzZTtcbiAgICAgIGlmIChzd2lwZXIubW91c2V3aGVlbC5lbmFibGVkKSByZXR1cm4gZmFsc2U7XG4gICAgICB2YXIgdGFyZ2V0ID0gc3dpcGVyLiRlbDtcblxuICAgICAgaWYgKHN3aXBlci5wYXJhbXMubW91c2V3aGVlbC5ldmVudHNUYXJnZXQgIT09ICdjb250YWluZXInKSB7XG4gICAgICAgIHRhcmdldCA9ICQoc3dpcGVyLnBhcmFtcy5tb3VzZXdoZWVsLmV2ZW50c1RhcmdldCk7XG4gICAgICB9XG5cbiAgICAgIHRhcmdldC5vbignbW91c2VlbnRlcicsIHN3aXBlci5tb3VzZXdoZWVsLmhhbmRsZU1vdXNlRW50ZXIpO1xuICAgICAgdGFyZ2V0Lm9uKCdtb3VzZWxlYXZlJywgc3dpcGVyLm1vdXNld2hlZWwuaGFuZGxlTW91c2VMZWF2ZSk7XG4gICAgICB0YXJnZXQub24oZXZlbnQsIHN3aXBlci5tb3VzZXdoZWVsLmhhbmRsZSk7XG4gICAgICBzd2lwZXIubW91c2V3aGVlbC5lbmFibGVkID0gdHJ1ZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG4gICAgZGlzYWJsZTogZnVuY3Rpb24gZGlzYWJsZSgpIHtcbiAgICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgICAgdmFyIGV2ZW50ID0gTW91c2V3aGVlbC5ldmVudCgpO1xuXG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy5jc3NNb2RlKSB7XG4gICAgICAgIHN3aXBlci53cmFwcGVyRWwuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgc3dpcGVyLm1vdXNld2hlZWwuaGFuZGxlKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmICghZXZlbnQpIHJldHVybiBmYWxzZTtcbiAgICAgIGlmICghc3dpcGVyLm1vdXNld2hlZWwuZW5hYmxlZCkgcmV0dXJuIGZhbHNlO1xuICAgICAgdmFyIHRhcmdldCA9IHN3aXBlci4kZWw7XG5cbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLm1vdXNld2hlZWwuZXZlbnRzVGFyZ2V0ICE9PSAnY29udGFpbmVyJykge1xuICAgICAgICB0YXJnZXQgPSAkKHN3aXBlci5wYXJhbXMubW91c2V3aGVlbC5ldmVudHNUYXJnZXQpO1xuICAgICAgfVxuXG4gICAgICB0YXJnZXQub2ZmKGV2ZW50LCBzd2lwZXIubW91c2V3aGVlbC5oYW5kbGUpO1xuICAgICAgc3dpcGVyLm1vdXNld2hlZWwuZW5hYmxlZCA9IGZhbHNlO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9O1xuICB2YXIgTW91c2V3aGVlbCQxID0ge1xuICAgIG5hbWU6ICdtb3VzZXdoZWVsJyxcbiAgICBwYXJhbXM6IHtcbiAgICAgIG1vdXNld2hlZWw6IHtcbiAgICAgICAgZW5hYmxlZDogZmFsc2UsXG4gICAgICAgIHJlbGVhc2VPbkVkZ2VzOiBmYWxzZSxcbiAgICAgICAgaW52ZXJ0OiBmYWxzZSxcbiAgICAgICAgZm9yY2VUb0F4aXM6IGZhbHNlLFxuICAgICAgICBzZW5zaXRpdml0eTogMSxcbiAgICAgICAgZXZlbnRzVGFyZ2V0OiAnY29udGFpbmVyJyxcbiAgICAgICAgdGhyZXNob2xkRGVsdGE6IG51bGwsXG4gICAgICAgIHRocmVzaG9sZFRpbWU6IG51bGxcbiAgICAgIH1cbiAgICB9LFxuICAgIGNyZWF0ZTogZnVuY3Rpb24gY3JlYXRlKCkge1xuICAgICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgICBiaW5kTW9kdWxlTWV0aG9kcyhzd2lwZXIsIHtcbiAgICAgICAgbW91c2V3aGVlbDoge1xuICAgICAgICAgIGVuYWJsZWQ6IGZhbHNlLFxuICAgICAgICAgIGxhc3RTY3JvbGxUaW1lOiBub3coKSxcbiAgICAgICAgICBsYXN0RXZlbnRCZWZvcmVTbmFwOiB1bmRlZmluZWQsXG4gICAgICAgICAgcmVjZW50V2hlZWxFdmVudHM6IFtdLFxuICAgICAgICAgIGVuYWJsZTogTW91c2V3aGVlbC5lbmFibGUsXG4gICAgICAgICAgZGlzYWJsZTogTW91c2V3aGVlbC5kaXNhYmxlLFxuICAgICAgICAgIGhhbmRsZTogTW91c2V3aGVlbC5oYW5kbGUsXG4gICAgICAgICAgaGFuZGxlTW91c2VFbnRlcjogTW91c2V3aGVlbC5oYW5kbGVNb3VzZUVudGVyLFxuICAgICAgICAgIGhhbmRsZU1vdXNlTGVhdmU6IE1vdXNld2hlZWwuaGFuZGxlTW91c2VMZWF2ZSxcbiAgICAgICAgICBhbmltYXRlU2xpZGVyOiBNb3VzZXdoZWVsLmFuaW1hdGVTbGlkZXIsXG4gICAgICAgICAgcmVsZWFzZVNjcm9sbDogTW91c2V3aGVlbC5yZWxlYXNlU2Nyb2xsXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG4gICAgb246IHtcbiAgICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoc3dpcGVyKSB7XG4gICAgICAgIGlmICghc3dpcGVyLnBhcmFtcy5tb3VzZXdoZWVsLmVuYWJsZWQgJiYgc3dpcGVyLnBhcmFtcy5jc3NNb2RlKSB7XG4gICAgICAgICAgc3dpcGVyLm1vdXNld2hlZWwuZGlzYWJsZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHN3aXBlci5wYXJhbXMubW91c2V3aGVlbC5lbmFibGVkKSBzd2lwZXIubW91c2V3aGVlbC5lbmFibGUoKTtcbiAgICAgIH0sXG4gICAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KHN3aXBlcikge1xuICAgICAgICBpZiAoc3dpcGVyLnBhcmFtcy5jc3NNb2RlKSB7XG4gICAgICAgICAgc3dpcGVyLm1vdXNld2hlZWwuZW5hYmxlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3dpcGVyLm1vdXNld2hlZWwuZW5hYmxlZCkgc3dpcGVyLm1vdXNld2hlZWwuZGlzYWJsZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB2YXIgTmF2aWdhdGlvbiA9IHtcbiAgICB0b2dnbGVFbDogZnVuY3Rpb24gdG9nZ2xlRWwoJGVsLCBkaXNhYmxlZCkge1xuICAgICAgJGVsW2Rpc2FibGVkID8gJ2FkZENsYXNzJyA6ICdyZW1vdmVDbGFzcyddKHRoaXMucGFyYW1zLm5hdmlnYXRpb24uZGlzYWJsZWRDbGFzcyk7XG4gICAgICBpZiAoJGVsWzBdICYmICRlbFswXS50YWdOYW1lID09PSAnQlVUVE9OJykgJGVsWzBdLmRpc2FibGVkID0gZGlzYWJsZWQ7XG4gICAgfSxcbiAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZSgpIHtcbiAgICAgIC8vIFVwZGF0ZSBOYXZpZ2F0aW9uIEJ1dHRvbnNcbiAgICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgICAgdmFyIHBhcmFtcyA9IHN3aXBlci5wYXJhbXMubmF2aWdhdGlvbjtcbiAgICAgIHZhciB0b2dnbGVFbCA9IHN3aXBlci5uYXZpZ2F0aW9uLnRvZ2dsZUVsO1xuICAgICAgaWYgKHN3aXBlci5wYXJhbXMubG9vcCkgcmV0dXJuO1xuICAgICAgdmFyIF9zd2lwZXIkbmF2aWdhdGlvbiA9IHN3aXBlci5uYXZpZ2F0aW9uLFxuICAgICAgICAgICRuZXh0RWwgPSBfc3dpcGVyJG5hdmlnYXRpb24uJG5leHRFbCxcbiAgICAgICAgICAkcHJldkVsID0gX3N3aXBlciRuYXZpZ2F0aW9uLiRwcmV2RWw7XG5cbiAgICAgIGlmICgkcHJldkVsICYmICRwcmV2RWwubGVuZ3RoID4gMCkge1xuICAgICAgICBpZiAoc3dpcGVyLmlzQmVnaW5uaW5nKSB7XG4gICAgICAgICAgdG9nZ2xlRWwoJHByZXZFbCwgdHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdG9nZ2xlRWwoJHByZXZFbCwgZmFsc2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHN3aXBlci5wYXJhbXMud2F0Y2hPdmVyZmxvdyAmJiBzd2lwZXIuZW5hYmxlZCkge1xuICAgICAgICAgICRwcmV2RWxbc3dpcGVyLmlzTG9ja2VkID8gJ2FkZENsYXNzJyA6ICdyZW1vdmVDbGFzcyddKHBhcmFtcy5sb2NrQ2xhc3MpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICgkbmV4dEVsICYmICRuZXh0RWwubGVuZ3RoID4gMCkge1xuICAgICAgICBpZiAoc3dpcGVyLmlzRW5kKSB7XG4gICAgICAgICAgdG9nZ2xlRWwoJG5leHRFbCwgdHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdG9nZ2xlRWwoJG5leHRFbCwgZmFsc2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHN3aXBlci5wYXJhbXMud2F0Y2hPdmVyZmxvdyAmJiBzd2lwZXIuZW5hYmxlZCkge1xuICAgICAgICAgICRuZXh0RWxbc3dpcGVyLmlzTG9ja2VkID8gJ2FkZENsYXNzJyA6ICdyZW1vdmVDbGFzcyddKHBhcmFtcy5sb2NrQ2xhc3MpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBvblByZXZDbGljazogZnVuY3Rpb24gb25QcmV2Q2xpY2soZSkge1xuICAgICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoc3dpcGVyLmlzQmVnaW5uaW5nICYmICFzd2lwZXIucGFyYW1zLmxvb3ApIHJldHVybjtcbiAgICAgIHN3aXBlci5zbGlkZVByZXYoKTtcbiAgICB9LFxuICAgIG9uTmV4dENsaWNrOiBmdW5jdGlvbiBvbk5leHRDbGljayhlKSB7XG4gICAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmIChzd2lwZXIuaXNFbmQgJiYgIXN3aXBlci5wYXJhbXMubG9vcCkgcmV0dXJuO1xuICAgICAgc3dpcGVyLnNsaWRlTmV4dCgpO1xuICAgIH0sXG4gICAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHtcbiAgICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgICAgdmFyIHBhcmFtcyA9IHN3aXBlci5wYXJhbXMubmF2aWdhdGlvbjtcbiAgICAgIHN3aXBlci5wYXJhbXMubmF2aWdhdGlvbiA9IGNyZWF0ZUVsZW1lbnRJZk5vdERlZmluZWQoc3dpcGVyLiRlbCwgc3dpcGVyLnBhcmFtcy5uYXZpZ2F0aW9uLCBzd2lwZXIucGFyYW1zLmNyZWF0ZUVsZW1lbnRzLCB7XG4gICAgICAgIG5leHRFbDogJ3N3aXBlci1idXR0b24tbmV4dCcsXG4gICAgICAgIHByZXZFbDogJ3N3aXBlci1idXR0b24tcHJldidcbiAgICAgIH0pO1xuICAgICAgaWYgKCEocGFyYW1zLm5leHRFbCB8fCBwYXJhbXMucHJldkVsKSkgcmV0dXJuO1xuICAgICAgdmFyICRuZXh0RWw7XG4gICAgICB2YXIgJHByZXZFbDtcblxuICAgICAgaWYgKHBhcmFtcy5uZXh0RWwpIHtcbiAgICAgICAgJG5leHRFbCA9ICQocGFyYW1zLm5leHRFbCk7XG5cbiAgICAgICAgaWYgKHN3aXBlci5wYXJhbXMudW5pcXVlTmF2RWxlbWVudHMgJiYgdHlwZW9mIHBhcmFtcy5uZXh0RWwgPT09ICdzdHJpbmcnICYmICRuZXh0RWwubGVuZ3RoID4gMSAmJiBzd2lwZXIuJGVsLmZpbmQocGFyYW1zLm5leHRFbCkubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgJG5leHRFbCA9IHN3aXBlci4kZWwuZmluZChwYXJhbXMubmV4dEVsKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAocGFyYW1zLnByZXZFbCkge1xuICAgICAgICAkcHJldkVsID0gJChwYXJhbXMucHJldkVsKTtcblxuICAgICAgICBpZiAoc3dpcGVyLnBhcmFtcy51bmlxdWVOYXZFbGVtZW50cyAmJiB0eXBlb2YgcGFyYW1zLnByZXZFbCA9PT0gJ3N0cmluZycgJiYgJHByZXZFbC5sZW5ndGggPiAxICYmIHN3aXBlci4kZWwuZmluZChwYXJhbXMucHJldkVsKS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAkcHJldkVsID0gc3dpcGVyLiRlbC5maW5kKHBhcmFtcy5wcmV2RWwpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICgkbmV4dEVsICYmICRuZXh0RWwubGVuZ3RoID4gMCkge1xuICAgICAgICAkbmV4dEVsLm9uKCdjbGljaycsIHN3aXBlci5uYXZpZ2F0aW9uLm9uTmV4dENsaWNrKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCRwcmV2RWwgJiYgJHByZXZFbC5sZW5ndGggPiAwKSB7XG4gICAgICAgICRwcmV2RWwub24oJ2NsaWNrJywgc3dpcGVyLm5hdmlnYXRpb24ub25QcmV2Q2xpY2spO1xuICAgICAgfVxuXG4gICAgICBleHRlbmQoc3dpcGVyLm5hdmlnYXRpb24sIHtcbiAgICAgICAgJG5leHRFbDogJG5leHRFbCxcbiAgICAgICAgbmV4dEVsOiAkbmV4dEVsICYmICRuZXh0RWxbMF0sXG4gICAgICAgICRwcmV2RWw6ICRwcmV2RWwsXG4gICAgICAgIHByZXZFbDogJHByZXZFbCAmJiAkcHJldkVsWzBdXG4gICAgICB9KTtcblxuICAgICAgaWYgKCFzd2lwZXIuZW5hYmxlZCkge1xuICAgICAgICBpZiAoJG5leHRFbCkgJG5leHRFbC5hZGRDbGFzcyhwYXJhbXMubG9ja0NsYXNzKTtcbiAgICAgICAgaWYgKCRwcmV2RWwpICRwcmV2RWwuYWRkQ2xhc3MocGFyYW1zLmxvY2tDbGFzcyk7XG4gICAgICB9XG4gICAgfSxcbiAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgICB2YXIgX3N3aXBlciRuYXZpZ2F0aW9uMiA9IHN3aXBlci5uYXZpZ2F0aW9uLFxuICAgICAgICAgICRuZXh0RWwgPSBfc3dpcGVyJG5hdmlnYXRpb24yLiRuZXh0RWwsXG4gICAgICAgICAgJHByZXZFbCA9IF9zd2lwZXIkbmF2aWdhdGlvbjIuJHByZXZFbDtcblxuICAgICAgaWYgKCRuZXh0RWwgJiYgJG5leHRFbC5sZW5ndGgpIHtcbiAgICAgICAgJG5leHRFbC5vZmYoJ2NsaWNrJywgc3dpcGVyLm5hdmlnYXRpb24ub25OZXh0Q2xpY2spO1xuICAgICAgICAkbmV4dEVsLnJlbW92ZUNsYXNzKHN3aXBlci5wYXJhbXMubmF2aWdhdGlvbi5kaXNhYmxlZENsYXNzKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCRwcmV2RWwgJiYgJHByZXZFbC5sZW5ndGgpIHtcbiAgICAgICAgJHByZXZFbC5vZmYoJ2NsaWNrJywgc3dpcGVyLm5hdmlnYXRpb24ub25QcmV2Q2xpY2spO1xuICAgICAgICAkcHJldkVsLnJlbW92ZUNsYXNzKHN3aXBlci5wYXJhbXMubmF2aWdhdGlvbi5kaXNhYmxlZENsYXNzKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIHZhciBOYXZpZ2F0aW9uJDEgPSB7XG4gICAgbmFtZTogJ25hdmlnYXRpb24nLFxuICAgIHBhcmFtczoge1xuICAgICAgbmF2aWdhdGlvbjoge1xuICAgICAgICBuZXh0RWw6IG51bGwsXG4gICAgICAgIHByZXZFbDogbnVsbCxcbiAgICAgICAgaGlkZU9uQ2xpY2s6IGZhbHNlLFxuICAgICAgICBkaXNhYmxlZENsYXNzOiAnc3dpcGVyLWJ1dHRvbi1kaXNhYmxlZCcsXG4gICAgICAgIGhpZGRlbkNsYXNzOiAnc3dpcGVyLWJ1dHRvbi1oaWRkZW4nLFxuICAgICAgICBsb2NrQ2xhc3M6ICdzd2lwZXItYnV0dG9uLWxvY2snXG4gICAgICB9XG4gICAgfSxcbiAgICBjcmVhdGU6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgICAgYmluZE1vZHVsZU1ldGhvZHMoc3dpcGVyLCB7XG4gICAgICAgIG5hdmlnYXRpb246IF9leHRlbmRzKHt9LCBOYXZpZ2F0aW9uKVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBvbjoge1xuICAgICAgaW5pdDogZnVuY3Rpb24gaW5pdChzd2lwZXIpIHtcbiAgICAgICAgc3dpcGVyLm5hdmlnYXRpb24uaW5pdCgpO1xuICAgICAgICBzd2lwZXIubmF2aWdhdGlvbi51cGRhdGUoKTtcbiAgICAgIH0sXG4gICAgICB0b0VkZ2U6IGZ1bmN0aW9uIHRvRWRnZShzd2lwZXIpIHtcbiAgICAgICAgc3dpcGVyLm5hdmlnYXRpb24udXBkYXRlKCk7XG4gICAgICB9LFxuICAgICAgZnJvbUVkZ2U6IGZ1bmN0aW9uIGZyb21FZGdlKHN3aXBlcikge1xuICAgICAgICBzd2lwZXIubmF2aWdhdGlvbi51cGRhdGUoKTtcbiAgICAgIH0sXG4gICAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KHN3aXBlcikge1xuICAgICAgICBzd2lwZXIubmF2aWdhdGlvbi5kZXN0cm95KCk7XG4gICAgICB9LFxuICAgICAgJ2VuYWJsZSBkaXNhYmxlJzogZnVuY3Rpb24gZW5hYmxlRGlzYWJsZShzd2lwZXIpIHtcbiAgICAgICAgdmFyIF9zd2lwZXIkbmF2aWdhdGlvbjMgPSBzd2lwZXIubmF2aWdhdGlvbixcbiAgICAgICAgICAgICRuZXh0RWwgPSBfc3dpcGVyJG5hdmlnYXRpb24zLiRuZXh0RWwsXG4gICAgICAgICAgICAkcHJldkVsID0gX3N3aXBlciRuYXZpZ2F0aW9uMy4kcHJldkVsO1xuXG4gICAgICAgIGlmICgkbmV4dEVsKSB7XG4gICAgICAgICAgJG5leHRFbFtzd2lwZXIuZW5hYmxlZCA/ICdyZW1vdmVDbGFzcycgOiAnYWRkQ2xhc3MnXShzd2lwZXIucGFyYW1zLm5hdmlnYXRpb24ubG9ja0NsYXNzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgkcHJldkVsKSB7XG4gICAgICAgICAgJHByZXZFbFtzd2lwZXIuZW5hYmxlZCA/ICdyZW1vdmVDbGFzcycgOiAnYWRkQ2xhc3MnXShzd2lwZXIucGFyYW1zLm5hdmlnYXRpb24ubG9ja0NsYXNzKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGNsaWNrOiBmdW5jdGlvbiBjbGljayhzd2lwZXIsIGUpIHtcbiAgICAgICAgdmFyIF9zd2lwZXIkbmF2aWdhdGlvbjQgPSBzd2lwZXIubmF2aWdhdGlvbixcbiAgICAgICAgICAgICRuZXh0RWwgPSBfc3dpcGVyJG5hdmlnYXRpb240LiRuZXh0RWwsXG4gICAgICAgICAgICAkcHJldkVsID0gX3N3aXBlciRuYXZpZ2F0aW9uNC4kcHJldkVsO1xuICAgICAgICB2YXIgdGFyZ2V0RWwgPSBlLnRhcmdldDtcblxuICAgICAgICBpZiAoc3dpcGVyLnBhcmFtcy5uYXZpZ2F0aW9uLmhpZGVPbkNsaWNrICYmICEkKHRhcmdldEVsKS5pcygkcHJldkVsKSAmJiAhJCh0YXJnZXRFbCkuaXMoJG5leHRFbCkpIHtcbiAgICAgICAgICBpZiAoc3dpcGVyLnBhZ2luYXRpb24gJiYgc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uICYmIHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbi5jbGlja2FibGUgJiYgKHN3aXBlci5wYWdpbmF0aW9uLmVsID09PSB0YXJnZXRFbCB8fCBzd2lwZXIucGFnaW5hdGlvbi5lbC5jb250YWlucyh0YXJnZXRFbCkpKSByZXR1cm47XG4gICAgICAgICAgdmFyIGlzSGlkZGVuO1xuXG4gICAgICAgICAgaWYgKCRuZXh0RWwpIHtcbiAgICAgICAgICAgIGlzSGlkZGVuID0gJG5leHRFbC5oYXNDbGFzcyhzd2lwZXIucGFyYW1zLm5hdmlnYXRpb24uaGlkZGVuQ2xhc3MpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoJHByZXZFbCkge1xuICAgICAgICAgICAgaXNIaWRkZW4gPSAkcHJldkVsLmhhc0NsYXNzKHN3aXBlci5wYXJhbXMubmF2aWdhdGlvbi5oaWRkZW5DbGFzcyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGlzSGlkZGVuID09PSB0cnVlKSB7XG4gICAgICAgICAgICBzd2lwZXIuZW1pdCgnbmF2aWdhdGlvblNob3cnKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3dpcGVyLmVtaXQoJ25hdmlnYXRpb25IaWRlJyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCRuZXh0RWwpIHtcbiAgICAgICAgICAgICRuZXh0RWwudG9nZ2xlQ2xhc3Moc3dpcGVyLnBhcmFtcy5uYXZpZ2F0aW9uLmhpZGRlbkNsYXNzKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoJHByZXZFbCkge1xuICAgICAgICAgICAgJHByZXZFbC50b2dnbGVDbGFzcyhzd2lwZXIucGFyYW1zLm5hdmlnYXRpb24uaGlkZGVuQ2xhc3MpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB2YXIgUGFnaW5hdGlvbiA9IHtcbiAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZSgpIHtcbiAgICAgIC8vIFJlbmRlciB8fCBVcGRhdGUgUGFnaW5hdGlvbiBidWxsZXRzL2l0ZW1zXG4gICAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICAgIHZhciBydGwgPSBzd2lwZXIucnRsO1xuICAgICAgdmFyIHBhcmFtcyA9IHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbjtcbiAgICAgIGlmICghcGFyYW1zLmVsIHx8ICFzd2lwZXIucGFnaW5hdGlvbi5lbCB8fCAhc3dpcGVyLnBhZ2luYXRpb24uJGVsIHx8IHN3aXBlci5wYWdpbmF0aW9uLiRlbC5sZW5ndGggPT09IDApIHJldHVybjtcbiAgICAgIHZhciBzbGlkZXNMZW5ndGggPSBzd2lwZXIudmlydHVhbCAmJiBzd2lwZXIucGFyYW1zLnZpcnR1YWwuZW5hYmxlZCA/IHN3aXBlci52aXJ0dWFsLnNsaWRlcy5sZW5ndGggOiBzd2lwZXIuc2xpZGVzLmxlbmd0aDtcbiAgICAgIHZhciAkZWwgPSBzd2lwZXIucGFnaW5hdGlvbi4kZWw7IC8vIEN1cnJlbnQvVG90YWxcblxuICAgICAgdmFyIGN1cnJlbnQ7XG4gICAgICB2YXIgdG90YWwgPSBzd2lwZXIucGFyYW1zLmxvb3AgPyBNYXRoLmNlaWwoKHNsaWRlc0xlbmd0aCAtIHN3aXBlci5sb29wZWRTbGlkZXMgKiAyKSAvIHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyR3JvdXApIDogc3dpcGVyLnNuYXBHcmlkLmxlbmd0aDtcblxuICAgICAgaWYgKHN3aXBlci5wYXJhbXMubG9vcCkge1xuICAgICAgICBjdXJyZW50ID0gTWF0aC5jZWlsKChzd2lwZXIuYWN0aXZlSW5kZXggLSBzd2lwZXIubG9vcGVkU2xpZGVzKSAvIHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyR3JvdXApO1xuXG4gICAgICAgIGlmIChjdXJyZW50ID4gc2xpZGVzTGVuZ3RoIC0gMSAtIHN3aXBlci5sb29wZWRTbGlkZXMgKiAyKSB7XG4gICAgICAgICAgY3VycmVudCAtPSBzbGlkZXNMZW5ndGggLSBzd2lwZXIubG9vcGVkU2xpZGVzICogMjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjdXJyZW50ID4gdG90YWwgLSAxKSBjdXJyZW50IC09IHRvdGFsO1xuICAgICAgICBpZiAoY3VycmVudCA8IDAgJiYgc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uVHlwZSAhPT0gJ2J1bGxldHMnKSBjdXJyZW50ID0gdG90YWwgKyBjdXJyZW50O1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygc3dpcGVyLnNuYXBJbmRleCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY3VycmVudCA9IHN3aXBlci5zbmFwSW5kZXg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjdXJyZW50ID0gc3dpcGVyLmFjdGl2ZUluZGV4IHx8IDA7XG4gICAgICB9IC8vIFR5cGVzXG5cblxuICAgICAgaWYgKHBhcmFtcy50eXBlID09PSAnYnVsbGV0cycgJiYgc3dpcGVyLnBhZ2luYXRpb24uYnVsbGV0cyAmJiBzd2lwZXIucGFnaW5hdGlvbi5idWxsZXRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdmFyIGJ1bGxldHMgPSBzd2lwZXIucGFnaW5hdGlvbi5idWxsZXRzO1xuICAgICAgICB2YXIgZmlyc3RJbmRleDtcbiAgICAgICAgdmFyIGxhc3RJbmRleDtcbiAgICAgICAgdmFyIG1pZEluZGV4O1xuXG4gICAgICAgIGlmIChwYXJhbXMuZHluYW1pY0J1bGxldHMpIHtcbiAgICAgICAgICBzd2lwZXIucGFnaW5hdGlvbi5idWxsZXRTaXplID0gYnVsbGV0cy5lcSgwKVtzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyAnb3V0ZXJXaWR0aCcgOiAnb3V0ZXJIZWlnaHQnXSh0cnVlKTtcbiAgICAgICAgICAkZWwuY3NzKHN3aXBlci5pc0hvcml6b250YWwoKSA/ICd3aWR0aCcgOiAnaGVpZ2h0Jywgc3dpcGVyLnBhZ2luYXRpb24uYnVsbGV0U2l6ZSAqIChwYXJhbXMuZHluYW1pY01haW5CdWxsZXRzICsgNCkgKyBcInB4XCIpO1xuXG4gICAgICAgICAgaWYgKHBhcmFtcy5keW5hbWljTWFpbkJ1bGxldHMgPiAxICYmIHN3aXBlci5wcmV2aW91c0luZGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHN3aXBlci5wYWdpbmF0aW9uLmR5bmFtaWNCdWxsZXRJbmRleCArPSBjdXJyZW50IC0gc3dpcGVyLnByZXZpb3VzSW5kZXg7XG5cbiAgICAgICAgICAgIGlmIChzd2lwZXIucGFnaW5hdGlvbi5keW5hbWljQnVsbGV0SW5kZXggPiBwYXJhbXMuZHluYW1pY01haW5CdWxsZXRzIC0gMSkge1xuICAgICAgICAgICAgICBzd2lwZXIucGFnaW5hdGlvbi5keW5hbWljQnVsbGV0SW5kZXggPSBwYXJhbXMuZHluYW1pY01haW5CdWxsZXRzIC0gMTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc3dpcGVyLnBhZ2luYXRpb24uZHluYW1pY0J1bGxldEluZGV4IDwgMCkge1xuICAgICAgICAgICAgICBzd2lwZXIucGFnaW5hdGlvbi5keW5hbWljQnVsbGV0SW5kZXggPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGZpcnN0SW5kZXggPSBjdXJyZW50IC0gc3dpcGVyLnBhZ2luYXRpb24uZHluYW1pY0J1bGxldEluZGV4O1xuICAgICAgICAgIGxhc3RJbmRleCA9IGZpcnN0SW5kZXggKyAoTWF0aC5taW4oYnVsbGV0cy5sZW5ndGgsIHBhcmFtcy5keW5hbWljTWFpbkJ1bGxldHMpIC0gMSk7XG4gICAgICAgICAgbWlkSW5kZXggPSAobGFzdEluZGV4ICsgZmlyc3RJbmRleCkgLyAyO1xuICAgICAgICB9XG5cbiAgICAgICAgYnVsbGV0cy5yZW1vdmVDbGFzcyhwYXJhbXMuYnVsbGV0QWN0aXZlQ2xhc3MgKyBcIiBcIiArIHBhcmFtcy5idWxsZXRBY3RpdmVDbGFzcyArIFwiLW5leHQgXCIgKyBwYXJhbXMuYnVsbGV0QWN0aXZlQ2xhc3MgKyBcIi1uZXh0LW5leHQgXCIgKyBwYXJhbXMuYnVsbGV0QWN0aXZlQ2xhc3MgKyBcIi1wcmV2IFwiICsgcGFyYW1zLmJ1bGxldEFjdGl2ZUNsYXNzICsgXCItcHJldi1wcmV2IFwiICsgcGFyYW1zLmJ1bGxldEFjdGl2ZUNsYXNzICsgXCItbWFpblwiKTtcblxuICAgICAgICBpZiAoJGVsLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICBidWxsZXRzLmVhY2goZnVuY3Rpb24gKGJ1bGxldCkge1xuICAgICAgICAgICAgdmFyICRidWxsZXQgPSAkKGJ1bGxldCk7XG4gICAgICAgICAgICB2YXIgYnVsbGV0SW5kZXggPSAkYnVsbGV0LmluZGV4KCk7XG5cbiAgICAgICAgICAgIGlmIChidWxsZXRJbmRleCA9PT0gY3VycmVudCkge1xuICAgICAgICAgICAgICAkYnVsbGV0LmFkZENsYXNzKHBhcmFtcy5idWxsZXRBY3RpdmVDbGFzcyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChwYXJhbXMuZHluYW1pY0J1bGxldHMpIHtcbiAgICAgICAgICAgICAgaWYgKGJ1bGxldEluZGV4ID49IGZpcnN0SW5kZXggJiYgYnVsbGV0SW5kZXggPD0gbGFzdEluZGV4KSB7XG4gICAgICAgICAgICAgICAgJGJ1bGxldC5hZGRDbGFzcyhwYXJhbXMuYnVsbGV0QWN0aXZlQ2xhc3MgKyBcIi1tYWluXCIpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKGJ1bGxldEluZGV4ID09PSBmaXJzdEluZGV4KSB7XG4gICAgICAgICAgICAgICAgJGJ1bGxldC5wcmV2KCkuYWRkQ2xhc3MocGFyYW1zLmJ1bGxldEFjdGl2ZUNsYXNzICsgXCItcHJldlwiKS5wcmV2KCkuYWRkQ2xhc3MocGFyYW1zLmJ1bGxldEFjdGl2ZUNsYXNzICsgXCItcHJldi1wcmV2XCIpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKGJ1bGxldEluZGV4ID09PSBsYXN0SW5kZXgpIHtcbiAgICAgICAgICAgICAgICAkYnVsbGV0Lm5leHQoKS5hZGRDbGFzcyhwYXJhbXMuYnVsbGV0QWN0aXZlQ2xhc3MgKyBcIi1uZXh0XCIpLm5leHQoKS5hZGRDbGFzcyhwYXJhbXMuYnVsbGV0QWN0aXZlQ2xhc3MgKyBcIi1uZXh0LW5leHRcIik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgJGJ1bGxldCA9IGJ1bGxldHMuZXEoY3VycmVudCk7XG4gICAgICAgICAgdmFyIGJ1bGxldEluZGV4ID0gJGJ1bGxldC5pbmRleCgpO1xuICAgICAgICAgICRidWxsZXQuYWRkQ2xhc3MocGFyYW1zLmJ1bGxldEFjdGl2ZUNsYXNzKTtcblxuICAgICAgICAgIGlmIChwYXJhbXMuZHluYW1pY0J1bGxldHMpIHtcbiAgICAgICAgICAgIHZhciAkZmlyc3REaXNwbGF5ZWRCdWxsZXQgPSBidWxsZXRzLmVxKGZpcnN0SW5kZXgpO1xuICAgICAgICAgICAgdmFyICRsYXN0RGlzcGxheWVkQnVsbGV0ID0gYnVsbGV0cy5lcShsYXN0SW5kZXgpO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gZmlyc3RJbmRleDsgaSA8PSBsYXN0SW5kZXg7IGkgKz0gMSkge1xuICAgICAgICAgICAgICBidWxsZXRzLmVxKGkpLmFkZENsYXNzKHBhcmFtcy5idWxsZXRBY3RpdmVDbGFzcyArIFwiLW1haW5cIik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzd2lwZXIucGFyYW1zLmxvb3ApIHtcbiAgICAgICAgICAgICAgaWYgKGJ1bGxldEluZGV4ID49IGJ1bGxldHMubGVuZ3RoIC0gcGFyYW1zLmR5bmFtaWNNYWluQnVsbGV0cykge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIF9pID0gcGFyYW1zLmR5bmFtaWNNYWluQnVsbGV0czsgX2kgPj0gMDsgX2kgLT0gMSkge1xuICAgICAgICAgICAgICAgICAgYnVsbGV0cy5lcShidWxsZXRzLmxlbmd0aCAtIF9pKS5hZGRDbGFzcyhwYXJhbXMuYnVsbGV0QWN0aXZlQ2xhc3MgKyBcIi1tYWluXCIpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGJ1bGxldHMuZXEoYnVsbGV0cy5sZW5ndGggLSBwYXJhbXMuZHluYW1pY01haW5CdWxsZXRzIC0gMSkuYWRkQ2xhc3MocGFyYW1zLmJ1bGxldEFjdGl2ZUNsYXNzICsgXCItcHJldlwiKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkZmlyc3REaXNwbGF5ZWRCdWxsZXQucHJldigpLmFkZENsYXNzKHBhcmFtcy5idWxsZXRBY3RpdmVDbGFzcyArIFwiLXByZXZcIikucHJldigpLmFkZENsYXNzKHBhcmFtcy5idWxsZXRBY3RpdmVDbGFzcyArIFwiLXByZXYtcHJldlwiKTtcbiAgICAgICAgICAgICAgICAkbGFzdERpc3BsYXllZEJ1bGxldC5uZXh0KCkuYWRkQ2xhc3MocGFyYW1zLmJ1bGxldEFjdGl2ZUNsYXNzICsgXCItbmV4dFwiKS5uZXh0KCkuYWRkQ2xhc3MocGFyYW1zLmJ1bGxldEFjdGl2ZUNsYXNzICsgXCItbmV4dC1uZXh0XCIpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAkZmlyc3REaXNwbGF5ZWRCdWxsZXQucHJldigpLmFkZENsYXNzKHBhcmFtcy5idWxsZXRBY3RpdmVDbGFzcyArIFwiLXByZXZcIikucHJldigpLmFkZENsYXNzKHBhcmFtcy5idWxsZXRBY3RpdmVDbGFzcyArIFwiLXByZXYtcHJldlwiKTtcbiAgICAgICAgICAgICAgJGxhc3REaXNwbGF5ZWRCdWxsZXQubmV4dCgpLmFkZENsYXNzKHBhcmFtcy5idWxsZXRBY3RpdmVDbGFzcyArIFwiLW5leHRcIikubmV4dCgpLmFkZENsYXNzKHBhcmFtcy5idWxsZXRBY3RpdmVDbGFzcyArIFwiLW5leHQtbmV4dFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGFyYW1zLmR5bmFtaWNCdWxsZXRzKSB7XG4gICAgICAgICAgdmFyIGR5bmFtaWNCdWxsZXRzTGVuZ3RoID0gTWF0aC5taW4oYnVsbGV0cy5sZW5ndGgsIHBhcmFtcy5keW5hbWljTWFpbkJ1bGxldHMgKyA0KTtcbiAgICAgICAgICB2YXIgYnVsbGV0c09mZnNldCA9IChzd2lwZXIucGFnaW5hdGlvbi5idWxsZXRTaXplICogZHluYW1pY0J1bGxldHNMZW5ndGggLSBzd2lwZXIucGFnaW5hdGlvbi5idWxsZXRTaXplKSAvIDIgLSBtaWRJbmRleCAqIHN3aXBlci5wYWdpbmF0aW9uLmJ1bGxldFNpemU7XG4gICAgICAgICAgdmFyIG9mZnNldFByb3AgPSBydGwgPyAncmlnaHQnIDogJ2xlZnQnO1xuICAgICAgICAgIGJ1bGxldHMuY3NzKHN3aXBlci5pc0hvcml6b250YWwoKSA/IG9mZnNldFByb3AgOiAndG9wJywgYnVsbGV0c09mZnNldCArIFwicHhcIik7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHBhcmFtcy50eXBlID09PSAnZnJhY3Rpb24nKSB7XG4gICAgICAgICRlbC5maW5kKGNsYXNzZXNUb1NlbGVjdG9yKHBhcmFtcy5jdXJyZW50Q2xhc3MpKS50ZXh0KHBhcmFtcy5mb3JtYXRGcmFjdGlvbkN1cnJlbnQoY3VycmVudCArIDEpKTtcbiAgICAgICAgJGVsLmZpbmQoY2xhc3Nlc1RvU2VsZWN0b3IocGFyYW1zLnRvdGFsQ2xhc3MpKS50ZXh0KHBhcmFtcy5mb3JtYXRGcmFjdGlvblRvdGFsKHRvdGFsKSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChwYXJhbXMudHlwZSA9PT0gJ3Byb2dyZXNzYmFyJykge1xuICAgICAgICB2YXIgcHJvZ3Jlc3NiYXJEaXJlY3Rpb247XG5cbiAgICAgICAgaWYgKHBhcmFtcy5wcm9ncmVzc2Jhck9wcG9zaXRlKSB7XG4gICAgICAgICAgcHJvZ3Jlc3NiYXJEaXJlY3Rpb24gPSBzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyAndmVydGljYWwnIDogJ2hvcml6b250YWwnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHByb2dyZXNzYmFyRGlyZWN0aW9uID0gc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gJ2hvcml6b250YWwnIDogJ3ZlcnRpY2FsJztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzY2FsZSA9IChjdXJyZW50ICsgMSkgLyB0b3RhbDtcbiAgICAgICAgdmFyIHNjYWxlWCA9IDE7XG4gICAgICAgIHZhciBzY2FsZVkgPSAxO1xuXG4gICAgICAgIGlmIChwcm9ncmVzc2JhckRpcmVjdGlvbiA9PT0gJ2hvcml6b250YWwnKSB7XG4gICAgICAgICAgc2NhbGVYID0gc2NhbGU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2NhbGVZID0gc2NhbGU7XG4gICAgICAgIH1cblxuICAgICAgICAkZWwuZmluZChjbGFzc2VzVG9TZWxlY3RvcihwYXJhbXMucHJvZ3Jlc3NiYXJGaWxsQ2xhc3MpKS50cmFuc2Zvcm0oXCJ0cmFuc2xhdGUzZCgwLDAsMCkgc2NhbGVYKFwiICsgc2NhbGVYICsgXCIpIHNjYWxlWShcIiArIHNjYWxlWSArIFwiKVwiKS50cmFuc2l0aW9uKHN3aXBlci5wYXJhbXMuc3BlZWQpO1xuICAgICAgfVxuXG4gICAgICBpZiAocGFyYW1zLnR5cGUgPT09ICdjdXN0b20nICYmIHBhcmFtcy5yZW5kZXJDdXN0b20pIHtcbiAgICAgICAgJGVsLmh0bWwocGFyYW1zLnJlbmRlckN1c3RvbShzd2lwZXIsIGN1cnJlbnQgKyAxLCB0b3RhbCkpO1xuICAgICAgICBzd2lwZXIuZW1pdCgncGFnaW5hdGlvblJlbmRlcicsICRlbFswXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzd2lwZXIuZW1pdCgncGFnaW5hdGlvblVwZGF0ZScsICRlbFswXSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLndhdGNoT3ZlcmZsb3cgJiYgc3dpcGVyLmVuYWJsZWQpIHtcbiAgICAgICAgJGVsW3N3aXBlci5pc0xvY2tlZCA/ICdhZGRDbGFzcycgOiAncmVtb3ZlQ2xhc3MnXShwYXJhbXMubG9ja0NsYXNzKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgLy8gUmVuZGVyIENvbnRhaW5lclxuICAgICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgICB2YXIgcGFyYW1zID0gc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uO1xuICAgICAgaWYgKCFwYXJhbXMuZWwgfHwgIXN3aXBlci5wYWdpbmF0aW9uLmVsIHx8ICFzd2lwZXIucGFnaW5hdGlvbi4kZWwgfHwgc3dpcGVyLnBhZ2luYXRpb24uJGVsLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICAgICAgdmFyIHNsaWRlc0xlbmd0aCA9IHN3aXBlci52aXJ0dWFsICYmIHN3aXBlci5wYXJhbXMudmlydHVhbC5lbmFibGVkID8gc3dpcGVyLnZpcnR1YWwuc2xpZGVzLmxlbmd0aCA6IHN3aXBlci5zbGlkZXMubGVuZ3RoO1xuICAgICAgdmFyICRlbCA9IHN3aXBlci5wYWdpbmF0aW9uLiRlbDtcbiAgICAgIHZhciBwYWdpbmF0aW9uSFRNTCA9ICcnO1xuXG4gICAgICBpZiAocGFyYW1zLnR5cGUgPT09ICdidWxsZXRzJykge1xuICAgICAgICB2YXIgbnVtYmVyT2ZCdWxsZXRzID0gc3dpcGVyLnBhcmFtcy5sb29wID8gTWF0aC5jZWlsKChzbGlkZXNMZW5ndGggLSBzd2lwZXIubG9vcGVkU2xpZGVzICogMikgLyBzd2lwZXIucGFyYW1zLnNsaWRlc1Blckdyb3VwKSA6IHN3aXBlci5zbmFwR3JpZC5sZW5ndGg7XG5cbiAgICAgICAgaWYgKHN3aXBlci5wYXJhbXMuZnJlZU1vZGUgJiYgIXN3aXBlci5wYXJhbXMubG9vcCAmJiBudW1iZXJPZkJ1bGxldHMgPiBzbGlkZXNMZW5ndGgpIHtcbiAgICAgICAgICBudW1iZXJPZkJ1bGxldHMgPSBzbGlkZXNMZW5ndGg7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bWJlck9mQnVsbGV0czsgaSArPSAxKSB7XG4gICAgICAgICAgaWYgKHBhcmFtcy5yZW5kZXJCdWxsZXQpIHtcbiAgICAgICAgICAgIHBhZ2luYXRpb25IVE1MICs9IHBhcmFtcy5yZW5kZXJCdWxsZXQuY2FsbChzd2lwZXIsIGksIHBhcmFtcy5idWxsZXRDbGFzcyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhZ2luYXRpb25IVE1MICs9IFwiPFwiICsgcGFyYW1zLmJ1bGxldEVsZW1lbnQgKyBcIiBjbGFzcz1cXFwiXCIgKyBwYXJhbXMuYnVsbGV0Q2xhc3MgKyBcIlxcXCI+PC9cIiArIHBhcmFtcy5idWxsZXRFbGVtZW50ICsgXCI+XCI7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgJGVsLmh0bWwocGFnaW5hdGlvbkhUTUwpO1xuICAgICAgICBzd2lwZXIucGFnaW5hdGlvbi5idWxsZXRzID0gJGVsLmZpbmQoY2xhc3Nlc1RvU2VsZWN0b3IocGFyYW1zLmJ1bGxldENsYXNzKSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChwYXJhbXMudHlwZSA9PT0gJ2ZyYWN0aW9uJykge1xuICAgICAgICBpZiAocGFyYW1zLnJlbmRlckZyYWN0aW9uKSB7XG4gICAgICAgICAgcGFnaW5hdGlvbkhUTUwgPSBwYXJhbXMucmVuZGVyRnJhY3Rpb24uY2FsbChzd2lwZXIsIHBhcmFtcy5jdXJyZW50Q2xhc3MsIHBhcmFtcy50b3RhbENsYXNzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwYWdpbmF0aW9uSFRNTCA9IFwiPHNwYW4gY2xhc3M9XFxcIlwiICsgcGFyYW1zLmN1cnJlbnRDbGFzcyArIFwiXFxcIj48L3NwYW4+XCIgKyAnIC8gJyArIChcIjxzcGFuIGNsYXNzPVxcXCJcIiArIHBhcmFtcy50b3RhbENsYXNzICsgXCJcXFwiPjwvc3Bhbj5cIik7XG4gICAgICAgIH1cblxuICAgICAgICAkZWwuaHRtbChwYWdpbmF0aW9uSFRNTCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChwYXJhbXMudHlwZSA9PT0gJ3Byb2dyZXNzYmFyJykge1xuICAgICAgICBpZiAocGFyYW1zLnJlbmRlclByb2dyZXNzYmFyKSB7XG4gICAgICAgICAgcGFnaW5hdGlvbkhUTUwgPSBwYXJhbXMucmVuZGVyUHJvZ3Jlc3NiYXIuY2FsbChzd2lwZXIsIHBhcmFtcy5wcm9ncmVzc2JhckZpbGxDbGFzcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGFnaW5hdGlvbkhUTUwgPSBcIjxzcGFuIGNsYXNzPVxcXCJcIiArIHBhcmFtcy5wcm9ncmVzc2JhckZpbGxDbGFzcyArIFwiXFxcIj48L3NwYW4+XCI7XG4gICAgICAgIH1cblxuICAgICAgICAkZWwuaHRtbChwYWdpbmF0aW9uSFRNTCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChwYXJhbXMudHlwZSAhPT0gJ2N1c3RvbScpIHtcbiAgICAgICAgc3dpcGVyLmVtaXQoJ3BhZ2luYXRpb25SZW5kZXInLCBzd2lwZXIucGFnaW5hdGlvbi4kZWxbMF0pO1xuICAgICAgfVxuICAgIH0sXG4gICAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHtcbiAgICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgICAgc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uID0gY3JlYXRlRWxlbWVudElmTm90RGVmaW5lZChzd2lwZXIuJGVsLCBzd2lwZXIucGFyYW1zLnBhZ2luYXRpb24sIHN3aXBlci5wYXJhbXMuY3JlYXRlRWxlbWVudHMsIHtcbiAgICAgICAgZWw6ICdzd2lwZXItcGFnaW5hdGlvbidcbiAgICAgIH0pO1xuICAgICAgdmFyIHBhcmFtcyA9IHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbjtcbiAgICAgIGlmICghcGFyYW1zLmVsKSByZXR1cm47XG4gICAgICB2YXIgJGVsID0gJChwYXJhbXMuZWwpO1xuICAgICAgaWYgKCRlbC5sZW5ndGggPT09IDApIHJldHVybjtcblxuICAgICAgaWYgKHN3aXBlci5wYXJhbXMudW5pcXVlTmF2RWxlbWVudHMgJiYgdHlwZW9mIHBhcmFtcy5lbCA9PT0gJ3N0cmluZycgJiYgJGVsLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgJGVsID0gc3dpcGVyLiRlbC5maW5kKHBhcmFtcy5lbCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChwYXJhbXMudHlwZSA9PT0gJ2J1bGxldHMnICYmIHBhcmFtcy5jbGlja2FibGUpIHtcbiAgICAgICAgJGVsLmFkZENsYXNzKHBhcmFtcy5jbGlja2FibGVDbGFzcyk7XG4gICAgICB9XG5cbiAgICAgICRlbC5hZGRDbGFzcyhwYXJhbXMubW9kaWZpZXJDbGFzcyArIHBhcmFtcy50eXBlKTtcblxuICAgICAgaWYgKHBhcmFtcy50eXBlID09PSAnYnVsbGV0cycgJiYgcGFyYW1zLmR5bmFtaWNCdWxsZXRzKSB7XG4gICAgICAgICRlbC5hZGRDbGFzcyhcIlwiICsgcGFyYW1zLm1vZGlmaWVyQ2xhc3MgKyBwYXJhbXMudHlwZSArIFwiLWR5bmFtaWNcIik7XG4gICAgICAgIHN3aXBlci5wYWdpbmF0aW9uLmR5bmFtaWNCdWxsZXRJbmRleCA9IDA7XG5cbiAgICAgICAgaWYgKHBhcmFtcy5keW5hbWljTWFpbkJ1bGxldHMgPCAxKSB7XG4gICAgICAgICAgcGFyYW1zLmR5bmFtaWNNYWluQnVsbGV0cyA9IDE7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHBhcmFtcy50eXBlID09PSAncHJvZ3Jlc3NiYXInICYmIHBhcmFtcy5wcm9ncmVzc2Jhck9wcG9zaXRlKSB7XG4gICAgICAgICRlbC5hZGRDbGFzcyhwYXJhbXMucHJvZ3Jlc3NiYXJPcHBvc2l0ZUNsYXNzKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHBhcmFtcy5jbGlja2FibGUpIHtcbiAgICAgICAgJGVsLm9uKCdjbGljaycsIGNsYXNzZXNUb1NlbGVjdG9yKHBhcmFtcy5idWxsZXRDbGFzcyksIGZ1bmN0aW9uIG9uQ2xpY2soZSkge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICB2YXIgaW5kZXggPSAkKHRoaXMpLmluZGV4KCkgKiBzd2lwZXIucGFyYW1zLnNsaWRlc1Blckdyb3VwO1xuICAgICAgICAgIGlmIChzd2lwZXIucGFyYW1zLmxvb3ApIGluZGV4ICs9IHN3aXBlci5sb29wZWRTbGlkZXM7XG4gICAgICAgICAgc3dpcGVyLnNsaWRlVG8oaW5kZXgpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgZXh0ZW5kKHN3aXBlci5wYWdpbmF0aW9uLCB7XG4gICAgICAgICRlbDogJGVsLFxuICAgICAgICBlbDogJGVsWzBdXG4gICAgICB9KTtcblxuICAgICAgaWYgKCFzd2lwZXIuZW5hYmxlZCkge1xuICAgICAgICAkZWwuYWRkQ2xhc3MocGFyYW1zLmxvY2tDbGFzcyk7XG4gICAgICB9XG4gICAgfSxcbiAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgICB2YXIgcGFyYW1zID0gc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uO1xuICAgICAgaWYgKCFwYXJhbXMuZWwgfHwgIXN3aXBlci5wYWdpbmF0aW9uLmVsIHx8ICFzd2lwZXIucGFnaW5hdGlvbi4kZWwgfHwgc3dpcGVyLnBhZ2luYXRpb24uJGVsLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICAgICAgdmFyICRlbCA9IHN3aXBlci5wYWdpbmF0aW9uLiRlbDtcbiAgICAgICRlbC5yZW1vdmVDbGFzcyhwYXJhbXMuaGlkZGVuQ2xhc3MpO1xuICAgICAgJGVsLnJlbW92ZUNsYXNzKHBhcmFtcy5tb2RpZmllckNsYXNzICsgcGFyYW1zLnR5cGUpO1xuICAgICAgaWYgKHN3aXBlci5wYWdpbmF0aW9uLmJ1bGxldHMpIHN3aXBlci5wYWdpbmF0aW9uLmJ1bGxldHMucmVtb3ZlQ2xhc3MocGFyYW1zLmJ1bGxldEFjdGl2ZUNsYXNzKTtcblxuICAgICAgaWYgKHBhcmFtcy5jbGlja2FibGUpIHtcbiAgICAgICAgJGVsLm9mZignY2xpY2snLCBjbGFzc2VzVG9TZWxlY3RvcihwYXJhbXMuYnVsbGV0Q2xhc3MpKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIHZhciBQYWdpbmF0aW9uJDEgPSB7XG4gICAgbmFtZTogJ3BhZ2luYXRpb24nLFxuICAgIHBhcmFtczoge1xuICAgICAgcGFnaW5hdGlvbjoge1xuICAgICAgICBlbDogbnVsbCxcbiAgICAgICAgYnVsbGV0RWxlbWVudDogJ3NwYW4nLFxuICAgICAgICBjbGlja2FibGU6IGZhbHNlLFxuICAgICAgICBoaWRlT25DbGljazogZmFsc2UsXG4gICAgICAgIHJlbmRlckJ1bGxldDogbnVsbCxcbiAgICAgICAgcmVuZGVyUHJvZ3Jlc3NiYXI6IG51bGwsXG4gICAgICAgIHJlbmRlckZyYWN0aW9uOiBudWxsLFxuICAgICAgICByZW5kZXJDdXN0b206IG51bGwsXG4gICAgICAgIHByb2dyZXNzYmFyT3Bwb3NpdGU6IGZhbHNlLFxuICAgICAgICB0eXBlOiAnYnVsbGV0cycsXG4gICAgICAgIC8vICdidWxsZXRzJyBvciAncHJvZ3Jlc3NiYXInIG9yICdmcmFjdGlvbicgb3IgJ2N1c3RvbSdcbiAgICAgICAgZHluYW1pY0J1bGxldHM6IGZhbHNlLFxuICAgICAgICBkeW5hbWljTWFpbkJ1bGxldHM6IDEsXG4gICAgICAgIGZvcm1hdEZyYWN0aW9uQ3VycmVudDogZnVuY3Rpb24gZm9ybWF0RnJhY3Rpb25DdXJyZW50KG51bWJlcikge1xuICAgICAgICAgIHJldHVybiBudW1iZXI7XG4gICAgICAgIH0sXG4gICAgICAgIGZvcm1hdEZyYWN0aW9uVG90YWw6IGZ1bmN0aW9uIGZvcm1hdEZyYWN0aW9uVG90YWwobnVtYmVyKSB7XG4gICAgICAgICAgcmV0dXJuIG51bWJlcjtcbiAgICAgICAgfSxcbiAgICAgICAgYnVsbGV0Q2xhc3M6ICdzd2lwZXItcGFnaW5hdGlvbi1idWxsZXQnLFxuICAgICAgICBidWxsZXRBY3RpdmVDbGFzczogJ3N3aXBlci1wYWdpbmF0aW9uLWJ1bGxldC1hY3RpdmUnLFxuICAgICAgICBtb2RpZmllckNsYXNzOiAnc3dpcGVyLXBhZ2luYXRpb24tJyxcbiAgICAgICAgLy8gTkVXXG4gICAgICAgIGN1cnJlbnRDbGFzczogJ3N3aXBlci1wYWdpbmF0aW9uLWN1cnJlbnQnLFxuICAgICAgICB0b3RhbENsYXNzOiAnc3dpcGVyLXBhZ2luYXRpb24tdG90YWwnLFxuICAgICAgICBoaWRkZW5DbGFzczogJ3N3aXBlci1wYWdpbmF0aW9uLWhpZGRlbicsXG4gICAgICAgIHByb2dyZXNzYmFyRmlsbENsYXNzOiAnc3dpcGVyLXBhZ2luYXRpb24tcHJvZ3Jlc3NiYXItZmlsbCcsXG4gICAgICAgIHByb2dyZXNzYmFyT3Bwb3NpdGVDbGFzczogJ3N3aXBlci1wYWdpbmF0aW9uLXByb2dyZXNzYmFyLW9wcG9zaXRlJyxcbiAgICAgICAgY2xpY2thYmxlQ2xhc3M6ICdzd2lwZXItcGFnaW5hdGlvbi1jbGlja2FibGUnLFxuICAgICAgICAvLyBORVdcbiAgICAgICAgbG9ja0NsYXNzOiAnc3dpcGVyLXBhZ2luYXRpb24tbG9jaydcbiAgICAgIH1cbiAgICB9LFxuICAgIGNyZWF0ZTogZnVuY3Rpb24gY3JlYXRlKCkge1xuICAgICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgICBiaW5kTW9kdWxlTWV0aG9kcyhzd2lwZXIsIHtcbiAgICAgICAgcGFnaW5hdGlvbjogX2V4dGVuZHMoe1xuICAgICAgICAgIGR5bmFtaWNCdWxsZXRJbmRleDogMFxuICAgICAgICB9LCBQYWdpbmF0aW9uKVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBvbjoge1xuICAgICAgaW5pdDogZnVuY3Rpb24gaW5pdChzd2lwZXIpIHtcbiAgICAgICAgc3dpcGVyLnBhZ2luYXRpb24uaW5pdCgpO1xuICAgICAgICBzd2lwZXIucGFnaW5hdGlvbi5yZW5kZXIoKTtcbiAgICAgICAgc3dpcGVyLnBhZ2luYXRpb24udXBkYXRlKCk7XG4gICAgICB9LFxuICAgICAgYWN0aXZlSW5kZXhDaGFuZ2U6IGZ1bmN0aW9uIGFjdGl2ZUluZGV4Q2hhbmdlKHN3aXBlcikge1xuICAgICAgICBpZiAoc3dpcGVyLnBhcmFtcy5sb29wKSB7XG4gICAgICAgICAgc3dpcGVyLnBhZ2luYXRpb24udXBkYXRlKCk7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHN3aXBlci5zbmFwSW5kZXggPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgc3dpcGVyLnBhZ2luYXRpb24udXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBzbmFwSW5kZXhDaGFuZ2U6IGZ1bmN0aW9uIHNuYXBJbmRleENoYW5nZShzd2lwZXIpIHtcbiAgICAgICAgaWYgKCFzd2lwZXIucGFyYW1zLmxvb3ApIHtcbiAgICAgICAgICBzd2lwZXIucGFnaW5hdGlvbi51cGRhdGUoKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHNsaWRlc0xlbmd0aENoYW5nZTogZnVuY3Rpb24gc2xpZGVzTGVuZ3RoQ2hhbmdlKHN3aXBlcikge1xuICAgICAgICBpZiAoc3dpcGVyLnBhcmFtcy5sb29wKSB7XG4gICAgICAgICAgc3dpcGVyLnBhZ2luYXRpb24ucmVuZGVyKCk7XG4gICAgICAgICAgc3dpcGVyLnBhZ2luYXRpb24udXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBzbmFwR3JpZExlbmd0aENoYW5nZTogZnVuY3Rpb24gc25hcEdyaWRMZW5ndGhDaGFuZ2Uoc3dpcGVyKSB7XG4gICAgICAgIGlmICghc3dpcGVyLnBhcmFtcy5sb29wKSB7XG4gICAgICAgICAgc3dpcGVyLnBhZ2luYXRpb24ucmVuZGVyKCk7XG4gICAgICAgICAgc3dpcGVyLnBhZ2luYXRpb24udXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KHN3aXBlcikge1xuICAgICAgICBzd2lwZXIucGFnaW5hdGlvbi5kZXN0cm95KCk7XG4gICAgICB9LFxuICAgICAgJ2VuYWJsZSBkaXNhYmxlJzogZnVuY3Rpb24gZW5hYmxlRGlzYWJsZShzd2lwZXIpIHtcbiAgICAgICAgdmFyICRlbCA9IHN3aXBlci5wYWdpbmF0aW9uLiRlbDtcblxuICAgICAgICBpZiAoJGVsKSB7XG4gICAgICAgICAgJGVsW3N3aXBlci5lbmFibGVkID8gJ3JlbW92ZUNsYXNzJyA6ICdhZGRDbGFzcyddKHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbi5sb2NrQ2xhc3MpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY2xpY2s6IGZ1bmN0aW9uIGNsaWNrKHN3aXBlciwgZSkge1xuICAgICAgICB2YXIgdGFyZ2V0RWwgPSBlLnRhcmdldDtcblxuICAgICAgICBpZiAoc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uLmVsICYmIHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbi5oaWRlT25DbGljayAmJiBzd2lwZXIucGFnaW5hdGlvbi4kZWwubGVuZ3RoID4gMCAmJiAhJCh0YXJnZXRFbCkuaGFzQ2xhc3Moc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uLmJ1bGxldENsYXNzKSkge1xuICAgICAgICAgIGlmIChzd2lwZXIubmF2aWdhdGlvbiAmJiAoc3dpcGVyLm5hdmlnYXRpb24ubmV4dEVsICYmIHRhcmdldEVsID09PSBzd2lwZXIubmF2aWdhdGlvbi5uZXh0RWwgfHwgc3dpcGVyLm5hdmlnYXRpb24ucHJldkVsICYmIHRhcmdldEVsID09PSBzd2lwZXIubmF2aWdhdGlvbi5wcmV2RWwpKSByZXR1cm47XG4gICAgICAgICAgdmFyIGlzSGlkZGVuID0gc3dpcGVyLnBhZ2luYXRpb24uJGVsLmhhc0NsYXNzKHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbi5oaWRkZW5DbGFzcyk7XG5cbiAgICAgICAgICBpZiAoaXNIaWRkZW4gPT09IHRydWUpIHtcbiAgICAgICAgICAgIHN3aXBlci5lbWl0KCdwYWdpbmF0aW9uU2hvdycpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzd2lwZXIuZW1pdCgncGFnaW5hdGlvbkhpZGUnKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBzd2lwZXIucGFnaW5hdGlvbi4kZWwudG9nZ2xlQ2xhc3Moc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uLmhpZGRlbkNsYXNzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB2YXIgU2Nyb2xsYmFyID0ge1xuICAgIHNldFRyYW5zbGF0ZTogZnVuY3Rpb24gc2V0VHJhbnNsYXRlKCkge1xuICAgICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgICBpZiAoIXN3aXBlci5wYXJhbXMuc2Nyb2xsYmFyLmVsIHx8ICFzd2lwZXIuc2Nyb2xsYmFyLmVsKSByZXR1cm47XG4gICAgICB2YXIgc2Nyb2xsYmFyID0gc3dpcGVyLnNjcm9sbGJhcixcbiAgICAgICAgICBydGwgPSBzd2lwZXIucnRsVHJhbnNsYXRlLFxuICAgICAgICAgIHByb2dyZXNzID0gc3dpcGVyLnByb2dyZXNzO1xuICAgICAgdmFyIGRyYWdTaXplID0gc2Nyb2xsYmFyLmRyYWdTaXplLFxuICAgICAgICAgIHRyYWNrU2l6ZSA9IHNjcm9sbGJhci50cmFja1NpemUsXG4gICAgICAgICAgJGRyYWdFbCA9IHNjcm9sbGJhci4kZHJhZ0VsLFxuICAgICAgICAgICRlbCA9IHNjcm9sbGJhci4kZWw7XG4gICAgICB2YXIgcGFyYW1zID0gc3dpcGVyLnBhcmFtcy5zY3JvbGxiYXI7XG4gICAgICB2YXIgbmV3U2l6ZSA9IGRyYWdTaXplO1xuICAgICAgdmFyIG5ld1BvcyA9ICh0cmFja1NpemUgLSBkcmFnU2l6ZSkgKiBwcm9ncmVzcztcblxuICAgICAgaWYgKHJ0bCkge1xuICAgICAgICBuZXdQb3MgPSAtbmV3UG9zO1xuXG4gICAgICAgIGlmIChuZXdQb3MgPiAwKSB7XG4gICAgICAgICAgbmV3U2l6ZSA9IGRyYWdTaXplIC0gbmV3UG9zO1xuICAgICAgICAgIG5ld1BvcyA9IDA7XG4gICAgICAgIH0gZWxzZSBpZiAoLW5ld1BvcyArIGRyYWdTaXplID4gdHJhY2tTaXplKSB7XG4gICAgICAgICAgbmV3U2l6ZSA9IHRyYWNrU2l6ZSArIG5ld1BvcztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChuZXdQb3MgPCAwKSB7XG4gICAgICAgIG5ld1NpemUgPSBkcmFnU2l6ZSArIG5ld1BvcztcbiAgICAgICAgbmV3UG9zID0gMDtcbiAgICAgIH0gZWxzZSBpZiAobmV3UG9zICsgZHJhZ1NpemUgPiB0cmFja1NpemUpIHtcbiAgICAgICAgbmV3U2l6ZSA9IHRyYWNrU2l6ZSAtIG5ld1BvcztcbiAgICAgIH1cblxuICAgICAgaWYgKHN3aXBlci5pc0hvcml6b250YWwoKSkge1xuICAgICAgICAkZHJhZ0VsLnRyYW5zZm9ybShcInRyYW5zbGF0ZTNkKFwiICsgbmV3UG9zICsgXCJweCwgMCwgMClcIik7XG4gICAgICAgICRkcmFnRWxbMF0uc3R5bGUud2lkdGggPSBuZXdTaXplICsgXCJweFwiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJGRyYWdFbC50cmFuc2Zvcm0oXCJ0cmFuc2xhdGUzZCgwcHgsIFwiICsgbmV3UG9zICsgXCJweCwgMClcIik7XG4gICAgICAgICRkcmFnRWxbMF0uc3R5bGUuaGVpZ2h0ID0gbmV3U2l6ZSArIFwicHhcIjtcbiAgICAgIH1cblxuICAgICAgaWYgKHBhcmFtcy5oaWRlKSB7XG4gICAgICAgIGNsZWFyVGltZW91dChzd2lwZXIuc2Nyb2xsYmFyLnRpbWVvdXQpO1xuICAgICAgICAkZWxbMF0uc3R5bGUub3BhY2l0eSA9IDE7XG4gICAgICAgIHN3aXBlci5zY3JvbGxiYXIudGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICRlbFswXS5zdHlsZS5vcGFjaXR5ID0gMDtcbiAgICAgICAgICAkZWwudHJhbnNpdGlvbig0MDApO1xuICAgICAgICB9LCAxMDAwKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHNldFRyYW5zaXRpb246IGZ1bmN0aW9uIHNldFRyYW5zaXRpb24oZHVyYXRpb24pIHtcbiAgICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgICAgaWYgKCFzd2lwZXIucGFyYW1zLnNjcm9sbGJhci5lbCB8fCAhc3dpcGVyLnNjcm9sbGJhci5lbCkgcmV0dXJuO1xuICAgICAgc3dpcGVyLnNjcm9sbGJhci4kZHJhZ0VsLnRyYW5zaXRpb24oZHVyYXRpb24pO1xuICAgIH0sXG4gICAgdXBkYXRlU2l6ZTogZnVuY3Rpb24gdXBkYXRlU2l6ZSgpIHtcbiAgICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgICAgaWYgKCFzd2lwZXIucGFyYW1zLnNjcm9sbGJhci5lbCB8fCAhc3dpcGVyLnNjcm9sbGJhci5lbCkgcmV0dXJuO1xuICAgICAgdmFyIHNjcm9sbGJhciA9IHN3aXBlci5zY3JvbGxiYXI7XG4gICAgICB2YXIgJGRyYWdFbCA9IHNjcm9sbGJhci4kZHJhZ0VsLFxuICAgICAgICAgICRlbCA9IHNjcm9sbGJhci4kZWw7XG4gICAgICAkZHJhZ0VsWzBdLnN0eWxlLndpZHRoID0gJyc7XG4gICAgICAkZHJhZ0VsWzBdLnN0eWxlLmhlaWdodCA9ICcnO1xuICAgICAgdmFyIHRyYWNrU2l6ZSA9IHN3aXBlci5pc0hvcml6b250YWwoKSA/ICRlbFswXS5vZmZzZXRXaWR0aCA6ICRlbFswXS5vZmZzZXRIZWlnaHQ7XG4gICAgICB2YXIgZGl2aWRlciA9IHN3aXBlci5zaXplIC8gc3dpcGVyLnZpcnR1YWxTaXplO1xuICAgICAgdmFyIG1vdmVEaXZpZGVyID0gZGl2aWRlciAqICh0cmFja1NpemUgLyBzd2lwZXIuc2l6ZSk7XG4gICAgICB2YXIgZHJhZ1NpemU7XG5cbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLnNjcm9sbGJhci5kcmFnU2l6ZSA9PT0gJ2F1dG8nKSB7XG4gICAgICAgIGRyYWdTaXplID0gdHJhY2tTaXplICogZGl2aWRlcjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRyYWdTaXplID0gcGFyc2VJbnQoc3dpcGVyLnBhcmFtcy5zY3JvbGxiYXIuZHJhZ1NpemUsIDEwKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHN3aXBlci5pc0hvcml6b250YWwoKSkge1xuICAgICAgICAkZHJhZ0VsWzBdLnN0eWxlLndpZHRoID0gZHJhZ1NpemUgKyBcInB4XCI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkZHJhZ0VsWzBdLnN0eWxlLmhlaWdodCA9IGRyYWdTaXplICsgXCJweFwiO1xuICAgICAgfVxuXG4gICAgICBpZiAoZGl2aWRlciA+PSAxKSB7XG4gICAgICAgICRlbFswXS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJGVsWzBdLnN0eWxlLmRpc3BsYXkgPSAnJztcbiAgICAgIH1cblxuICAgICAgaWYgKHN3aXBlci5wYXJhbXMuc2Nyb2xsYmFyLmhpZGUpIHtcbiAgICAgICAgJGVsWzBdLnN0eWxlLm9wYWNpdHkgPSAwO1xuICAgICAgfVxuXG4gICAgICBleHRlbmQoc2Nyb2xsYmFyLCB7XG4gICAgICAgIHRyYWNrU2l6ZTogdHJhY2tTaXplLFxuICAgICAgICBkaXZpZGVyOiBkaXZpZGVyLFxuICAgICAgICBtb3ZlRGl2aWRlcjogbW92ZURpdmlkZXIsXG4gICAgICAgIGRyYWdTaXplOiBkcmFnU2l6ZVxuICAgICAgfSk7XG5cbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLndhdGNoT3ZlcmZsb3cgJiYgc3dpcGVyLmVuYWJsZWQpIHtcbiAgICAgICAgc2Nyb2xsYmFyLiRlbFtzd2lwZXIuaXNMb2NrZWQgPyAnYWRkQ2xhc3MnIDogJ3JlbW92ZUNsYXNzJ10oc3dpcGVyLnBhcmFtcy5zY3JvbGxiYXIubG9ja0NsYXNzKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGdldFBvaW50ZXJQb3NpdGlvbjogZnVuY3Rpb24gZ2V0UG9pbnRlclBvc2l0aW9uKGUpIHtcbiAgICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuXG4gICAgICBpZiAoc3dpcGVyLmlzSG9yaXpvbnRhbCgpKSB7XG4gICAgICAgIHJldHVybiBlLnR5cGUgPT09ICd0b3VjaHN0YXJ0JyB8fCBlLnR5cGUgPT09ICd0b3VjaG1vdmUnID8gZS50YXJnZXRUb3VjaGVzWzBdLmNsaWVudFggOiBlLmNsaWVudFg7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBlLnR5cGUgPT09ICd0b3VjaHN0YXJ0JyB8fCBlLnR5cGUgPT09ICd0b3VjaG1vdmUnID8gZS50YXJnZXRUb3VjaGVzWzBdLmNsaWVudFkgOiBlLmNsaWVudFk7XG4gICAgfSxcbiAgICBzZXREcmFnUG9zaXRpb246IGZ1bmN0aW9uIHNldERyYWdQb3NpdGlvbihlKSB7XG4gICAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICAgIHZhciBzY3JvbGxiYXIgPSBzd2lwZXIuc2Nyb2xsYmFyLFxuICAgICAgICAgIHJ0bCA9IHN3aXBlci5ydGxUcmFuc2xhdGU7XG4gICAgICB2YXIgJGVsID0gc2Nyb2xsYmFyLiRlbCxcbiAgICAgICAgICBkcmFnU2l6ZSA9IHNjcm9sbGJhci5kcmFnU2l6ZSxcbiAgICAgICAgICB0cmFja1NpemUgPSBzY3JvbGxiYXIudHJhY2tTaXplLFxuICAgICAgICAgIGRyYWdTdGFydFBvcyA9IHNjcm9sbGJhci5kcmFnU3RhcnRQb3M7XG4gICAgICB2YXIgcG9zaXRpb25SYXRpbztcbiAgICAgIHBvc2l0aW9uUmF0aW8gPSAoc2Nyb2xsYmFyLmdldFBvaW50ZXJQb3NpdGlvbihlKSAtICRlbC5vZmZzZXQoKVtzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyAnbGVmdCcgOiAndG9wJ10gLSAoZHJhZ1N0YXJ0UG9zICE9PSBudWxsID8gZHJhZ1N0YXJ0UG9zIDogZHJhZ1NpemUgLyAyKSkgLyAodHJhY2tTaXplIC0gZHJhZ1NpemUpO1xuICAgICAgcG9zaXRpb25SYXRpbyA9IE1hdGgubWF4KE1hdGgubWluKHBvc2l0aW9uUmF0aW8sIDEpLCAwKTtcblxuICAgICAgaWYgKHJ0bCkge1xuICAgICAgICBwb3NpdGlvblJhdGlvID0gMSAtIHBvc2l0aW9uUmF0aW87XG4gICAgICB9XG5cbiAgICAgIHZhciBwb3NpdGlvbiA9IHN3aXBlci5taW5UcmFuc2xhdGUoKSArIChzd2lwZXIubWF4VHJhbnNsYXRlKCkgLSBzd2lwZXIubWluVHJhbnNsYXRlKCkpICogcG9zaXRpb25SYXRpbztcbiAgICAgIHN3aXBlci51cGRhdGVQcm9ncmVzcyhwb3NpdGlvbik7XG4gICAgICBzd2lwZXIuc2V0VHJhbnNsYXRlKHBvc2l0aW9uKTtcbiAgICAgIHN3aXBlci51cGRhdGVBY3RpdmVJbmRleCgpO1xuICAgICAgc3dpcGVyLnVwZGF0ZVNsaWRlc0NsYXNzZXMoKTtcbiAgICB9LFxuICAgIG9uRHJhZ1N0YXJ0OiBmdW5jdGlvbiBvbkRyYWdTdGFydChlKSB7XG4gICAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICAgIHZhciBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLnNjcm9sbGJhcjtcbiAgICAgIHZhciBzY3JvbGxiYXIgPSBzd2lwZXIuc2Nyb2xsYmFyLFxuICAgICAgICAgICR3cmFwcGVyRWwgPSBzd2lwZXIuJHdyYXBwZXJFbDtcbiAgICAgIHZhciAkZWwgPSBzY3JvbGxiYXIuJGVsLFxuICAgICAgICAgICRkcmFnRWwgPSBzY3JvbGxiYXIuJGRyYWdFbDtcbiAgICAgIHN3aXBlci5zY3JvbGxiYXIuaXNUb3VjaGVkID0gdHJ1ZTtcbiAgICAgIHN3aXBlci5zY3JvbGxiYXIuZHJhZ1N0YXJ0UG9zID0gZS50YXJnZXQgPT09ICRkcmFnRWxbMF0gfHwgZS50YXJnZXQgPT09ICRkcmFnRWwgPyBzY3JvbGxiYXIuZ2V0UG9pbnRlclBvc2l0aW9uKGUpIC0gZS50YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClbc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gJ2xlZnQnIDogJ3RvcCddIDogbnVsbDtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAkd3JhcHBlckVsLnRyYW5zaXRpb24oMTAwKTtcbiAgICAgICRkcmFnRWwudHJhbnNpdGlvbigxMDApO1xuICAgICAgc2Nyb2xsYmFyLnNldERyYWdQb3NpdGlvbihlKTtcbiAgICAgIGNsZWFyVGltZW91dChzd2lwZXIuc2Nyb2xsYmFyLmRyYWdUaW1lb3V0KTtcbiAgICAgICRlbC50cmFuc2l0aW9uKDApO1xuXG4gICAgICBpZiAocGFyYW1zLmhpZGUpIHtcbiAgICAgICAgJGVsLmNzcygnb3BhY2l0eScsIDEpO1xuICAgICAgfVxuXG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy5jc3NNb2RlKSB7XG4gICAgICAgIHN3aXBlci4kd3JhcHBlckVsLmNzcygnc2Nyb2xsLXNuYXAtdHlwZScsICdub25lJyk7XG4gICAgICB9XG5cbiAgICAgIHN3aXBlci5lbWl0KCdzY3JvbGxiYXJEcmFnU3RhcnQnLCBlKTtcbiAgICB9LFxuICAgIG9uRHJhZ01vdmU6IGZ1bmN0aW9uIG9uRHJhZ01vdmUoZSkge1xuICAgICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgICB2YXIgc2Nyb2xsYmFyID0gc3dpcGVyLnNjcm9sbGJhcixcbiAgICAgICAgICAkd3JhcHBlckVsID0gc3dpcGVyLiR3cmFwcGVyRWw7XG4gICAgICB2YXIgJGVsID0gc2Nyb2xsYmFyLiRlbCxcbiAgICAgICAgICAkZHJhZ0VsID0gc2Nyb2xsYmFyLiRkcmFnRWw7XG4gICAgICBpZiAoIXN3aXBlci5zY3JvbGxiYXIuaXNUb3VjaGVkKSByZXR1cm47XG4gICAgICBpZiAoZS5wcmV2ZW50RGVmYXVsdCkgZS5wcmV2ZW50RGVmYXVsdCgpO2Vsc2UgZS5yZXR1cm5WYWx1ZSA9IGZhbHNlO1xuICAgICAgc2Nyb2xsYmFyLnNldERyYWdQb3NpdGlvbihlKTtcbiAgICAgICR3cmFwcGVyRWwudHJhbnNpdGlvbigwKTtcbiAgICAgICRlbC50cmFuc2l0aW9uKDApO1xuICAgICAgJGRyYWdFbC50cmFuc2l0aW9uKDApO1xuICAgICAgc3dpcGVyLmVtaXQoJ3Njcm9sbGJhckRyYWdNb3ZlJywgZSk7XG4gICAgfSxcbiAgICBvbkRyYWdFbmQ6IGZ1bmN0aW9uIG9uRHJhZ0VuZChlKSB7XG4gICAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICAgIHZhciBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLnNjcm9sbGJhcjtcbiAgICAgIHZhciBzY3JvbGxiYXIgPSBzd2lwZXIuc2Nyb2xsYmFyLFxuICAgICAgICAgICR3cmFwcGVyRWwgPSBzd2lwZXIuJHdyYXBwZXJFbDtcbiAgICAgIHZhciAkZWwgPSBzY3JvbGxiYXIuJGVsO1xuICAgICAgaWYgKCFzd2lwZXIuc2Nyb2xsYmFyLmlzVG91Y2hlZCkgcmV0dXJuO1xuICAgICAgc3dpcGVyLnNjcm9sbGJhci5pc1RvdWNoZWQgPSBmYWxzZTtcblxuICAgICAgaWYgKHN3aXBlci5wYXJhbXMuY3NzTW9kZSkge1xuICAgICAgICBzd2lwZXIuJHdyYXBwZXJFbC5jc3MoJ3Njcm9sbC1zbmFwLXR5cGUnLCAnJyk7XG4gICAgICAgICR3cmFwcGVyRWwudHJhbnNpdGlvbignJyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChwYXJhbXMuaGlkZSkge1xuICAgICAgICBjbGVhclRpbWVvdXQoc3dpcGVyLnNjcm9sbGJhci5kcmFnVGltZW91dCk7XG4gICAgICAgIHN3aXBlci5zY3JvbGxiYXIuZHJhZ1RpbWVvdXQgPSBuZXh0VGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgJGVsLmNzcygnb3BhY2l0eScsIDApO1xuICAgICAgICAgICRlbC50cmFuc2l0aW9uKDQwMCk7XG4gICAgICAgIH0sIDEwMDApO1xuICAgICAgfVxuXG4gICAgICBzd2lwZXIuZW1pdCgnc2Nyb2xsYmFyRHJhZ0VuZCcsIGUpO1xuXG4gICAgICBpZiAocGFyYW1zLnNuYXBPblJlbGVhc2UpIHtcbiAgICAgICAgc3dpcGVyLnNsaWRlVG9DbG9zZXN0KCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBlbmFibGVEcmFnZ2FibGU6IGZ1bmN0aW9uIGVuYWJsZURyYWdnYWJsZSgpIHtcbiAgICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgICAgaWYgKCFzd2lwZXIucGFyYW1zLnNjcm9sbGJhci5lbCkgcmV0dXJuO1xuICAgICAgdmFyIGRvY3VtZW50ID0gZ2V0RG9jdW1lbnQoKTtcbiAgICAgIHZhciBzY3JvbGxiYXIgPSBzd2lwZXIuc2Nyb2xsYmFyLFxuICAgICAgICAgIHRvdWNoRXZlbnRzVG91Y2ggPSBzd2lwZXIudG91Y2hFdmVudHNUb3VjaCxcbiAgICAgICAgICB0b3VjaEV2ZW50c0Rlc2t0b3AgPSBzd2lwZXIudG91Y2hFdmVudHNEZXNrdG9wLFxuICAgICAgICAgIHBhcmFtcyA9IHN3aXBlci5wYXJhbXMsXG4gICAgICAgICAgc3VwcG9ydCA9IHN3aXBlci5zdXBwb3J0O1xuICAgICAgdmFyICRlbCA9IHNjcm9sbGJhci4kZWw7XG4gICAgICB2YXIgdGFyZ2V0ID0gJGVsWzBdO1xuICAgICAgdmFyIGFjdGl2ZUxpc3RlbmVyID0gc3VwcG9ydC5wYXNzaXZlTGlzdGVuZXIgJiYgcGFyYW1zLnBhc3NpdmVMaXN0ZW5lcnMgPyB7XG4gICAgICAgIHBhc3NpdmU6IGZhbHNlLFxuICAgICAgICBjYXB0dXJlOiBmYWxzZVxuICAgICAgfSA6IGZhbHNlO1xuICAgICAgdmFyIHBhc3NpdmVMaXN0ZW5lciA9IHN1cHBvcnQucGFzc2l2ZUxpc3RlbmVyICYmIHBhcmFtcy5wYXNzaXZlTGlzdGVuZXJzID8ge1xuICAgICAgICBwYXNzaXZlOiB0cnVlLFxuICAgICAgICBjYXB0dXJlOiBmYWxzZVxuICAgICAgfSA6IGZhbHNlO1xuICAgICAgaWYgKCF0YXJnZXQpIHJldHVybjtcblxuICAgICAgaWYgKCFzdXBwb3J0LnRvdWNoKSB7XG4gICAgICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKHRvdWNoRXZlbnRzRGVza3RvcC5zdGFydCwgc3dpcGVyLnNjcm9sbGJhci5vbkRyYWdTdGFydCwgYWN0aXZlTGlzdGVuZXIpO1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKHRvdWNoRXZlbnRzRGVza3RvcC5tb3ZlLCBzd2lwZXIuc2Nyb2xsYmFyLm9uRHJhZ01vdmUsIGFjdGl2ZUxpc3RlbmVyKTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcih0b3VjaEV2ZW50c0Rlc2t0b3AuZW5kLCBzd2lwZXIuc2Nyb2xsYmFyLm9uRHJhZ0VuZCwgcGFzc2l2ZUxpc3RlbmVyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKHRvdWNoRXZlbnRzVG91Y2guc3RhcnQsIHN3aXBlci5zY3JvbGxiYXIub25EcmFnU3RhcnQsIGFjdGl2ZUxpc3RlbmVyKTtcbiAgICAgICAgdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIodG91Y2hFdmVudHNUb3VjaC5tb3ZlLCBzd2lwZXIuc2Nyb2xsYmFyLm9uRHJhZ01vdmUsIGFjdGl2ZUxpc3RlbmVyKTtcbiAgICAgICAgdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIodG91Y2hFdmVudHNUb3VjaC5lbmQsIHN3aXBlci5zY3JvbGxiYXIub25EcmFnRW5kLCBwYXNzaXZlTGlzdGVuZXIpO1xuICAgICAgfVxuICAgIH0sXG4gICAgZGlzYWJsZURyYWdnYWJsZTogZnVuY3Rpb24gZGlzYWJsZURyYWdnYWJsZSgpIHtcbiAgICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgICAgaWYgKCFzd2lwZXIucGFyYW1zLnNjcm9sbGJhci5lbCkgcmV0dXJuO1xuICAgICAgdmFyIGRvY3VtZW50ID0gZ2V0RG9jdW1lbnQoKTtcbiAgICAgIHZhciBzY3JvbGxiYXIgPSBzd2lwZXIuc2Nyb2xsYmFyLFxuICAgICAgICAgIHRvdWNoRXZlbnRzVG91Y2ggPSBzd2lwZXIudG91Y2hFdmVudHNUb3VjaCxcbiAgICAgICAgICB0b3VjaEV2ZW50c0Rlc2t0b3AgPSBzd2lwZXIudG91Y2hFdmVudHNEZXNrdG9wLFxuICAgICAgICAgIHBhcmFtcyA9IHN3aXBlci5wYXJhbXMsXG4gICAgICAgICAgc3VwcG9ydCA9IHN3aXBlci5zdXBwb3J0O1xuICAgICAgdmFyICRlbCA9IHNjcm9sbGJhci4kZWw7XG4gICAgICB2YXIgdGFyZ2V0ID0gJGVsWzBdO1xuICAgICAgdmFyIGFjdGl2ZUxpc3RlbmVyID0gc3VwcG9ydC5wYXNzaXZlTGlzdGVuZXIgJiYgcGFyYW1zLnBhc3NpdmVMaXN0ZW5lcnMgPyB7XG4gICAgICAgIHBhc3NpdmU6IGZhbHNlLFxuICAgICAgICBjYXB0dXJlOiBmYWxzZVxuICAgICAgfSA6IGZhbHNlO1xuICAgICAgdmFyIHBhc3NpdmVMaXN0ZW5lciA9IHN1cHBvcnQucGFzc2l2ZUxpc3RlbmVyICYmIHBhcmFtcy5wYXNzaXZlTGlzdGVuZXJzID8ge1xuICAgICAgICBwYXNzaXZlOiB0cnVlLFxuICAgICAgICBjYXB0dXJlOiBmYWxzZVxuICAgICAgfSA6IGZhbHNlO1xuICAgICAgaWYgKCF0YXJnZXQpIHJldHVybjtcblxuICAgICAgaWYgKCFzdXBwb3J0LnRvdWNoKSB7XG4gICAgICAgIHRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKHRvdWNoRXZlbnRzRGVza3RvcC5zdGFydCwgc3dpcGVyLnNjcm9sbGJhci5vbkRyYWdTdGFydCwgYWN0aXZlTGlzdGVuZXIpO1xuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHRvdWNoRXZlbnRzRGVza3RvcC5tb3ZlLCBzd2lwZXIuc2Nyb2xsYmFyLm9uRHJhZ01vdmUsIGFjdGl2ZUxpc3RlbmVyKTtcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0b3VjaEV2ZW50c0Rlc2t0b3AuZW5kLCBzd2lwZXIuc2Nyb2xsYmFyLm9uRHJhZ0VuZCwgcGFzc2l2ZUxpc3RlbmVyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKHRvdWNoRXZlbnRzVG91Y2guc3RhcnQsIHN3aXBlci5zY3JvbGxiYXIub25EcmFnU3RhcnQsIGFjdGl2ZUxpc3RlbmVyKTtcbiAgICAgICAgdGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIodG91Y2hFdmVudHNUb3VjaC5tb3ZlLCBzd2lwZXIuc2Nyb2xsYmFyLm9uRHJhZ01vdmUsIGFjdGl2ZUxpc3RlbmVyKTtcbiAgICAgICAgdGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIodG91Y2hFdmVudHNUb3VjaC5lbmQsIHN3aXBlci5zY3JvbGxiYXIub25EcmFnRW5kLCBwYXNzaXZlTGlzdGVuZXIpO1xuICAgICAgfVxuICAgIH0sXG4gICAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHtcbiAgICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgICAgdmFyIHNjcm9sbGJhciA9IHN3aXBlci5zY3JvbGxiYXIsXG4gICAgICAgICAgJHN3aXBlckVsID0gc3dpcGVyLiRlbDtcbiAgICAgIHN3aXBlci5wYXJhbXMuc2Nyb2xsYmFyID0gY3JlYXRlRWxlbWVudElmTm90RGVmaW5lZCgkc3dpcGVyRWwsIHN3aXBlci5wYXJhbXMuc2Nyb2xsYmFyLCBzd2lwZXIucGFyYW1zLmNyZWF0ZUVsZW1lbnRzLCB7XG4gICAgICAgIGVsOiAnc3dpcGVyLXNjcm9sbGJhcidcbiAgICAgIH0pO1xuICAgICAgdmFyIHBhcmFtcyA9IHN3aXBlci5wYXJhbXMuc2Nyb2xsYmFyO1xuICAgICAgaWYgKCFwYXJhbXMuZWwpIHJldHVybjtcbiAgICAgIHZhciAkZWwgPSAkKHBhcmFtcy5lbCk7XG5cbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLnVuaXF1ZU5hdkVsZW1lbnRzICYmIHR5cGVvZiBwYXJhbXMuZWwgPT09ICdzdHJpbmcnICYmICRlbC5sZW5ndGggPiAxICYmICRzd2lwZXJFbC5maW5kKHBhcmFtcy5lbCkubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICRlbCA9ICRzd2lwZXJFbC5maW5kKHBhcmFtcy5lbCk7XG4gICAgICB9XG5cbiAgICAgIHZhciAkZHJhZ0VsID0gJGVsLmZpbmQoXCIuXCIgKyBzd2lwZXIucGFyYW1zLnNjcm9sbGJhci5kcmFnQ2xhc3MpO1xuXG4gICAgICBpZiAoJGRyYWdFbC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgJGRyYWdFbCA9ICQoXCI8ZGl2IGNsYXNzPVxcXCJcIiArIHN3aXBlci5wYXJhbXMuc2Nyb2xsYmFyLmRyYWdDbGFzcyArIFwiXFxcIj48L2Rpdj5cIik7XG4gICAgICAgICRlbC5hcHBlbmQoJGRyYWdFbCk7XG4gICAgICB9XG5cbiAgICAgIGV4dGVuZChzY3JvbGxiYXIsIHtcbiAgICAgICAgJGVsOiAkZWwsXG4gICAgICAgIGVsOiAkZWxbMF0sXG4gICAgICAgICRkcmFnRWw6ICRkcmFnRWwsXG4gICAgICAgIGRyYWdFbDogJGRyYWdFbFswXVxuICAgICAgfSk7XG5cbiAgICAgIGlmIChwYXJhbXMuZHJhZ2dhYmxlKSB7XG4gICAgICAgIHNjcm9sbGJhci5lbmFibGVEcmFnZ2FibGUoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCRlbCkge1xuICAgICAgICAkZWxbc3dpcGVyLmVuYWJsZWQgPyAncmVtb3ZlQ2xhc3MnIDogJ2FkZENsYXNzJ10oc3dpcGVyLnBhcmFtcy5zY3JvbGxiYXIubG9ja0NsYXNzKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICAgIHN3aXBlci5zY3JvbGxiYXIuZGlzYWJsZURyYWdnYWJsZSgpO1xuICAgIH1cbiAgfTtcbiAgdmFyIFNjcm9sbGJhciQxID0ge1xuICAgIG5hbWU6ICdzY3JvbGxiYXInLFxuICAgIHBhcmFtczoge1xuICAgICAgc2Nyb2xsYmFyOiB7XG4gICAgICAgIGVsOiBudWxsLFxuICAgICAgICBkcmFnU2l6ZTogJ2F1dG8nLFxuICAgICAgICBoaWRlOiBmYWxzZSxcbiAgICAgICAgZHJhZ2dhYmxlOiBmYWxzZSxcbiAgICAgICAgc25hcE9uUmVsZWFzZTogdHJ1ZSxcbiAgICAgICAgbG9ja0NsYXNzOiAnc3dpcGVyLXNjcm9sbGJhci1sb2NrJyxcbiAgICAgICAgZHJhZ0NsYXNzOiAnc3dpcGVyLXNjcm9sbGJhci1kcmFnJ1xuICAgICAgfVxuICAgIH0sXG4gICAgY3JlYXRlOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gICAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICAgIGJpbmRNb2R1bGVNZXRob2RzKHN3aXBlciwge1xuICAgICAgICBzY3JvbGxiYXI6IF9leHRlbmRzKHtcbiAgICAgICAgICBpc1RvdWNoZWQ6IGZhbHNlLFxuICAgICAgICAgIHRpbWVvdXQ6IG51bGwsXG4gICAgICAgICAgZHJhZ1RpbWVvdXQ6IG51bGxcbiAgICAgICAgfSwgU2Nyb2xsYmFyKVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBvbjoge1xuICAgICAgaW5pdDogZnVuY3Rpb24gaW5pdChzd2lwZXIpIHtcbiAgICAgICAgc3dpcGVyLnNjcm9sbGJhci5pbml0KCk7XG4gICAgICAgIHN3aXBlci5zY3JvbGxiYXIudXBkYXRlU2l6ZSgpO1xuICAgICAgICBzd2lwZXIuc2Nyb2xsYmFyLnNldFRyYW5zbGF0ZSgpO1xuICAgICAgfSxcbiAgICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKHN3aXBlcikge1xuICAgICAgICBzd2lwZXIuc2Nyb2xsYmFyLnVwZGF0ZVNpemUoKTtcbiAgICAgIH0sXG4gICAgICByZXNpemU6IGZ1bmN0aW9uIHJlc2l6ZShzd2lwZXIpIHtcbiAgICAgICAgc3dpcGVyLnNjcm9sbGJhci51cGRhdGVTaXplKCk7XG4gICAgICB9LFxuICAgICAgb2JzZXJ2ZXJVcGRhdGU6IGZ1bmN0aW9uIG9ic2VydmVyVXBkYXRlKHN3aXBlcikge1xuICAgICAgICBzd2lwZXIuc2Nyb2xsYmFyLnVwZGF0ZVNpemUoKTtcbiAgICAgIH0sXG4gICAgICBzZXRUcmFuc2xhdGU6IGZ1bmN0aW9uIHNldFRyYW5zbGF0ZShzd2lwZXIpIHtcbiAgICAgICAgc3dpcGVyLnNjcm9sbGJhci5zZXRUcmFuc2xhdGUoKTtcbiAgICAgIH0sXG4gICAgICBzZXRUcmFuc2l0aW9uOiBmdW5jdGlvbiBzZXRUcmFuc2l0aW9uKHN3aXBlciwgZHVyYXRpb24pIHtcbiAgICAgICAgc3dpcGVyLnNjcm9sbGJhci5zZXRUcmFuc2l0aW9uKGR1cmF0aW9uKTtcbiAgICAgIH0sXG4gICAgICAnZW5hYmxlIGRpc2FibGUnOiBmdW5jdGlvbiBlbmFibGVEaXNhYmxlKHN3aXBlcikge1xuICAgICAgICB2YXIgJGVsID0gc3dpcGVyLnNjcm9sbGJhci4kZWw7XG5cbiAgICAgICAgaWYgKCRlbCkge1xuICAgICAgICAgICRlbFtzd2lwZXIuZW5hYmxlZCA/ICdyZW1vdmVDbGFzcycgOiAnYWRkQ2xhc3MnXShzd2lwZXIucGFyYW1zLnNjcm9sbGJhci5sb2NrQ2xhc3MpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveShzd2lwZXIpIHtcbiAgICAgICAgc3dpcGVyLnNjcm9sbGJhci5kZXN0cm95KCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHZhciBQYXJhbGxheCA9IHtcbiAgICBzZXRUcmFuc2Zvcm06IGZ1bmN0aW9uIHNldFRyYW5zZm9ybShlbCwgcHJvZ3Jlc3MpIHtcbiAgICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgICAgdmFyIHJ0bCA9IHN3aXBlci5ydGw7XG4gICAgICB2YXIgJGVsID0gJChlbCk7XG4gICAgICB2YXIgcnRsRmFjdG9yID0gcnRsID8gLTEgOiAxO1xuICAgICAgdmFyIHAgPSAkZWwuYXR0cignZGF0YS1zd2lwZXItcGFyYWxsYXgnKSB8fCAnMCc7XG4gICAgICB2YXIgeCA9ICRlbC5hdHRyKCdkYXRhLXN3aXBlci1wYXJhbGxheC14Jyk7XG4gICAgICB2YXIgeSA9ICRlbC5hdHRyKCdkYXRhLXN3aXBlci1wYXJhbGxheC15Jyk7XG4gICAgICB2YXIgc2NhbGUgPSAkZWwuYXR0cignZGF0YS1zd2lwZXItcGFyYWxsYXgtc2NhbGUnKTtcbiAgICAgIHZhciBvcGFjaXR5ID0gJGVsLmF0dHIoJ2RhdGEtc3dpcGVyLXBhcmFsbGF4LW9wYWNpdHknKTtcblxuICAgICAgaWYgKHggfHwgeSkge1xuICAgICAgICB4ID0geCB8fCAnMCc7XG4gICAgICAgIHkgPSB5IHx8ICcwJztcbiAgICAgIH0gZWxzZSBpZiAoc3dpcGVyLmlzSG9yaXpvbnRhbCgpKSB7XG4gICAgICAgIHggPSBwO1xuICAgICAgICB5ID0gJzAnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgeSA9IHA7XG4gICAgICAgIHggPSAnMCc7XG4gICAgICB9XG5cbiAgICAgIGlmICh4LmluZGV4T2YoJyUnKSA+PSAwKSB7XG4gICAgICAgIHggPSBwYXJzZUludCh4LCAxMCkgKiBwcm9ncmVzcyAqIHJ0bEZhY3RvciArIFwiJVwiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgeCA9IHggKiBwcm9ncmVzcyAqIHJ0bEZhY3RvciArIFwicHhcIjtcbiAgICAgIH1cblxuICAgICAgaWYgKHkuaW5kZXhPZignJScpID49IDApIHtcbiAgICAgICAgeSA9IHBhcnNlSW50KHksIDEwKSAqIHByb2dyZXNzICsgXCIlXCI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB5ID0geSAqIHByb2dyZXNzICsgXCJweFwiO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIG9wYWNpdHkgIT09ICd1bmRlZmluZWQnICYmIG9wYWNpdHkgIT09IG51bGwpIHtcbiAgICAgICAgdmFyIGN1cnJlbnRPcGFjaXR5ID0gb3BhY2l0eSAtIChvcGFjaXR5IC0gMSkgKiAoMSAtIE1hdGguYWJzKHByb2dyZXNzKSk7XG4gICAgICAgICRlbFswXS5zdHlsZS5vcGFjaXR5ID0gY3VycmVudE9wYWNpdHk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2Ygc2NhbGUgPT09ICd1bmRlZmluZWQnIHx8IHNjYWxlID09PSBudWxsKSB7XG4gICAgICAgICRlbC50cmFuc2Zvcm0oXCJ0cmFuc2xhdGUzZChcIiArIHggKyBcIiwgXCIgKyB5ICsgXCIsIDBweClcIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgY3VycmVudFNjYWxlID0gc2NhbGUgLSAoc2NhbGUgLSAxKSAqICgxIC0gTWF0aC5hYnMocHJvZ3Jlc3MpKTtcbiAgICAgICAgJGVsLnRyYW5zZm9ybShcInRyYW5zbGF0ZTNkKFwiICsgeCArIFwiLCBcIiArIHkgKyBcIiwgMHB4KSBzY2FsZShcIiArIGN1cnJlbnRTY2FsZSArIFwiKVwiKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHNldFRyYW5zbGF0ZTogZnVuY3Rpb24gc2V0VHJhbnNsYXRlKCkge1xuICAgICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgICB2YXIgJGVsID0gc3dpcGVyLiRlbCxcbiAgICAgICAgICBzbGlkZXMgPSBzd2lwZXIuc2xpZGVzLFxuICAgICAgICAgIHByb2dyZXNzID0gc3dpcGVyLnByb2dyZXNzLFxuICAgICAgICAgIHNuYXBHcmlkID0gc3dpcGVyLnNuYXBHcmlkO1xuICAgICAgJGVsLmNoaWxkcmVuKCdbZGF0YS1zd2lwZXItcGFyYWxsYXhdLCBbZGF0YS1zd2lwZXItcGFyYWxsYXgteF0sIFtkYXRhLXN3aXBlci1wYXJhbGxheC15XSwgW2RhdGEtc3dpcGVyLXBhcmFsbGF4LW9wYWNpdHldLCBbZGF0YS1zd2lwZXItcGFyYWxsYXgtc2NhbGVdJykuZWFjaChmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgc3dpcGVyLnBhcmFsbGF4LnNldFRyYW5zZm9ybShlbCwgcHJvZ3Jlc3MpO1xuICAgICAgfSk7XG4gICAgICBzbGlkZXMuZWFjaChmdW5jdGlvbiAoc2xpZGVFbCwgc2xpZGVJbmRleCkge1xuICAgICAgICB2YXIgc2xpZGVQcm9ncmVzcyA9IHNsaWRlRWwucHJvZ3Jlc3M7XG5cbiAgICAgICAgaWYgKHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyR3JvdXAgPiAxICYmIHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyVmlldyAhPT0gJ2F1dG8nKSB7XG4gICAgICAgICAgc2xpZGVQcm9ncmVzcyArPSBNYXRoLmNlaWwoc2xpZGVJbmRleCAvIDIpIC0gcHJvZ3Jlc3MgKiAoc25hcEdyaWQubGVuZ3RoIC0gMSk7XG4gICAgICAgIH1cblxuICAgICAgICBzbGlkZVByb2dyZXNzID0gTWF0aC5taW4oTWF0aC5tYXgoc2xpZGVQcm9ncmVzcywgLTEpLCAxKTtcbiAgICAgICAgJChzbGlkZUVsKS5maW5kKCdbZGF0YS1zd2lwZXItcGFyYWxsYXhdLCBbZGF0YS1zd2lwZXItcGFyYWxsYXgteF0sIFtkYXRhLXN3aXBlci1wYXJhbGxheC15XSwgW2RhdGEtc3dpcGVyLXBhcmFsbGF4LW9wYWNpdHldLCBbZGF0YS1zd2lwZXItcGFyYWxsYXgtc2NhbGVdJykuZWFjaChmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICBzd2lwZXIucGFyYWxsYXguc2V0VHJhbnNmb3JtKGVsLCBzbGlkZVByb2dyZXNzKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIHNldFRyYW5zaXRpb246IGZ1bmN0aW9uIHNldFRyYW5zaXRpb24oZHVyYXRpb24pIHtcbiAgICAgIGlmIChkdXJhdGlvbiA9PT0gdm9pZCAwKSB7XG4gICAgICAgIGR1cmF0aW9uID0gdGhpcy5wYXJhbXMuc3BlZWQ7XG4gICAgICB9XG5cbiAgICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgICAgdmFyICRlbCA9IHN3aXBlci4kZWw7XG4gICAgICAkZWwuZmluZCgnW2RhdGEtc3dpcGVyLXBhcmFsbGF4XSwgW2RhdGEtc3dpcGVyLXBhcmFsbGF4LXhdLCBbZGF0YS1zd2lwZXItcGFyYWxsYXgteV0sIFtkYXRhLXN3aXBlci1wYXJhbGxheC1vcGFjaXR5XSwgW2RhdGEtc3dpcGVyLXBhcmFsbGF4LXNjYWxlXScpLmVhY2goZnVuY3Rpb24gKHBhcmFsbGF4RWwpIHtcbiAgICAgICAgdmFyICRwYXJhbGxheEVsID0gJChwYXJhbGxheEVsKTtcbiAgICAgICAgdmFyIHBhcmFsbGF4RHVyYXRpb24gPSBwYXJzZUludCgkcGFyYWxsYXhFbC5hdHRyKCdkYXRhLXN3aXBlci1wYXJhbGxheC1kdXJhdGlvbicpLCAxMCkgfHwgZHVyYXRpb247XG4gICAgICAgIGlmIChkdXJhdGlvbiA9PT0gMCkgcGFyYWxsYXhEdXJhdGlvbiA9IDA7XG4gICAgICAgICRwYXJhbGxheEVsLnRyYW5zaXRpb24ocGFyYWxsYXhEdXJhdGlvbik7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG4gIHZhciBQYXJhbGxheCQxID0ge1xuICAgIG5hbWU6ICdwYXJhbGxheCcsXG4gICAgcGFyYW1zOiB7XG4gICAgICBwYXJhbGxheDoge1xuICAgICAgICBlbmFibGVkOiBmYWxzZVxuICAgICAgfVxuICAgIH0sXG4gICAgY3JlYXRlOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gICAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICAgIGJpbmRNb2R1bGVNZXRob2RzKHN3aXBlciwge1xuICAgICAgICBwYXJhbGxheDogX2V4dGVuZHMoe30sIFBhcmFsbGF4KVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBvbjoge1xuICAgICAgYmVmb3JlSW5pdDogZnVuY3Rpb24gYmVmb3JlSW5pdChzd2lwZXIpIHtcbiAgICAgICAgaWYgKCFzd2lwZXIucGFyYW1zLnBhcmFsbGF4LmVuYWJsZWQpIHJldHVybjtcbiAgICAgICAgc3dpcGVyLnBhcmFtcy53YXRjaFNsaWRlc1Byb2dyZXNzID0gdHJ1ZTtcbiAgICAgICAgc3dpcGVyLm9yaWdpbmFsUGFyYW1zLndhdGNoU2xpZGVzUHJvZ3Jlc3MgPSB0cnVlO1xuICAgICAgfSxcbiAgICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoc3dpcGVyKSB7XG4gICAgICAgIGlmICghc3dpcGVyLnBhcmFtcy5wYXJhbGxheC5lbmFibGVkKSByZXR1cm47XG4gICAgICAgIHN3aXBlci5wYXJhbGxheC5zZXRUcmFuc2xhdGUoKTtcbiAgICAgIH0sXG4gICAgICBzZXRUcmFuc2xhdGU6IGZ1bmN0aW9uIHNldFRyYW5zbGF0ZShzd2lwZXIpIHtcbiAgICAgICAgaWYgKCFzd2lwZXIucGFyYW1zLnBhcmFsbGF4LmVuYWJsZWQpIHJldHVybjtcbiAgICAgICAgc3dpcGVyLnBhcmFsbGF4LnNldFRyYW5zbGF0ZSgpO1xuICAgICAgfSxcbiAgICAgIHNldFRyYW5zaXRpb246IGZ1bmN0aW9uIHNldFRyYW5zaXRpb24oc3dpcGVyLCBkdXJhdGlvbikge1xuICAgICAgICBpZiAoIXN3aXBlci5wYXJhbXMucGFyYWxsYXguZW5hYmxlZCkgcmV0dXJuO1xuICAgICAgICBzd2lwZXIucGFyYWxsYXguc2V0VHJhbnNpdGlvbihkdXJhdGlvbik7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHZhciBab29tID0ge1xuICAgIC8vIENhbGMgU2NhbGUgRnJvbSBNdWx0aS10b3VjaGVzXG4gICAgZ2V0RGlzdGFuY2VCZXR3ZWVuVG91Y2hlczogZnVuY3Rpb24gZ2V0RGlzdGFuY2VCZXR3ZWVuVG91Y2hlcyhlKSB7XG4gICAgICBpZiAoZS50YXJnZXRUb3VjaGVzLmxlbmd0aCA8IDIpIHJldHVybiAxO1xuICAgICAgdmFyIHgxID0gZS50YXJnZXRUb3VjaGVzWzBdLnBhZ2VYO1xuICAgICAgdmFyIHkxID0gZS50YXJnZXRUb3VjaGVzWzBdLnBhZ2VZO1xuICAgICAgdmFyIHgyID0gZS50YXJnZXRUb3VjaGVzWzFdLnBhZ2VYO1xuICAgICAgdmFyIHkyID0gZS50YXJnZXRUb3VjaGVzWzFdLnBhZ2VZO1xuICAgICAgdmFyIGRpc3RhbmNlID0gTWF0aC5zcXJ0KE1hdGgucG93KHgyIC0geDEsIDIpICsgTWF0aC5wb3coeTIgLSB5MSwgMikpO1xuICAgICAgcmV0dXJuIGRpc3RhbmNlO1xuICAgIH0sXG4gICAgLy8gRXZlbnRzXG4gICAgb25HZXN0dXJlU3RhcnQ6IGZ1bmN0aW9uIG9uR2VzdHVyZVN0YXJ0KGUpIHtcbiAgICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgICAgdmFyIHN1cHBvcnQgPSBzd2lwZXIuc3VwcG9ydDtcbiAgICAgIHZhciBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLnpvb207XG4gICAgICB2YXIgem9vbSA9IHN3aXBlci56b29tO1xuICAgICAgdmFyIGdlc3R1cmUgPSB6b29tLmdlc3R1cmU7XG4gICAgICB6b29tLmZha2VHZXN0dXJlVG91Y2hlZCA9IGZhbHNlO1xuICAgICAgem9vbS5mYWtlR2VzdHVyZU1vdmVkID0gZmFsc2U7XG5cbiAgICAgIGlmICghc3VwcG9ydC5nZXN0dXJlcykge1xuICAgICAgICBpZiAoZS50eXBlICE9PSAndG91Y2hzdGFydCcgfHwgZS50eXBlID09PSAndG91Y2hzdGFydCcgJiYgZS50YXJnZXRUb3VjaGVzLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB6b29tLmZha2VHZXN0dXJlVG91Y2hlZCA9IHRydWU7XG4gICAgICAgIGdlc3R1cmUuc2NhbGVTdGFydCA9IFpvb20uZ2V0RGlzdGFuY2VCZXR3ZWVuVG91Y2hlcyhlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFnZXN0dXJlLiRzbGlkZUVsIHx8ICFnZXN0dXJlLiRzbGlkZUVsLmxlbmd0aCkge1xuICAgICAgICBnZXN0dXJlLiRzbGlkZUVsID0gJChlLnRhcmdldCkuY2xvc2VzdChcIi5cIiArIHN3aXBlci5wYXJhbXMuc2xpZGVDbGFzcyk7XG4gICAgICAgIGlmIChnZXN0dXJlLiRzbGlkZUVsLmxlbmd0aCA9PT0gMCkgZ2VzdHVyZS4kc2xpZGVFbCA9IHN3aXBlci5zbGlkZXMuZXEoc3dpcGVyLmFjdGl2ZUluZGV4KTtcbiAgICAgICAgZ2VzdHVyZS4kaW1hZ2VFbCA9IGdlc3R1cmUuJHNsaWRlRWwuZmluZCgnaW1nLCBzdmcsIGNhbnZhcywgcGljdHVyZSwgLnN3aXBlci16b29tLXRhcmdldCcpO1xuICAgICAgICBnZXN0dXJlLiRpbWFnZVdyYXBFbCA9IGdlc3R1cmUuJGltYWdlRWwucGFyZW50KFwiLlwiICsgcGFyYW1zLmNvbnRhaW5lckNsYXNzKTtcbiAgICAgICAgZ2VzdHVyZS5tYXhSYXRpbyA9IGdlc3R1cmUuJGltYWdlV3JhcEVsLmF0dHIoJ2RhdGEtc3dpcGVyLXpvb20nKSB8fCBwYXJhbXMubWF4UmF0aW87XG5cbiAgICAgICAgaWYgKGdlc3R1cmUuJGltYWdlV3JhcEVsLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIGdlc3R1cmUuJGltYWdlRWwgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChnZXN0dXJlLiRpbWFnZUVsKSB7XG4gICAgICAgIGdlc3R1cmUuJGltYWdlRWwudHJhbnNpdGlvbigwKTtcbiAgICAgIH1cblxuICAgICAgc3dpcGVyLnpvb20uaXNTY2FsaW5nID0gdHJ1ZTtcbiAgICB9LFxuICAgIG9uR2VzdHVyZUNoYW5nZTogZnVuY3Rpb24gb25HZXN0dXJlQ2hhbmdlKGUpIHtcbiAgICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgICAgdmFyIHN1cHBvcnQgPSBzd2lwZXIuc3VwcG9ydDtcbiAgICAgIHZhciBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLnpvb207XG4gICAgICB2YXIgem9vbSA9IHN3aXBlci56b29tO1xuICAgICAgdmFyIGdlc3R1cmUgPSB6b29tLmdlc3R1cmU7XG5cbiAgICAgIGlmICghc3VwcG9ydC5nZXN0dXJlcykge1xuICAgICAgICBpZiAoZS50eXBlICE9PSAndG91Y2htb3ZlJyB8fCBlLnR5cGUgPT09ICd0b3VjaG1vdmUnICYmIGUudGFyZ2V0VG91Y2hlcy5sZW5ndGggPCAyKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgem9vbS5mYWtlR2VzdHVyZU1vdmVkID0gdHJ1ZTtcbiAgICAgICAgZ2VzdHVyZS5zY2FsZU1vdmUgPSBab29tLmdldERpc3RhbmNlQmV0d2VlblRvdWNoZXMoZSk7XG4gICAgICB9XG5cbiAgICAgIGlmICghZ2VzdHVyZS4kaW1hZ2VFbCB8fCBnZXN0dXJlLiRpbWFnZUVsLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBpZiAoZS50eXBlID09PSAnZ2VzdHVyZWNoYW5nZScpIHpvb20ub25HZXN0dXJlU3RhcnQoZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHN1cHBvcnQuZ2VzdHVyZXMpIHtcbiAgICAgICAgem9vbS5zY2FsZSA9IGUuc2NhbGUgKiB6b29tLmN1cnJlbnRTY2FsZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHpvb20uc2NhbGUgPSBnZXN0dXJlLnNjYWxlTW92ZSAvIGdlc3R1cmUuc2NhbGVTdGFydCAqIHpvb20uY3VycmVudFNjYWxlO1xuICAgICAgfVxuXG4gICAgICBpZiAoem9vbS5zY2FsZSA+IGdlc3R1cmUubWF4UmF0aW8pIHtcbiAgICAgICAgem9vbS5zY2FsZSA9IGdlc3R1cmUubWF4UmF0aW8gLSAxICsgTWF0aC5wb3coem9vbS5zY2FsZSAtIGdlc3R1cmUubWF4UmF0aW8gKyAxLCAwLjUpO1xuICAgICAgfVxuXG4gICAgICBpZiAoem9vbS5zY2FsZSA8IHBhcmFtcy5taW5SYXRpbykge1xuICAgICAgICB6b29tLnNjYWxlID0gcGFyYW1zLm1pblJhdGlvICsgMSAtIE1hdGgucG93KHBhcmFtcy5taW5SYXRpbyAtIHpvb20uc2NhbGUgKyAxLCAwLjUpO1xuICAgICAgfVxuXG4gICAgICBnZXN0dXJlLiRpbWFnZUVsLnRyYW5zZm9ybShcInRyYW5zbGF0ZTNkKDAsMCwwKSBzY2FsZShcIiArIHpvb20uc2NhbGUgKyBcIilcIik7XG4gICAgfSxcbiAgICBvbkdlc3R1cmVFbmQ6IGZ1bmN0aW9uIG9uR2VzdHVyZUVuZChlKSB7XG4gICAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICAgIHZhciBkZXZpY2UgPSBzd2lwZXIuZGV2aWNlO1xuICAgICAgdmFyIHN1cHBvcnQgPSBzd2lwZXIuc3VwcG9ydDtcbiAgICAgIHZhciBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLnpvb207XG4gICAgICB2YXIgem9vbSA9IHN3aXBlci56b29tO1xuICAgICAgdmFyIGdlc3R1cmUgPSB6b29tLmdlc3R1cmU7XG5cbiAgICAgIGlmICghc3VwcG9ydC5nZXN0dXJlcykge1xuICAgICAgICBpZiAoIXpvb20uZmFrZUdlc3R1cmVUb3VjaGVkIHx8ICF6b29tLmZha2VHZXN0dXJlTW92ZWQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZS50eXBlICE9PSAndG91Y2hlbmQnIHx8IGUudHlwZSA9PT0gJ3RvdWNoZW5kJyAmJiBlLmNoYW5nZWRUb3VjaGVzLmxlbmd0aCA8IDIgJiYgIWRldmljZS5hbmRyb2lkKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgem9vbS5mYWtlR2VzdHVyZVRvdWNoZWQgPSBmYWxzZTtcbiAgICAgICAgem9vbS5mYWtlR2VzdHVyZU1vdmVkID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGlmICghZ2VzdHVyZS4kaW1hZ2VFbCB8fCBnZXN0dXJlLiRpbWFnZUVsLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICAgICAgem9vbS5zY2FsZSA9IE1hdGgubWF4KE1hdGgubWluKHpvb20uc2NhbGUsIGdlc3R1cmUubWF4UmF0aW8pLCBwYXJhbXMubWluUmF0aW8pO1xuICAgICAgZ2VzdHVyZS4kaW1hZ2VFbC50cmFuc2l0aW9uKHN3aXBlci5wYXJhbXMuc3BlZWQpLnRyYW5zZm9ybShcInRyYW5zbGF0ZTNkKDAsMCwwKSBzY2FsZShcIiArIHpvb20uc2NhbGUgKyBcIilcIik7XG4gICAgICB6b29tLmN1cnJlbnRTY2FsZSA9IHpvb20uc2NhbGU7XG4gICAgICB6b29tLmlzU2NhbGluZyA9IGZhbHNlO1xuICAgICAgaWYgKHpvb20uc2NhbGUgPT09IDEpIGdlc3R1cmUuJHNsaWRlRWwgPSB1bmRlZmluZWQ7XG4gICAgfSxcbiAgICBvblRvdWNoU3RhcnQ6IGZ1bmN0aW9uIG9uVG91Y2hTdGFydChlKSB7XG4gICAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICAgIHZhciBkZXZpY2UgPSBzd2lwZXIuZGV2aWNlO1xuICAgICAgdmFyIHpvb20gPSBzd2lwZXIuem9vbTtcbiAgICAgIHZhciBnZXN0dXJlID0gem9vbS5nZXN0dXJlLFxuICAgICAgICAgIGltYWdlID0gem9vbS5pbWFnZTtcbiAgICAgIGlmICghZ2VzdHVyZS4kaW1hZ2VFbCB8fCBnZXN0dXJlLiRpbWFnZUVsLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICAgICAgaWYgKGltYWdlLmlzVG91Y2hlZCkgcmV0dXJuO1xuICAgICAgaWYgKGRldmljZS5hbmRyb2lkICYmIGUuY2FuY2VsYWJsZSkgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaW1hZ2UuaXNUb3VjaGVkID0gdHJ1ZTtcbiAgICAgIGltYWdlLnRvdWNoZXNTdGFydC54ID0gZS50eXBlID09PSAndG91Y2hzdGFydCcgPyBlLnRhcmdldFRvdWNoZXNbMF0ucGFnZVggOiBlLnBhZ2VYO1xuICAgICAgaW1hZ2UudG91Y2hlc1N0YXJ0LnkgPSBlLnR5cGUgPT09ICd0b3VjaHN0YXJ0JyA/IGUudGFyZ2V0VG91Y2hlc1swXS5wYWdlWSA6IGUucGFnZVk7XG4gICAgfSxcbiAgICBvblRvdWNoTW92ZTogZnVuY3Rpb24gb25Ub3VjaE1vdmUoZSkge1xuICAgICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgICB2YXIgem9vbSA9IHN3aXBlci56b29tO1xuICAgICAgdmFyIGdlc3R1cmUgPSB6b29tLmdlc3R1cmUsXG4gICAgICAgICAgaW1hZ2UgPSB6b29tLmltYWdlLFxuICAgICAgICAgIHZlbG9jaXR5ID0gem9vbS52ZWxvY2l0eTtcbiAgICAgIGlmICghZ2VzdHVyZS4kaW1hZ2VFbCB8fCBnZXN0dXJlLiRpbWFnZUVsLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICAgICAgc3dpcGVyLmFsbG93Q2xpY2sgPSBmYWxzZTtcbiAgICAgIGlmICghaW1hZ2UuaXNUb3VjaGVkIHx8ICFnZXN0dXJlLiRzbGlkZUVsKSByZXR1cm47XG5cbiAgICAgIGlmICghaW1hZ2UuaXNNb3ZlZCkge1xuICAgICAgICBpbWFnZS53aWR0aCA9IGdlc3R1cmUuJGltYWdlRWxbMF0ub2Zmc2V0V2lkdGg7XG4gICAgICAgIGltYWdlLmhlaWdodCA9IGdlc3R1cmUuJGltYWdlRWxbMF0ub2Zmc2V0SGVpZ2h0O1xuICAgICAgICBpbWFnZS5zdGFydFggPSBnZXRUcmFuc2xhdGUoZ2VzdHVyZS4kaW1hZ2VXcmFwRWxbMF0sICd4JykgfHwgMDtcbiAgICAgICAgaW1hZ2Uuc3RhcnRZID0gZ2V0VHJhbnNsYXRlKGdlc3R1cmUuJGltYWdlV3JhcEVsWzBdLCAneScpIHx8IDA7XG4gICAgICAgIGdlc3R1cmUuc2xpZGVXaWR0aCA9IGdlc3R1cmUuJHNsaWRlRWxbMF0ub2Zmc2V0V2lkdGg7XG4gICAgICAgIGdlc3R1cmUuc2xpZGVIZWlnaHQgPSBnZXN0dXJlLiRzbGlkZUVsWzBdLm9mZnNldEhlaWdodDtcbiAgICAgICAgZ2VzdHVyZS4kaW1hZ2VXcmFwRWwudHJhbnNpdGlvbigwKTtcbiAgICAgIH0gLy8gRGVmaW5lIGlmIHdlIG5lZWQgaW1hZ2UgZHJhZ1xuXG5cbiAgICAgIHZhciBzY2FsZWRXaWR0aCA9IGltYWdlLndpZHRoICogem9vbS5zY2FsZTtcbiAgICAgIHZhciBzY2FsZWRIZWlnaHQgPSBpbWFnZS5oZWlnaHQgKiB6b29tLnNjYWxlO1xuICAgICAgaWYgKHNjYWxlZFdpZHRoIDwgZ2VzdHVyZS5zbGlkZVdpZHRoICYmIHNjYWxlZEhlaWdodCA8IGdlc3R1cmUuc2xpZGVIZWlnaHQpIHJldHVybjtcbiAgICAgIGltYWdlLm1pblggPSBNYXRoLm1pbihnZXN0dXJlLnNsaWRlV2lkdGggLyAyIC0gc2NhbGVkV2lkdGggLyAyLCAwKTtcbiAgICAgIGltYWdlLm1heFggPSAtaW1hZ2UubWluWDtcbiAgICAgIGltYWdlLm1pblkgPSBNYXRoLm1pbihnZXN0dXJlLnNsaWRlSGVpZ2h0IC8gMiAtIHNjYWxlZEhlaWdodCAvIDIsIDApO1xuICAgICAgaW1hZ2UubWF4WSA9IC1pbWFnZS5taW5ZO1xuICAgICAgaW1hZ2UudG91Y2hlc0N1cnJlbnQueCA9IGUudHlwZSA9PT0gJ3RvdWNobW92ZScgPyBlLnRhcmdldFRvdWNoZXNbMF0ucGFnZVggOiBlLnBhZ2VYO1xuICAgICAgaW1hZ2UudG91Y2hlc0N1cnJlbnQueSA9IGUudHlwZSA9PT0gJ3RvdWNobW92ZScgPyBlLnRhcmdldFRvdWNoZXNbMF0ucGFnZVkgOiBlLnBhZ2VZO1xuXG4gICAgICBpZiAoIWltYWdlLmlzTW92ZWQgJiYgIXpvb20uaXNTY2FsaW5nKSB7XG4gICAgICAgIGlmIChzd2lwZXIuaXNIb3Jpem9udGFsKCkgJiYgKE1hdGguZmxvb3IoaW1hZ2UubWluWCkgPT09IE1hdGguZmxvb3IoaW1hZ2Uuc3RhcnRYKSAmJiBpbWFnZS50b3VjaGVzQ3VycmVudC54IDwgaW1hZ2UudG91Y2hlc1N0YXJ0LnggfHwgTWF0aC5mbG9vcihpbWFnZS5tYXhYKSA9PT0gTWF0aC5mbG9vcihpbWFnZS5zdGFydFgpICYmIGltYWdlLnRvdWNoZXNDdXJyZW50LnggPiBpbWFnZS50b3VjaGVzU3RhcnQueCkpIHtcbiAgICAgICAgICBpbWFnZS5pc1RvdWNoZWQgPSBmYWxzZTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXN3aXBlci5pc0hvcml6b250YWwoKSAmJiAoTWF0aC5mbG9vcihpbWFnZS5taW5ZKSA9PT0gTWF0aC5mbG9vcihpbWFnZS5zdGFydFkpICYmIGltYWdlLnRvdWNoZXNDdXJyZW50LnkgPCBpbWFnZS50b3VjaGVzU3RhcnQueSB8fCBNYXRoLmZsb29yKGltYWdlLm1heFkpID09PSBNYXRoLmZsb29yKGltYWdlLnN0YXJ0WSkgJiYgaW1hZ2UudG91Y2hlc0N1cnJlbnQueSA+IGltYWdlLnRvdWNoZXNTdGFydC55KSkge1xuICAgICAgICAgIGltYWdlLmlzVG91Y2hlZCA9IGZhbHNlO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoZS5jYW5jZWxhYmxlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH1cblxuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGltYWdlLmlzTW92ZWQgPSB0cnVlO1xuICAgICAgaW1hZ2UuY3VycmVudFggPSBpbWFnZS50b3VjaGVzQ3VycmVudC54IC0gaW1hZ2UudG91Y2hlc1N0YXJ0LnggKyBpbWFnZS5zdGFydFg7XG4gICAgICBpbWFnZS5jdXJyZW50WSA9IGltYWdlLnRvdWNoZXNDdXJyZW50LnkgLSBpbWFnZS50b3VjaGVzU3RhcnQueSArIGltYWdlLnN0YXJ0WTtcblxuICAgICAgaWYgKGltYWdlLmN1cnJlbnRYIDwgaW1hZ2UubWluWCkge1xuICAgICAgICBpbWFnZS5jdXJyZW50WCA9IGltYWdlLm1pblggKyAxIC0gTWF0aC5wb3coaW1hZ2UubWluWCAtIGltYWdlLmN1cnJlbnRYICsgMSwgMC44KTtcbiAgICAgIH1cblxuICAgICAgaWYgKGltYWdlLmN1cnJlbnRYID4gaW1hZ2UubWF4WCkge1xuICAgICAgICBpbWFnZS5jdXJyZW50WCA9IGltYWdlLm1heFggLSAxICsgTWF0aC5wb3coaW1hZ2UuY3VycmVudFggLSBpbWFnZS5tYXhYICsgMSwgMC44KTtcbiAgICAgIH1cblxuICAgICAgaWYgKGltYWdlLmN1cnJlbnRZIDwgaW1hZ2UubWluWSkge1xuICAgICAgICBpbWFnZS5jdXJyZW50WSA9IGltYWdlLm1pblkgKyAxIC0gTWF0aC5wb3coaW1hZ2UubWluWSAtIGltYWdlLmN1cnJlbnRZICsgMSwgMC44KTtcbiAgICAgIH1cblxuICAgICAgaWYgKGltYWdlLmN1cnJlbnRZID4gaW1hZ2UubWF4WSkge1xuICAgICAgICBpbWFnZS5jdXJyZW50WSA9IGltYWdlLm1heFkgLSAxICsgTWF0aC5wb3coaW1hZ2UuY3VycmVudFkgLSBpbWFnZS5tYXhZICsgMSwgMC44KTtcbiAgICAgIH0gLy8gVmVsb2NpdHlcblxuXG4gICAgICBpZiAoIXZlbG9jaXR5LnByZXZQb3NpdGlvblgpIHZlbG9jaXR5LnByZXZQb3NpdGlvblggPSBpbWFnZS50b3VjaGVzQ3VycmVudC54O1xuICAgICAgaWYgKCF2ZWxvY2l0eS5wcmV2UG9zaXRpb25ZKSB2ZWxvY2l0eS5wcmV2UG9zaXRpb25ZID0gaW1hZ2UudG91Y2hlc0N1cnJlbnQueTtcbiAgICAgIGlmICghdmVsb2NpdHkucHJldlRpbWUpIHZlbG9jaXR5LnByZXZUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgIHZlbG9jaXR5LnggPSAoaW1hZ2UudG91Y2hlc0N1cnJlbnQueCAtIHZlbG9jaXR5LnByZXZQb3NpdGlvblgpIC8gKERhdGUubm93KCkgLSB2ZWxvY2l0eS5wcmV2VGltZSkgLyAyO1xuICAgICAgdmVsb2NpdHkueSA9IChpbWFnZS50b3VjaGVzQ3VycmVudC55IC0gdmVsb2NpdHkucHJldlBvc2l0aW9uWSkgLyAoRGF0ZS5ub3coKSAtIHZlbG9jaXR5LnByZXZUaW1lKSAvIDI7XG4gICAgICBpZiAoTWF0aC5hYnMoaW1hZ2UudG91Y2hlc0N1cnJlbnQueCAtIHZlbG9jaXR5LnByZXZQb3NpdGlvblgpIDwgMikgdmVsb2NpdHkueCA9IDA7XG4gICAgICBpZiAoTWF0aC5hYnMoaW1hZ2UudG91Y2hlc0N1cnJlbnQueSAtIHZlbG9jaXR5LnByZXZQb3NpdGlvblkpIDwgMikgdmVsb2NpdHkueSA9IDA7XG4gICAgICB2ZWxvY2l0eS5wcmV2UG9zaXRpb25YID0gaW1hZ2UudG91Y2hlc0N1cnJlbnQueDtcbiAgICAgIHZlbG9jaXR5LnByZXZQb3NpdGlvblkgPSBpbWFnZS50b3VjaGVzQ3VycmVudC55O1xuICAgICAgdmVsb2NpdHkucHJldlRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgZ2VzdHVyZS4kaW1hZ2VXcmFwRWwudHJhbnNmb3JtKFwidHJhbnNsYXRlM2QoXCIgKyBpbWFnZS5jdXJyZW50WCArIFwicHgsIFwiICsgaW1hZ2UuY3VycmVudFkgKyBcInB4LDApXCIpO1xuICAgIH0sXG4gICAgb25Ub3VjaEVuZDogZnVuY3Rpb24gb25Ub3VjaEVuZCgpIHtcbiAgICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgICAgdmFyIHpvb20gPSBzd2lwZXIuem9vbTtcbiAgICAgIHZhciBnZXN0dXJlID0gem9vbS5nZXN0dXJlLFxuICAgICAgICAgIGltYWdlID0gem9vbS5pbWFnZSxcbiAgICAgICAgICB2ZWxvY2l0eSA9IHpvb20udmVsb2NpdHk7XG4gICAgICBpZiAoIWdlc3R1cmUuJGltYWdlRWwgfHwgZ2VzdHVyZS4kaW1hZ2VFbC5sZW5ndGggPT09IDApIHJldHVybjtcblxuICAgICAgaWYgKCFpbWFnZS5pc1RvdWNoZWQgfHwgIWltYWdlLmlzTW92ZWQpIHtcbiAgICAgICAgaW1hZ2UuaXNUb3VjaGVkID0gZmFsc2U7XG4gICAgICAgIGltYWdlLmlzTW92ZWQgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpbWFnZS5pc1RvdWNoZWQgPSBmYWxzZTtcbiAgICAgIGltYWdlLmlzTW92ZWQgPSBmYWxzZTtcbiAgICAgIHZhciBtb21lbnR1bUR1cmF0aW9uWCA9IDMwMDtcbiAgICAgIHZhciBtb21lbnR1bUR1cmF0aW9uWSA9IDMwMDtcbiAgICAgIHZhciBtb21lbnR1bURpc3RhbmNlWCA9IHZlbG9jaXR5LnggKiBtb21lbnR1bUR1cmF0aW9uWDtcbiAgICAgIHZhciBuZXdQb3NpdGlvblggPSBpbWFnZS5jdXJyZW50WCArIG1vbWVudHVtRGlzdGFuY2VYO1xuICAgICAgdmFyIG1vbWVudHVtRGlzdGFuY2VZID0gdmVsb2NpdHkueSAqIG1vbWVudHVtRHVyYXRpb25ZO1xuICAgICAgdmFyIG5ld1Bvc2l0aW9uWSA9IGltYWdlLmN1cnJlbnRZICsgbW9tZW50dW1EaXN0YW5jZVk7IC8vIEZpeCBkdXJhdGlvblxuXG4gICAgICBpZiAodmVsb2NpdHkueCAhPT0gMCkgbW9tZW50dW1EdXJhdGlvblggPSBNYXRoLmFicygobmV3UG9zaXRpb25YIC0gaW1hZ2UuY3VycmVudFgpIC8gdmVsb2NpdHkueCk7XG4gICAgICBpZiAodmVsb2NpdHkueSAhPT0gMCkgbW9tZW50dW1EdXJhdGlvblkgPSBNYXRoLmFicygobmV3UG9zaXRpb25ZIC0gaW1hZ2UuY3VycmVudFkpIC8gdmVsb2NpdHkueSk7XG4gICAgICB2YXIgbW9tZW50dW1EdXJhdGlvbiA9IE1hdGgubWF4KG1vbWVudHVtRHVyYXRpb25YLCBtb21lbnR1bUR1cmF0aW9uWSk7XG4gICAgICBpbWFnZS5jdXJyZW50WCA9IG5ld1Bvc2l0aW9uWDtcbiAgICAgIGltYWdlLmN1cnJlbnRZID0gbmV3UG9zaXRpb25ZOyAvLyBEZWZpbmUgaWYgd2UgbmVlZCBpbWFnZSBkcmFnXG5cbiAgICAgIHZhciBzY2FsZWRXaWR0aCA9IGltYWdlLndpZHRoICogem9vbS5zY2FsZTtcbiAgICAgIHZhciBzY2FsZWRIZWlnaHQgPSBpbWFnZS5oZWlnaHQgKiB6b29tLnNjYWxlO1xuICAgICAgaW1hZ2UubWluWCA9IE1hdGgubWluKGdlc3R1cmUuc2xpZGVXaWR0aCAvIDIgLSBzY2FsZWRXaWR0aCAvIDIsIDApO1xuICAgICAgaW1hZ2UubWF4WCA9IC1pbWFnZS5taW5YO1xuICAgICAgaW1hZ2UubWluWSA9IE1hdGgubWluKGdlc3R1cmUuc2xpZGVIZWlnaHQgLyAyIC0gc2NhbGVkSGVpZ2h0IC8gMiwgMCk7XG4gICAgICBpbWFnZS5tYXhZID0gLWltYWdlLm1pblk7XG4gICAgICBpbWFnZS5jdXJyZW50WCA9IE1hdGgubWF4KE1hdGgubWluKGltYWdlLmN1cnJlbnRYLCBpbWFnZS5tYXhYKSwgaW1hZ2UubWluWCk7XG4gICAgICBpbWFnZS5jdXJyZW50WSA9IE1hdGgubWF4KE1hdGgubWluKGltYWdlLmN1cnJlbnRZLCBpbWFnZS5tYXhZKSwgaW1hZ2UubWluWSk7XG4gICAgICBnZXN0dXJlLiRpbWFnZVdyYXBFbC50cmFuc2l0aW9uKG1vbWVudHVtRHVyYXRpb24pLnRyYW5zZm9ybShcInRyYW5zbGF0ZTNkKFwiICsgaW1hZ2UuY3VycmVudFggKyBcInB4LCBcIiArIGltYWdlLmN1cnJlbnRZICsgXCJweCwwKVwiKTtcbiAgICB9LFxuICAgIG9uVHJhbnNpdGlvbkVuZDogZnVuY3Rpb24gb25UcmFuc2l0aW9uRW5kKCkge1xuICAgICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgICB2YXIgem9vbSA9IHN3aXBlci56b29tO1xuICAgICAgdmFyIGdlc3R1cmUgPSB6b29tLmdlc3R1cmU7XG5cbiAgICAgIGlmIChnZXN0dXJlLiRzbGlkZUVsICYmIHN3aXBlci5wcmV2aW91c0luZGV4ICE9PSBzd2lwZXIuYWN0aXZlSW5kZXgpIHtcbiAgICAgICAgaWYgKGdlc3R1cmUuJGltYWdlRWwpIHtcbiAgICAgICAgICBnZXN0dXJlLiRpbWFnZUVsLnRyYW5zZm9ybSgndHJhbnNsYXRlM2QoMCwwLDApIHNjYWxlKDEpJyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZ2VzdHVyZS4kaW1hZ2VXcmFwRWwpIHtcbiAgICAgICAgICBnZXN0dXJlLiRpbWFnZVdyYXBFbC50cmFuc2Zvcm0oJ3RyYW5zbGF0ZTNkKDAsMCwwKScpO1xuICAgICAgICB9XG5cbiAgICAgICAgem9vbS5zY2FsZSA9IDE7XG4gICAgICAgIHpvb20uY3VycmVudFNjYWxlID0gMTtcbiAgICAgICAgZ2VzdHVyZS4kc2xpZGVFbCA9IHVuZGVmaW5lZDtcbiAgICAgICAgZ2VzdHVyZS4kaW1hZ2VFbCA9IHVuZGVmaW5lZDtcbiAgICAgICAgZ2VzdHVyZS4kaW1hZ2VXcmFwRWwgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgfSxcbiAgICAvLyBUb2dnbGUgWm9vbVxuICAgIHRvZ2dsZTogZnVuY3Rpb24gdG9nZ2xlKGUpIHtcbiAgICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgICAgdmFyIHpvb20gPSBzd2lwZXIuem9vbTtcblxuICAgICAgaWYgKHpvb20uc2NhbGUgJiYgem9vbS5zY2FsZSAhPT0gMSkge1xuICAgICAgICAvLyBab29tIE91dFxuICAgICAgICB6b29tLm91dCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gWm9vbSBJblxuICAgICAgICB6b29tLmluKGUpO1xuICAgICAgfVxuICAgIH0sXG4gICAgaW46IGZ1bmN0aW9uIF9pbihlKSB7XG4gICAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICAgIHZhciB3aW5kb3cgPSBnZXRXaW5kb3coKTtcbiAgICAgIHZhciB6b29tID0gc3dpcGVyLnpvb207XG4gICAgICB2YXIgcGFyYW1zID0gc3dpcGVyLnBhcmFtcy56b29tO1xuICAgICAgdmFyIGdlc3R1cmUgPSB6b29tLmdlc3R1cmUsXG4gICAgICAgICAgaW1hZ2UgPSB6b29tLmltYWdlO1xuXG4gICAgICBpZiAoIWdlc3R1cmUuJHNsaWRlRWwpIHtcbiAgICAgICAgaWYgKGUgJiYgZS50YXJnZXQpIHtcbiAgICAgICAgICBnZXN0dXJlLiRzbGlkZUVsID0gJChlLnRhcmdldCkuY2xvc2VzdChcIi5cIiArIHN3aXBlci5wYXJhbXMuc2xpZGVDbGFzcyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWdlc3R1cmUuJHNsaWRlRWwpIHtcbiAgICAgICAgICBpZiAoc3dpcGVyLnBhcmFtcy52aXJ0dWFsICYmIHN3aXBlci5wYXJhbXMudmlydHVhbC5lbmFibGVkICYmIHN3aXBlci52aXJ0dWFsKSB7XG4gICAgICAgICAgICBnZXN0dXJlLiRzbGlkZUVsID0gc3dpcGVyLiR3cmFwcGVyRWwuY2hpbGRyZW4oXCIuXCIgKyBzd2lwZXIucGFyYW1zLnNsaWRlQWN0aXZlQ2xhc3MpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBnZXN0dXJlLiRzbGlkZUVsID0gc3dpcGVyLnNsaWRlcy5lcShzd2lwZXIuYWN0aXZlSW5kZXgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGdlc3R1cmUuJGltYWdlRWwgPSBnZXN0dXJlLiRzbGlkZUVsLmZpbmQoJ2ltZywgc3ZnLCBjYW52YXMsIHBpY3R1cmUsIC5zd2lwZXItem9vbS10YXJnZXQnKTtcbiAgICAgICAgZ2VzdHVyZS4kaW1hZ2VXcmFwRWwgPSBnZXN0dXJlLiRpbWFnZUVsLnBhcmVudChcIi5cIiArIHBhcmFtcy5jb250YWluZXJDbGFzcyk7XG4gICAgICB9XG5cbiAgICAgIGlmICghZ2VzdHVyZS4kaW1hZ2VFbCB8fCBnZXN0dXJlLiRpbWFnZUVsLmxlbmd0aCA9PT0gMCB8fCAhZ2VzdHVyZS4kaW1hZ2VXcmFwRWwgfHwgZ2VzdHVyZS4kaW1hZ2VXcmFwRWwubGVuZ3RoID09PSAwKSByZXR1cm47XG4gICAgICBnZXN0dXJlLiRzbGlkZUVsLmFkZENsYXNzKFwiXCIgKyBwYXJhbXMuem9vbWVkU2xpZGVDbGFzcyk7XG4gICAgICB2YXIgdG91Y2hYO1xuICAgICAgdmFyIHRvdWNoWTtcbiAgICAgIHZhciBvZmZzZXRYO1xuICAgICAgdmFyIG9mZnNldFk7XG4gICAgICB2YXIgZGlmZlg7XG4gICAgICB2YXIgZGlmZlk7XG4gICAgICB2YXIgdHJhbnNsYXRlWDtcbiAgICAgIHZhciB0cmFuc2xhdGVZO1xuICAgICAgdmFyIGltYWdlV2lkdGg7XG4gICAgICB2YXIgaW1hZ2VIZWlnaHQ7XG4gICAgICB2YXIgc2NhbGVkV2lkdGg7XG4gICAgICB2YXIgc2NhbGVkSGVpZ2h0O1xuICAgICAgdmFyIHRyYW5zbGF0ZU1pblg7XG4gICAgICB2YXIgdHJhbnNsYXRlTWluWTtcbiAgICAgIHZhciB0cmFuc2xhdGVNYXhYO1xuICAgICAgdmFyIHRyYW5zbGF0ZU1heFk7XG4gICAgICB2YXIgc2xpZGVXaWR0aDtcbiAgICAgIHZhciBzbGlkZUhlaWdodDtcblxuICAgICAgaWYgKHR5cGVvZiBpbWFnZS50b3VjaGVzU3RhcnQueCA9PT0gJ3VuZGVmaW5lZCcgJiYgZSkge1xuICAgICAgICB0b3VjaFggPSBlLnR5cGUgPT09ICd0b3VjaGVuZCcgPyBlLmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VYIDogZS5wYWdlWDtcbiAgICAgICAgdG91Y2hZID0gZS50eXBlID09PSAndG91Y2hlbmQnID8gZS5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWSA6IGUucGFnZVk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0b3VjaFggPSBpbWFnZS50b3VjaGVzU3RhcnQueDtcbiAgICAgICAgdG91Y2hZID0gaW1hZ2UudG91Y2hlc1N0YXJ0Lnk7XG4gICAgICB9XG5cbiAgICAgIHpvb20uc2NhbGUgPSBnZXN0dXJlLiRpbWFnZVdyYXBFbC5hdHRyKCdkYXRhLXN3aXBlci16b29tJykgfHwgcGFyYW1zLm1heFJhdGlvO1xuICAgICAgem9vbS5jdXJyZW50U2NhbGUgPSBnZXN0dXJlLiRpbWFnZVdyYXBFbC5hdHRyKCdkYXRhLXN3aXBlci16b29tJykgfHwgcGFyYW1zLm1heFJhdGlvO1xuXG4gICAgICBpZiAoZSkge1xuICAgICAgICBzbGlkZVdpZHRoID0gZ2VzdHVyZS4kc2xpZGVFbFswXS5vZmZzZXRXaWR0aDtcbiAgICAgICAgc2xpZGVIZWlnaHQgPSBnZXN0dXJlLiRzbGlkZUVsWzBdLm9mZnNldEhlaWdodDtcbiAgICAgICAgb2Zmc2V0WCA9IGdlc3R1cmUuJHNsaWRlRWwub2Zmc2V0KCkubGVmdCArIHdpbmRvdy5zY3JvbGxYO1xuICAgICAgICBvZmZzZXRZID0gZ2VzdHVyZS4kc2xpZGVFbC5vZmZzZXQoKS50b3AgKyB3aW5kb3cuc2Nyb2xsWTtcbiAgICAgICAgZGlmZlggPSBvZmZzZXRYICsgc2xpZGVXaWR0aCAvIDIgLSB0b3VjaFg7XG4gICAgICAgIGRpZmZZID0gb2Zmc2V0WSArIHNsaWRlSGVpZ2h0IC8gMiAtIHRvdWNoWTtcbiAgICAgICAgaW1hZ2VXaWR0aCA9IGdlc3R1cmUuJGltYWdlRWxbMF0ub2Zmc2V0V2lkdGg7XG4gICAgICAgIGltYWdlSGVpZ2h0ID0gZ2VzdHVyZS4kaW1hZ2VFbFswXS5vZmZzZXRIZWlnaHQ7XG4gICAgICAgIHNjYWxlZFdpZHRoID0gaW1hZ2VXaWR0aCAqIHpvb20uc2NhbGU7XG4gICAgICAgIHNjYWxlZEhlaWdodCA9IGltYWdlSGVpZ2h0ICogem9vbS5zY2FsZTtcbiAgICAgICAgdHJhbnNsYXRlTWluWCA9IE1hdGgubWluKHNsaWRlV2lkdGggLyAyIC0gc2NhbGVkV2lkdGggLyAyLCAwKTtcbiAgICAgICAgdHJhbnNsYXRlTWluWSA9IE1hdGgubWluKHNsaWRlSGVpZ2h0IC8gMiAtIHNjYWxlZEhlaWdodCAvIDIsIDApO1xuICAgICAgICB0cmFuc2xhdGVNYXhYID0gLXRyYW5zbGF0ZU1pblg7XG4gICAgICAgIHRyYW5zbGF0ZU1heFkgPSAtdHJhbnNsYXRlTWluWTtcbiAgICAgICAgdHJhbnNsYXRlWCA9IGRpZmZYICogem9vbS5zY2FsZTtcbiAgICAgICAgdHJhbnNsYXRlWSA9IGRpZmZZICogem9vbS5zY2FsZTtcblxuICAgICAgICBpZiAodHJhbnNsYXRlWCA8IHRyYW5zbGF0ZU1pblgpIHtcbiAgICAgICAgICB0cmFuc2xhdGVYID0gdHJhbnNsYXRlTWluWDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0cmFuc2xhdGVYID4gdHJhbnNsYXRlTWF4WCkge1xuICAgICAgICAgIHRyYW5zbGF0ZVggPSB0cmFuc2xhdGVNYXhYO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRyYW5zbGF0ZVkgPCB0cmFuc2xhdGVNaW5ZKSB7XG4gICAgICAgICAgdHJhbnNsYXRlWSA9IHRyYW5zbGF0ZU1pblk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHJhbnNsYXRlWSA+IHRyYW5zbGF0ZU1heFkpIHtcbiAgICAgICAgICB0cmFuc2xhdGVZID0gdHJhbnNsYXRlTWF4WTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdHJhbnNsYXRlWCA9IDA7XG4gICAgICAgIHRyYW5zbGF0ZVkgPSAwO1xuICAgICAgfVxuXG4gICAgICBnZXN0dXJlLiRpbWFnZVdyYXBFbC50cmFuc2l0aW9uKDMwMCkudHJhbnNmb3JtKFwidHJhbnNsYXRlM2QoXCIgKyB0cmFuc2xhdGVYICsgXCJweCwgXCIgKyB0cmFuc2xhdGVZICsgXCJweCwwKVwiKTtcbiAgICAgIGdlc3R1cmUuJGltYWdlRWwudHJhbnNpdGlvbigzMDApLnRyYW5zZm9ybShcInRyYW5zbGF0ZTNkKDAsMCwwKSBzY2FsZShcIiArIHpvb20uc2NhbGUgKyBcIilcIik7XG4gICAgfSxcbiAgICBvdXQ6IGZ1bmN0aW9uIG91dCgpIHtcbiAgICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgICAgdmFyIHpvb20gPSBzd2lwZXIuem9vbTtcbiAgICAgIHZhciBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLnpvb207XG4gICAgICB2YXIgZ2VzdHVyZSA9IHpvb20uZ2VzdHVyZTtcblxuICAgICAgaWYgKCFnZXN0dXJlLiRzbGlkZUVsKSB7XG4gICAgICAgIGlmIChzd2lwZXIucGFyYW1zLnZpcnR1YWwgJiYgc3dpcGVyLnBhcmFtcy52aXJ0dWFsLmVuYWJsZWQgJiYgc3dpcGVyLnZpcnR1YWwpIHtcbiAgICAgICAgICBnZXN0dXJlLiRzbGlkZUVsID0gc3dpcGVyLiR3cmFwcGVyRWwuY2hpbGRyZW4oXCIuXCIgKyBzd2lwZXIucGFyYW1zLnNsaWRlQWN0aXZlQ2xhc3MpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGdlc3R1cmUuJHNsaWRlRWwgPSBzd2lwZXIuc2xpZGVzLmVxKHN3aXBlci5hY3RpdmVJbmRleCk7XG4gICAgICAgIH1cblxuICAgICAgICBnZXN0dXJlLiRpbWFnZUVsID0gZ2VzdHVyZS4kc2xpZGVFbC5maW5kKCdpbWcsIHN2ZywgY2FudmFzLCBwaWN0dXJlLCAuc3dpcGVyLXpvb20tdGFyZ2V0Jyk7XG4gICAgICAgIGdlc3R1cmUuJGltYWdlV3JhcEVsID0gZ2VzdHVyZS4kaW1hZ2VFbC5wYXJlbnQoXCIuXCIgKyBwYXJhbXMuY29udGFpbmVyQ2xhc3MpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWdlc3R1cmUuJGltYWdlRWwgfHwgZ2VzdHVyZS4kaW1hZ2VFbC5sZW5ndGggPT09IDAgfHwgIWdlc3R1cmUuJGltYWdlV3JhcEVsIHx8IGdlc3R1cmUuJGltYWdlV3JhcEVsLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICAgICAgem9vbS5zY2FsZSA9IDE7XG4gICAgICB6b29tLmN1cnJlbnRTY2FsZSA9IDE7XG4gICAgICBnZXN0dXJlLiRpbWFnZVdyYXBFbC50cmFuc2l0aW9uKDMwMCkudHJhbnNmb3JtKCd0cmFuc2xhdGUzZCgwLDAsMCknKTtcbiAgICAgIGdlc3R1cmUuJGltYWdlRWwudHJhbnNpdGlvbigzMDApLnRyYW5zZm9ybSgndHJhbnNsYXRlM2QoMCwwLDApIHNjYWxlKDEpJyk7XG4gICAgICBnZXN0dXJlLiRzbGlkZUVsLnJlbW92ZUNsYXNzKFwiXCIgKyBwYXJhbXMuem9vbWVkU2xpZGVDbGFzcyk7XG4gICAgICBnZXN0dXJlLiRzbGlkZUVsID0gdW5kZWZpbmVkO1xuICAgIH0sXG4gICAgdG9nZ2xlR2VzdHVyZXM6IGZ1bmN0aW9uIHRvZ2dsZUdlc3R1cmVzKG1ldGhvZCkge1xuICAgICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgICB2YXIgem9vbSA9IHN3aXBlci56b29tO1xuICAgICAgdmFyIHNlbGVjdG9yID0gem9vbS5zbGlkZVNlbGVjdG9yLFxuICAgICAgICAgIHBhc3NpdmUgPSB6b29tLnBhc3NpdmVMaXN0ZW5lcjtcbiAgICAgIHN3aXBlci4kd3JhcHBlckVsW21ldGhvZF0oJ2dlc3R1cmVzdGFydCcsIHNlbGVjdG9yLCB6b29tLm9uR2VzdHVyZVN0YXJ0LCBwYXNzaXZlKTtcbiAgICAgIHN3aXBlci4kd3JhcHBlckVsW21ldGhvZF0oJ2dlc3R1cmVjaGFuZ2UnLCBzZWxlY3Rvciwgem9vbS5vbkdlc3R1cmVDaGFuZ2UsIHBhc3NpdmUpO1xuICAgICAgc3dpcGVyLiR3cmFwcGVyRWxbbWV0aG9kXSgnZ2VzdHVyZWVuZCcsIHNlbGVjdG9yLCB6b29tLm9uR2VzdHVyZUVuZCwgcGFzc2l2ZSk7XG4gICAgfSxcbiAgICBlbmFibGVHZXN0dXJlczogZnVuY3Rpb24gZW5hYmxlR2VzdHVyZXMoKSB7XG4gICAgICBpZiAodGhpcy56b29tLmdlc3R1cmVzRW5hYmxlZCkgcmV0dXJuO1xuICAgICAgdGhpcy56b29tLmdlc3R1cmVzRW5hYmxlZCA9IHRydWU7XG4gICAgICB0aGlzLnpvb20udG9nZ2xlR2VzdHVyZXMoJ29uJyk7XG4gICAgfSxcbiAgICBkaXNhYmxlR2VzdHVyZXM6IGZ1bmN0aW9uIGRpc2FibGVHZXN0dXJlcygpIHtcbiAgICAgIGlmICghdGhpcy56b29tLmdlc3R1cmVzRW5hYmxlZCkgcmV0dXJuO1xuICAgICAgdGhpcy56b29tLmdlc3R1cmVzRW5hYmxlZCA9IGZhbHNlO1xuICAgICAgdGhpcy56b29tLnRvZ2dsZUdlc3R1cmVzKCdvZmYnKTtcbiAgICB9LFxuICAgIC8vIEF0dGFjaC9EZXRhY2ggRXZlbnRzXG4gICAgZW5hYmxlOiBmdW5jdGlvbiBlbmFibGUoKSB7XG4gICAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICAgIHZhciBzdXBwb3J0ID0gc3dpcGVyLnN1cHBvcnQ7XG4gICAgICB2YXIgem9vbSA9IHN3aXBlci56b29tO1xuICAgICAgaWYgKHpvb20uZW5hYmxlZCkgcmV0dXJuO1xuICAgICAgem9vbS5lbmFibGVkID0gdHJ1ZTtcbiAgICAgIHZhciBwYXNzaXZlTGlzdGVuZXIgPSBzd2lwZXIudG91Y2hFdmVudHMuc3RhcnQgPT09ICd0b3VjaHN0YXJ0JyAmJiBzdXBwb3J0LnBhc3NpdmVMaXN0ZW5lciAmJiBzd2lwZXIucGFyYW1zLnBhc3NpdmVMaXN0ZW5lcnMgPyB7XG4gICAgICAgIHBhc3NpdmU6IHRydWUsXG4gICAgICAgIGNhcHR1cmU6IGZhbHNlXG4gICAgICB9IDogZmFsc2U7XG4gICAgICB2YXIgYWN0aXZlTGlzdGVuZXJXaXRoQ2FwdHVyZSA9IHN1cHBvcnQucGFzc2l2ZUxpc3RlbmVyID8ge1xuICAgICAgICBwYXNzaXZlOiBmYWxzZSxcbiAgICAgICAgY2FwdHVyZTogdHJ1ZVxuICAgICAgfSA6IHRydWU7XG4gICAgICB2YXIgc2xpZGVTZWxlY3RvciA9IFwiLlwiICsgc3dpcGVyLnBhcmFtcy5zbGlkZUNsYXNzO1xuICAgICAgc3dpcGVyLnpvb20ucGFzc2l2ZUxpc3RlbmVyID0gcGFzc2l2ZUxpc3RlbmVyO1xuICAgICAgc3dpcGVyLnpvb20uc2xpZGVTZWxlY3RvciA9IHNsaWRlU2VsZWN0b3I7IC8vIFNjYWxlIGltYWdlXG5cbiAgICAgIGlmIChzdXBwb3J0Lmdlc3R1cmVzKSB7XG4gICAgICAgIHN3aXBlci4kd3JhcHBlckVsLm9uKHN3aXBlci50b3VjaEV2ZW50cy5zdGFydCwgc3dpcGVyLnpvb20uZW5hYmxlR2VzdHVyZXMsIHBhc3NpdmVMaXN0ZW5lcik7XG4gICAgICAgIHN3aXBlci4kd3JhcHBlckVsLm9uKHN3aXBlci50b3VjaEV2ZW50cy5lbmQsIHN3aXBlci56b29tLmRpc2FibGVHZXN0dXJlcywgcGFzc2l2ZUxpc3RlbmVyKTtcbiAgICAgIH0gZWxzZSBpZiAoc3dpcGVyLnRvdWNoRXZlbnRzLnN0YXJ0ID09PSAndG91Y2hzdGFydCcpIHtcbiAgICAgICAgc3dpcGVyLiR3cmFwcGVyRWwub24oc3dpcGVyLnRvdWNoRXZlbnRzLnN0YXJ0LCBzbGlkZVNlbGVjdG9yLCB6b29tLm9uR2VzdHVyZVN0YXJ0LCBwYXNzaXZlTGlzdGVuZXIpO1xuICAgICAgICBzd2lwZXIuJHdyYXBwZXJFbC5vbihzd2lwZXIudG91Y2hFdmVudHMubW92ZSwgc2xpZGVTZWxlY3Rvciwgem9vbS5vbkdlc3R1cmVDaGFuZ2UsIGFjdGl2ZUxpc3RlbmVyV2l0aENhcHR1cmUpO1xuICAgICAgICBzd2lwZXIuJHdyYXBwZXJFbC5vbihzd2lwZXIudG91Y2hFdmVudHMuZW5kLCBzbGlkZVNlbGVjdG9yLCB6b29tLm9uR2VzdHVyZUVuZCwgcGFzc2l2ZUxpc3RlbmVyKTtcblxuICAgICAgICBpZiAoc3dpcGVyLnRvdWNoRXZlbnRzLmNhbmNlbCkge1xuICAgICAgICAgIHN3aXBlci4kd3JhcHBlckVsLm9uKHN3aXBlci50b3VjaEV2ZW50cy5jYW5jZWwsIHNsaWRlU2VsZWN0b3IsIHpvb20ub25HZXN0dXJlRW5kLCBwYXNzaXZlTGlzdGVuZXIpO1xuICAgICAgICB9XG4gICAgICB9IC8vIE1vdmUgaW1hZ2VcblxuXG4gICAgICBzd2lwZXIuJHdyYXBwZXJFbC5vbihzd2lwZXIudG91Y2hFdmVudHMubW92ZSwgXCIuXCIgKyBzd2lwZXIucGFyYW1zLnpvb20uY29udGFpbmVyQ2xhc3MsIHpvb20ub25Ub3VjaE1vdmUsIGFjdGl2ZUxpc3RlbmVyV2l0aENhcHR1cmUpO1xuICAgIH0sXG4gICAgZGlzYWJsZTogZnVuY3Rpb24gZGlzYWJsZSgpIHtcbiAgICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgICAgdmFyIHpvb20gPSBzd2lwZXIuem9vbTtcbiAgICAgIGlmICghem9vbS5lbmFibGVkKSByZXR1cm47XG4gICAgICB2YXIgc3VwcG9ydCA9IHN3aXBlci5zdXBwb3J0O1xuICAgICAgc3dpcGVyLnpvb20uZW5hYmxlZCA9IGZhbHNlO1xuICAgICAgdmFyIHBhc3NpdmVMaXN0ZW5lciA9IHN3aXBlci50b3VjaEV2ZW50cy5zdGFydCA9PT0gJ3RvdWNoc3RhcnQnICYmIHN1cHBvcnQucGFzc2l2ZUxpc3RlbmVyICYmIHN3aXBlci5wYXJhbXMucGFzc2l2ZUxpc3RlbmVycyA/IHtcbiAgICAgICAgcGFzc2l2ZTogdHJ1ZSxcbiAgICAgICAgY2FwdHVyZTogZmFsc2VcbiAgICAgIH0gOiBmYWxzZTtcbiAgICAgIHZhciBhY3RpdmVMaXN0ZW5lcldpdGhDYXB0dXJlID0gc3VwcG9ydC5wYXNzaXZlTGlzdGVuZXIgPyB7XG4gICAgICAgIHBhc3NpdmU6IGZhbHNlLFxuICAgICAgICBjYXB0dXJlOiB0cnVlXG4gICAgICB9IDogdHJ1ZTtcbiAgICAgIHZhciBzbGlkZVNlbGVjdG9yID0gXCIuXCIgKyBzd2lwZXIucGFyYW1zLnNsaWRlQ2xhc3M7IC8vIFNjYWxlIGltYWdlXG5cbiAgICAgIGlmIChzdXBwb3J0Lmdlc3R1cmVzKSB7XG4gICAgICAgIHN3aXBlci4kd3JhcHBlckVsLm9mZihzd2lwZXIudG91Y2hFdmVudHMuc3RhcnQsIHN3aXBlci56b29tLmVuYWJsZUdlc3R1cmVzLCBwYXNzaXZlTGlzdGVuZXIpO1xuICAgICAgICBzd2lwZXIuJHdyYXBwZXJFbC5vZmYoc3dpcGVyLnRvdWNoRXZlbnRzLmVuZCwgc3dpcGVyLnpvb20uZGlzYWJsZUdlc3R1cmVzLCBwYXNzaXZlTGlzdGVuZXIpO1xuICAgICAgfSBlbHNlIGlmIChzd2lwZXIudG91Y2hFdmVudHMuc3RhcnQgPT09ICd0b3VjaHN0YXJ0Jykge1xuICAgICAgICBzd2lwZXIuJHdyYXBwZXJFbC5vZmYoc3dpcGVyLnRvdWNoRXZlbnRzLnN0YXJ0LCBzbGlkZVNlbGVjdG9yLCB6b29tLm9uR2VzdHVyZVN0YXJ0LCBwYXNzaXZlTGlzdGVuZXIpO1xuICAgICAgICBzd2lwZXIuJHdyYXBwZXJFbC5vZmYoc3dpcGVyLnRvdWNoRXZlbnRzLm1vdmUsIHNsaWRlU2VsZWN0b3IsIHpvb20ub25HZXN0dXJlQ2hhbmdlLCBhY3RpdmVMaXN0ZW5lcldpdGhDYXB0dXJlKTtcbiAgICAgICAgc3dpcGVyLiR3cmFwcGVyRWwub2ZmKHN3aXBlci50b3VjaEV2ZW50cy5lbmQsIHNsaWRlU2VsZWN0b3IsIHpvb20ub25HZXN0dXJlRW5kLCBwYXNzaXZlTGlzdGVuZXIpO1xuXG4gICAgICAgIGlmIChzd2lwZXIudG91Y2hFdmVudHMuY2FuY2VsKSB7XG4gICAgICAgICAgc3dpcGVyLiR3cmFwcGVyRWwub2ZmKHN3aXBlci50b3VjaEV2ZW50cy5jYW5jZWwsIHNsaWRlU2VsZWN0b3IsIHpvb20ub25HZXN0dXJlRW5kLCBwYXNzaXZlTGlzdGVuZXIpO1xuICAgICAgICB9XG4gICAgICB9IC8vIE1vdmUgaW1hZ2VcblxuXG4gICAgICBzd2lwZXIuJHdyYXBwZXJFbC5vZmYoc3dpcGVyLnRvdWNoRXZlbnRzLm1vdmUsIFwiLlwiICsgc3dpcGVyLnBhcmFtcy56b29tLmNvbnRhaW5lckNsYXNzLCB6b29tLm9uVG91Y2hNb3ZlLCBhY3RpdmVMaXN0ZW5lcldpdGhDYXB0dXJlKTtcbiAgICB9XG4gIH07XG4gIHZhciBab29tJDEgPSB7XG4gICAgbmFtZTogJ3pvb20nLFxuICAgIHBhcmFtczoge1xuICAgICAgem9vbToge1xuICAgICAgICBlbmFibGVkOiBmYWxzZSxcbiAgICAgICAgbWF4UmF0aW86IDMsXG4gICAgICAgIG1pblJhdGlvOiAxLFxuICAgICAgICB0b2dnbGU6IHRydWUsXG4gICAgICAgIGNvbnRhaW5lckNsYXNzOiAnc3dpcGVyLXpvb20tY29udGFpbmVyJyxcbiAgICAgICAgem9vbWVkU2xpZGVDbGFzczogJ3N3aXBlci1zbGlkZS16b29tZWQnXG4gICAgICB9XG4gICAgfSxcbiAgICBjcmVhdGU6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgICAgYmluZE1vZHVsZU1ldGhvZHMoc3dpcGVyLCB7XG4gICAgICAgIHpvb206IF9leHRlbmRzKHtcbiAgICAgICAgICBlbmFibGVkOiBmYWxzZSxcbiAgICAgICAgICBzY2FsZTogMSxcbiAgICAgICAgICBjdXJyZW50U2NhbGU6IDEsXG4gICAgICAgICAgaXNTY2FsaW5nOiBmYWxzZSxcbiAgICAgICAgICBnZXN0dXJlOiB7XG4gICAgICAgICAgICAkc2xpZGVFbDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgc2xpZGVXaWR0aDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgc2xpZGVIZWlnaHQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICRpbWFnZUVsOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAkaW1hZ2VXcmFwRWw6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIG1heFJhdGlvOiAzXG4gICAgICAgICAgfSxcbiAgICAgICAgICBpbWFnZToge1xuICAgICAgICAgICAgaXNUb3VjaGVkOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBpc01vdmVkOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBjdXJyZW50WDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgY3VycmVudFk6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIG1pblg6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIG1pblk6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIG1heFg6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIG1heFk6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHdpZHRoOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBoZWlnaHQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHN0YXJ0WDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgc3RhcnRZOiB1bmRlZmluZWQsXG4gICAgICAgICAgICB0b3VjaGVzU3RhcnQ6IHt9LFxuICAgICAgICAgICAgdG91Y2hlc0N1cnJlbnQ6IHt9XG4gICAgICAgICAgfSxcbiAgICAgICAgICB2ZWxvY2l0eToge1xuICAgICAgICAgICAgeDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgeTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgcHJldlBvc2l0aW9uWDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgcHJldlBvc2l0aW9uWTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgcHJldlRpbWU6IHVuZGVmaW5lZFxuICAgICAgICAgIH1cbiAgICAgICAgfSwgWm9vbSlcbiAgICAgIH0pO1xuICAgICAgdmFyIHNjYWxlID0gMTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzd2lwZXIuem9vbSwgJ3NjYWxlJywge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gc2NhbGU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICAgICAgaWYgKHNjYWxlICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIGltYWdlRWwgPSBzd2lwZXIuem9vbS5nZXN0dXJlLiRpbWFnZUVsID8gc3dpcGVyLnpvb20uZ2VzdHVyZS4kaW1hZ2VFbFswXSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHZhciBzbGlkZUVsID0gc3dpcGVyLnpvb20uZ2VzdHVyZS4kc2xpZGVFbCA/IHN3aXBlci56b29tLmdlc3R1cmUuJHNsaWRlRWxbMF0gOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICBzd2lwZXIuZW1pdCgnem9vbUNoYW5nZScsIHZhbHVlLCBpbWFnZUVsLCBzbGlkZUVsKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBzY2FsZSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuICAgIG9uOiB7XG4gICAgICBpbml0OiBmdW5jdGlvbiBpbml0KHN3aXBlcikge1xuICAgICAgICBpZiAoc3dpcGVyLnBhcmFtcy56b29tLmVuYWJsZWQpIHtcbiAgICAgICAgICBzd2lwZXIuem9vbS5lbmFibGUoKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koc3dpcGVyKSB7XG4gICAgICAgIHN3aXBlci56b29tLmRpc2FibGUoKTtcbiAgICAgIH0sXG4gICAgICB0b3VjaFN0YXJ0OiBmdW5jdGlvbiB0b3VjaFN0YXJ0KHN3aXBlciwgZSkge1xuICAgICAgICBpZiAoIXN3aXBlci56b29tLmVuYWJsZWQpIHJldHVybjtcbiAgICAgICAgc3dpcGVyLnpvb20ub25Ub3VjaFN0YXJ0KGUpO1xuICAgICAgfSxcbiAgICAgIHRvdWNoRW5kOiBmdW5jdGlvbiB0b3VjaEVuZChzd2lwZXIsIGUpIHtcbiAgICAgICAgaWYgKCFzd2lwZXIuem9vbS5lbmFibGVkKSByZXR1cm47XG4gICAgICAgIHN3aXBlci56b29tLm9uVG91Y2hFbmQoZSk7XG4gICAgICB9LFxuICAgICAgZG91YmxlVGFwOiBmdW5jdGlvbiBkb3VibGVUYXAoc3dpcGVyLCBlKSB7XG4gICAgICAgIGlmICghc3dpcGVyLmFuaW1hdGluZyAmJiBzd2lwZXIucGFyYW1zLnpvb20uZW5hYmxlZCAmJiBzd2lwZXIuem9vbS5lbmFibGVkICYmIHN3aXBlci5wYXJhbXMuem9vbS50b2dnbGUpIHtcbiAgICAgICAgICBzd2lwZXIuem9vbS50b2dnbGUoZSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB0cmFuc2l0aW9uRW5kOiBmdW5jdGlvbiB0cmFuc2l0aW9uRW5kKHN3aXBlcikge1xuICAgICAgICBpZiAoc3dpcGVyLnpvb20uZW5hYmxlZCAmJiBzd2lwZXIucGFyYW1zLnpvb20uZW5hYmxlZCkge1xuICAgICAgICAgIHN3aXBlci56b29tLm9uVHJhbnNpdGlvbkVuZCgpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgc2xpZGVDaGFuZ2U6IGZ1bmN0aW9uIHNsaWRlQ2hhbmdlKHN3aXBlcikge1xuICAgICAgICBpZiAoc3dpcGVyLnpvb20uZW5hYmxlZCAmJiBzd2lwZXIucGFyYW1zLnpvb20uZW5hYmxlZCAmJiBzd2lwZXIucGFyYW1zLmNzc01vZGUpIHtcbiAgICAgICAgICBzd2lwZXIuem9vbS5vblRyYW5zaXRpb25FbmQoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB2YXIgTGF6eSA9IHtcbiAgICBsb2FkSW5TbGlkZTogZnVuY3Rpb24gbG9hZEluU2xpZGUoaW5kZXgsIGxvYWRJbkR1cGxpY2F0ZSkge1xuICAgICAgaWYgKGxvYWRJbkR1cGxpY2F0ZSA9PT0gdm9pZCAwKSB7XG4gICAgICAgIGxvYWRJbkR1cGxpY2F0ZSA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgICAgdmFyIHBhcmFtcyA9IHN3aXBlci5wYXJhbXMubGF6eTtcbiAgICAgIGlmICh0eXBlb2YgaW5kZXggPT09ICd1bmRlZmluZWQnKSByZXR1cm47XG4gICAgICBpZiAoc3dpcGVyLnNsaWRlcy5sZW5ndGggPT09IDApIHJldHVybjtcbiAgICAgIHZhciBpc1ZpcnR1YWwgPSBzd2lwZXIudmlydHVhbCAmJiBzd2lwZXIucGFyYW1zLnZpcnR1YWwuZW5hYmxlZDtcbiAgICAgIHZhciAkc2xpZGVFbCA9IGlzVmlydHVhbCA/IHN3aXBlci4kd3JhcHBlckVsLmNoaWxkcmVuKFwiLlwiICsgc3dpcGVyLnBhcmFtcy5zbGlkZUNsYXNzICsgXCJbZGF0YS1zd2lwZXItc2xpZGUtaW5kZXg9XFxcIlwiICsgaW5kZXggKyBcIlxcXCJdXCIpIDogc3dpcGVyLnNsaWRlcy5lcShpbmRleCk7XG4gICAgICB2YXIgJGltYWdlcyA9ICRzbGlkZUVsLmZpbmQoXCIuXCIgKyBwYXJhbXMuZWxlbWVudENsYXNzICsgXCI6bm90KC5cIiArIHBhcmFtcy5sb2FkZWRDbGFzcyArIFwiKTpub3QoLlwiICsgcGFyYW1zLmxvYWRpbmdDbGFzcyArIFwiKVwiKTtcblxuICAgICAgaWYgKCRzbGlkZUVsLmhhc0NsYXNzKHBhcmFtcy5lbGVtZW50Q2xhc3MpICYmICEkc2xpZGVFbC5oYXNDbGFzcyhwYXJhbXMubG9hZGVkQ2xhc3MpICYmICEkc2xpZGVFbC5oYXNDbGFzcyhwYXJhbXMubG9hZGluZ0NsYXNzKSkge1xuICAgICAgICAkaW1hZ2VzLnB1c2goJHNsaWRlRWxbMF0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoJGltYWdlcy5sZW5ndGggPT09IDApIHJldHVybjtcbiAgICAgICRpbWFnZXMuZWFjaChmdW5jdGlvbiAoaW1hZ2VFbCkge1xuICAgICAgICB2YXIgJGltYWdlRWwgPSAkKGltYWdlRWwpO1xuICAgICAgICAkaW1hZ2VFbC5hZGRDbGFzcyhwYXJhbXMubG9hZGluZ0NsYXNzKTtcbiAgICAgICAgdmFyIGJhY2tncm91bmQgPSAkaW1hZ2VFbC5hdHRyKCdkYXRhLWJhY2tncm91bmQnKTtcbiAgICAgICAgdmFyIHNyYyA9ICRpbWFnZUVsLmF0dHIoJ2RhdGEtc3JjJyk7XG4gICAgICAgIHZhciBzcmNzZXQgPSAkaW1hZ2VFbC5hdHRyKCdkYXRhLXNyY3NldCcpO1xuICAgICAgICB2YXIgc2l6ZXMgPSAkaW1hZ2VFbC5hdHRyKCdkYXRhLXNpemVzJyk7XG4gICAgICAgIHZhciAkcGljdHVyZUVsID0gJGltYWdlRWwucGFyZW50KCdwaWN0dXJlJyk7XG4gICAgICAgIHN3aXBlci5sb2FkSW1hZ2UoJGltYWdlRWxbMF0sIHNyYyB8fCBiYWNrZ3JvdW5kLCBzcmNzZXQsIHNpemVzLCBmYWxzZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmICh0eXBlb2Ygc3dpcGVyID09PSAndW5kZWZpbmVkJyB8fCBzd2lwZXIgPT09IG51bGwgfHwgIXN3aXBlciB8fCBzd2lwZXIgJiYgIXN3aXBlci5wYXJhbXMgfHwgc3dpcGVyLmRlc3Ryb3llZCkgcmV0dXJuO1xuXG4gICAgICAgICAgaWYgKGJhY2tncm91bmQpIHtcbiAgICAgICAgICAgICRpbWFnZUVsLmNzcygnYmFja2dyb3VuZC1pbWFnZScsIFwidXJsKFxcXCJcIiArIGJhY2tncm91bmQgKyBcIlxcXCIpXCIpO1xuICAgICAgICAgICAgJGltYWdlRWwucmVtb3ZlQXR0cignZGF0YS1iYWNrZ3JvdW5kJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChzcmNzZXQpIHtcbiAgICAgICAgICAgICAgJGltYWdlRWwuYXR0cignc3Jjc2V0Jywgc3Jjc2V0KTtcbiAgICAgICAgICAgICAgJGltYWdlRWwucmVtb3ZlQXR0cignZGF0YS1zcmNzZXQnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHNpemVzKSB7XG4gICAgICAgICAgICAgICRpbWFnZUVsLmF0dHIoJ3NpemVzJywgc2l6ZXMpO1xuICAgICAgICAgICAgICAkaW1hZ2VFbC5yZW1vdmVBdHRyKCdkYXRhLXNpemVzJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICgkcGljdHVyZUVsLmxlbmd0aCkge1xuICAgICAgICAgICAgICAkcGljdHVyZUVsLmNoaWxkcmVuKCdzb3VyY2UnKS5lYWNoKGZ1bmN0aW9uIChzb3VyY2VFbCkge1xuICAgICAgICAgICAgICAgIHZhciAkc291cmNlID0gJChzb3VyY2VFbCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoJHNvdXJjZS5hdHRyKCdkYXRhLXNyY3NldCcpKSB7XG4gICAgICAgICAgICAgICAgICAkc291cmNlLmF0dHIoJ3NyY3NldCcsICRzb3VyY2UuYXR0cignZGF0YS1zcmNzZXQnKSk7XG4gICAgICAgICAgICAgICAgICAkc291cmNlLnJlbW92ZUF0dHIoJ2RhdGEtc3Jjc2V0Jyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHNyYykge1xuICAgICAgICAgICAgICAkaW1hZ2VFbC5hdHRyKCdzcmMnLCBzcmMpO1xuICAgICAgICAgICAgICAkaW1hZ2VFbC5yZW1vdmVBdHRyKCdkYXRhLXNyYycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgICRpbWFnZUVsLmFkZENsYXNzKHBhcmFtcy5sb2FkZWRDbGFzcykucmVtb3ZlQ2xhc3MocGFyYW1zLmxvYWRpbmdDbGFzcyk7XG4gICAgICAgICAgJHNsaWRlRWwuZmluZChcIi5cIiArIHBhcmFtcy5wcmVsb2FkZXJDbGFzcykucmVtb3ZlKCk7XG5cbiAgICAgICAgICBpZiAoc3dpcGVyLnBhcmFtcy5sb29wICYmIGxvYWRJbkR1cGxpY2F0ZSkge1xuICAgICAgICAgICAgdmFyIHNsaWRlT3JpZ2luYWxJbmRleCA9ICRzbGlkZUVsLmF0dHIoJ2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4Jyk7XG5cbiAgICAgICAgICAgIGlmICgkc2xpZGVFbC5oYXNDbGFzcyhzd2lwZXIucGFyYW1zLnNsaWRlRHVwbGljYXRlQ2xhc3MpKSB7XG4gICAgICAgICAgICAgIHZhciBvcmlnaW5hbFNsaWRlID0gc3dpcGVyLiR3cmFwcGVyRWwuY2hpbGRyZW4oXCJbZGF0YS1zd2lwZXItc2xpZGUtaW5kZXg9XFxcIlwiICsgc2xpZGVPcmlnaW5hbEluZGV4ICsgXCJcXFwiXTpub3QoLlwiICsgc3dpcGVyLnBhcmFtcy5zbGlkZUR1cGxpY2F0ZUNsYXNzICsgXCIpXCIpO1xuICAgICAgICAgICAgICBzd2lwZXIubGF6eS5sb2FkSW5TbGlkZShvcmlnaW5hbFNsaWRlLmluZGV4KCksIGZhbHNlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHZhciBkdXBsaWNhdGVkU2xpZGUgPSBzd2lwZXIuJHdyYXBwZXJFbC5jaGlsZHJlbihcIi5cIiArIHN3aXBlci5wYXJhbXMuc2xpZGVEdXBsaWNhdGVDbGFzcyArIFwiW2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4PVxcXCJcIiArIHNsaWRlT3JpZ2luYWxJbmRleCArIFwiXFxcIl1cIik7XG4gICAgICAgICAgICAgIHN3aXBlci5sYXp5LmxvYWRJblNsaWRlKGR1cGxpY2F0ZWRTbGlkZS5pbmRleCgpLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc3dpcGVyLmVtaXQoJ2xhenlJbWFnZVJlYWR5JywgJHNsaWRlRWxbMF0sICRpbWFnZUVsWzBdKTtcblxuICAgICAgICAgIGlmIChzd2lwZXIucGFyYW1zLmF1dG9IZWlnaHQpIHtcbiAgICAgICAgICAgIHN3aXBlci51cGRhdGVBdXRvSGVpZ2h0KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgc3dpcGVyLmVtaXQoJ2xhenlJbWFnZUxvYWQnLCAkc2xpZGVFbFswXSwgJGltYWdlRWxbMF0pO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBsb2FkOiBmdW5jdGlvbiBsb2FkKCkge1xuICAgICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgICB2YXIgJHdyYXBwZXJFbCA9IHN3aXBlci4kd3JhcHBlckVsLFxuICAgICAgICAgIHN3aXBlclBhcmFtcyA9IHN3aXBlci5wYXJhbXMsXG4gICAgICAgICAgc2xpZGVzID0gc3dpcGVyLnNsaWRlcyxcbiAgICAgICAgICBhY3RpdmVJbmRleCA9IHN3aXBlci5hY3RpdmVJbmRleDtcbiAgICAgIHZhciBpc1ZpcnR1YWwgPSBzd2lwZXIudmlydHVhbCAmJiBzd2lwZXJQYXJhbXMudmlydHVhbC5lbmFibGVkO1xuICAgICAgdmFyIHBhcmFtcyA9IHN3aXBlclBhcmFtcy5sYXp5O1xuICAgICAgdmFyIHNsaWRlc1BlclZpZXcgPSBzd2lwZXJQYXJhbXMuc2xpZGVzUGVyVmlldztcblxuICAgICAgaWYgKHNsaWRlc1BlclZpZXcgPT09ICdhdXRvJykge1xuICAgICAgICBzbGlkZXNQZXJWaWV3ID0gMDtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gc2xpZGVFeGlzdChpbmRleCkge1xuICAgICAgICBpZiAoaXNWaXJ0dWFsKSB7XG4gICAgICAgICAgaWYgKCR3cmFwcGVyRWwuY2hpbGRyZW4oXCIuXCIgKyBzd2lwZXJQYXJhbXMuc2xpZGVDbGFzcyArIFwiW2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4PVxcXCJcIiArIGluZGV4ICsgXCJcXFwiXVwiKS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChzbGlkZXNbaW5kZXhdKSByZXR1cm4gdHJ1ZTtcblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHNsaWRlSW5kZXgoc2xpZGVFbCkge1xuICAgICAgICBpZiAoaXNWaXJ0dWFsKSB7XG4gICAgICAgICAgcmV0dXJuICQoc2xpZGVFbCkuYXR0cignZGF0YS1zd2lwZXItc2xpZGUtaW5kZXgnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAkKHNsaWRlRWwpLmluZGV4KCk7XG4gICAgICB9XG5cbiAgICAgIGlmICghc3dpcGVyLmxhenkuaW5pdGlhbEltYWdlTG9hZGVkKSBzd2lwZXIubGF6eS5pbml0aWFsSW1hZ2VMb2FkZWQgPSB0cnVlO1xuXG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy53YXRjaFNsaWRlc1Zpc2liaWxpdHkpIHtcbiAgICAgICAgJHdyYXBwZXJFbC5jaGlsZHJlbihcIi5cIiArIHN3aXBlclBhcmFtcy5zbGlkZVZpc2libGVDbGFzcykuZWFjaChmdW5jdGlvbiAoc2xpZGVFbCkge1xuICAgICAgICAgIHZhciBpbmRleCA9IGlzVmlydHVhbCA/ICQoc2xpZGVFbCkuYXR0cignZGF0YS1zd2lwZXItc2xpZGUtaW5kZXgnKSA6ICQoc2xpZGVFbCkuaW5kZXgoKTtcbiAgICAgICAgICBzd2lwZXIubGF6eS5sb2FkSW5TbGlkZShpbmRleCk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChzbGlkZXNQZXJWaWV3ID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gYWN0aXZlSW5kZXg7IGkgPCBhY3RpdmVJbmRleCArIHNsaWRlc1BlclZpZXc7IGkgKz0gMSkge1xuICAgICAgICAgIGlmIChzbGlkZUV4aXN0KGkpKSBzd2lwZXIubGF6eS5sb2FkSW5TbGlkZShpKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3dpcGVyLmxhenkubG9hZEluU2xpZGUoYWN0aXZlSW5kZXgpO1xuICAgICAgfVxuXG4gICAgICBpZiAocGFyYW1zLmxvYWRQcmV2TmV4dCkge1xuICAgICAgICBpZiAoc2xpZGVzUGVyVmlldyA+IDEgfHwgcGFyYW1zLmxvYWRQcmV2TmV4dEFtb3VudCAmJiBwYXJhbXMubG9hZFByZXZOZXh0QW1vdW50ID4gMSkge1xuICAgICAgICAgIHZhciBhbW91bnQgPSBwYXJhbXMubG9hZFByZXZOZXh0QW1vdW50O1xuICAgICAgICAgIHZhciBzcHYgPSBzbGlkZXNQZXJWaWV3O1xuICAgICAgICAgIHZhciBtYXhJbmRleCA9IE1hdGgubWluKGFjdGl2ZUluZGV4ICsgc3B2ICsgTWF0aC5tYXgoYW1vdW50LCBzcHYpLCBzbGlkZXMubGVuZ3RoKTtcbiAgICAgICAgICB2YXIgbWluSW5kZXggPSBNYXRoLm1heChhY3RpdmVJbmRleCAtIE1hdGgubWF4KHNwdiwgYW1vdW50KSwgMCk7IC8vIE5leHQgU2xpZGVzXG5cbiAgICAgICAgICBmb3IgKHZhciBfaSA9IGFjdGl2ZUluZGV4ICsgc2xpZGVzUGVyVmlldzsgX2kgPCBtYXhJbmRleDsgX2kgKz0gMSkge1xuICAgICAgICAgICAgaWYgKHNsaWRlRXhpc3QoX2kpKSBzd2lwZXIubGF6eS5sb2FkSW5TbGlkZShfaSk7XG4gICAgICAgICAgfSAvLyBQcmV2IFNsaWRlc1xuXG5cbiAgICAgICAgICBmb3IgKHZhciBfaTIgPSBtaW5JbmRleDsgX2kyIDwgYWN0aXZlSW5kZXg7IF9pMiArPSAxKSB7XG4gICAgICAgICAgICBpZiAoc2xpZGVFeGlzdChfaTIpKSBzd2lwZXIubGF6eS5sb2FkSW5TbGlkZShfaTIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgbmV4dFNsaWRlID0gJHdyYXBwZXJFbC5jaGlsZHJlbihcIi5cIiArIHN3aXBlclBhcmFtcy5zbGlkZU5leHRDbGFzcyk7XG4gICAgICAgICAgaWYgKG5leHRTbGlkZS5sZW5ndGggPiAwKSBzd2lwZXIubGF6eS5sb2FkSW5TbGlkZShzbGlkZUluZGV4KG5leHRTbGlkZSkpO1xuICAgICAgICAgIHZhciBwcmV2U2xpZGUgPSAkd3JhcHBlckVsLmNoaWxkcmVuKFwiLlwiICsgc3dpcGVyUGFyYW1zLnNsaWRlUHJldkNsYXNzKTtcbiAgICAgICAgICBpZiAocHJldlNsaWRlLmxlbmd0aCA+IDApIHN3aXBlci5sYXp5LmxvYWRJblNsaWRlKHNsaWRlSW5kZXgocHJldlNsaWRlKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIGNoZWNrSW5WaWV3T25Mb2FkOiBmdW5jdGlvbiBjaGVja0luVmlld09uTG9hZCgpIHtcbiAgICAgIHZhciB3aW5kb3cgPSBnZXRXaW5kb3coKTtcbiAgICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgICAgaWYgKCFzd2lwZXIgfHwgc3dpcGVyLmRlc3Ryb3llZCkgcmV0dXJuO1xuICAgICAgdmFyICRzY3JvbGxFbGVtZW50ID0gc3dpcGVyLnBhcmFtcy5sYXp5LnNjcm9sbGluZ0VsZW1lbnQgPyAkKHN3aXBlci5wYXJhbXMubGF6eS5zY3JvbGxpbmdFbGVtZW50KSA6ICQod2luZG93KTtcbiAgICAgIHZhciBpc1dpbmRvdyA9ICRzY3JvbGxFbGVtZW50WzBdID09PSB3aW5kb3c7XG4gICAgICB2YXIgc2Nyb2xsRWxlbWVudFdpZHRoID0gaXNXaW5kb3cgPyB3aW5kb3cuaW5uZXJXaWR0aCA6ICRzY3JvbGxFbGVtZW50WzBdLm9mZnNldFdpZHRoO1xuICAgICAgdmFyIHNjcm9sbEVsZW1lbnRIZWlnaHQgPSBpc1dpbmRvdyA/IHdpbmRvdy5pbm5lckhlaWdodCA6ICRzY3JvbGxFbGVtZW50WzBdLm9mZnNldEhlaWdodDtcbiAgICAgIHZhciBzd2lwZXJPZmZzZXQgPSBzd2lwZXIuJGVsLm9mZnNldCgpO1xuICAgICAgdmFyIHJ0bCA9IHN3aXBlci5ydGxUcmFuc2xhdGU7XG4gICAgICB2YXIgaW5WaWV3ID0gZmFsc2U7XG4gICAgICBpZiAocnRsKSBzd2lwZXJPZmZzZXQubGVmdCAtPSBzd2lwZXIuJGVsWzBdLnNjcm9sbExlZnQ7XG4gICAgICB2YXIgc3dpcGVyQ29vcmQgPSBbW3N3aXBlck9mZnNldC5sZWZ0LCBzd2lwZXJPZmZzZXQudG9wXSwgW3N3aXBlck9mZnNldC5sZWZ0ICsgc3dpcGVyLndpZHRoLCBzd2lwZXJPZmZzZXQudG9wXSwgW3N3aXBlck9mZnNldC5sZWZ0LCBzd2lwZXJPZmZzZXQudG9wICsgc3dpcGVyLmhlaWdodF0sIFtzd2lwZXJPZmZzZXQubGVmdCArIHN3aXBlci53aWR0aCwgc3dpcGVyT2Zmc2V0LnRvcCArIHN3aXBlci5oZWlnaHRdXTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzd2lwZXJDb29yZC5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICB2YXIgcG9pbnQgPSBzd2lwZXJDb29yZFtpXTtcblxuICAgICAgICBpZiAocG9pbnRbMF0gPj0gMCAmJiBwb2ludFswXSA8PSBzY3JvbGxFbGVtZW50V2lkdGggJiYgcG9pbnRbMV0gPj0gMCAmJiBwb2ludFsxXSA8PSBzY3JvbGxFbGVtZW50SGVpZ2h0KSB7XG4gICAgICAgICAgaWYgKHBvaW50WzBdID09PSAwICYmIHBvaW50WzFdID09PSAwKSBjb250aW51ZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuXG4gICAgICAgICAgaW5WaWV3ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgcGFzc2l2ZUxpc3RlbmVyID0gc3dpcGVyLnRvdWNoRXZlbnRzLnN0YXJ0ID09PSAndG91Y2hzdGFydCcgJiYgc3dpcGVyLnN1cHBvcnQucGFzc2l2ZUxpc3RlbmVyICYmIHN3aXBlci5wYXJhbXMucGFzc2l2ZUxpc3RlbmVycyA/IHtcbiAgICAgICAgcGFzc2l2ZTogdHJ1ZSxcbiAgICAgICAgY2FwdHVyZTogZmFsc2VcbiAgICAgIH0gOiBmYWxzZTtcblxuICAgICAgaWYgKGluVmlldykge1xuICAgICAgICBzd2lwZXIubGF6eS5sb2FkKCk7XG4gICAgICAgICRzY3JvbGxFbGVtZW50Lm9mZignc2Nyb2xsJywgc3dpcGVyLmxhenkuY2hlY2tJblZpZXdPbkxvYWQsIHBhc3NpdmVMaXN0ZW5lcik7XG4gICAgICB9IGVsc2UgaWYgKCFzd2lwZXIubGF6eS5zY3JvbGxIYW5kbGVyQXR0YWNoZWQpIHtcbiAgICAgICAgc3dpcGVyLmxhenkuc2Nyb2xsSGFuZGxlckF0dGFjaGVkID0gdHJ1ZTtcbiAgICAgICAgJHNjcm9sbEVsZW1lbnQub24oJ3Njcm9sbCcsIHN3aXBlci5sYXp5LmNoZWNrSW5WaWV3T25Mb2FkLCBwYXNzaXZlTGlzdGVuZXIpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgdmFyIExhenkkMSA9IHtcbiAgICBuYW1lOiAnbGF6eScsXG4gICAgcGFyYW1zOiB7XG4gICAgICBsYXp5OiB7XG4gICAgICAgIGNoZWNrSW5WaWV3OiBmYWxzZSxcbiAgICAgICAgZW5hYmxlZDogZmFsc2UsXG4gICAgICAgIGxvYWRQcmV2TmV4dDogZmFsc2UsXG4gICAgICAgIGxvYWRQcmV2TmV4dEFtb3VudDogMSxcbiAgICAgICAgbG9hZE9uVHJhbnNpdGlvblN0YXJ0OiBmYWxzZSxcbiAgICAgICAgc2Nyb2xsaW5nRWxlbWVudDogJycsXG4gICAgICAgIGVsZW1lbnRDbGFzczogJ3N3aXBlci1sYXp5JyxcbiAgICAgICAgbG9hZGluZ0NsYXNzOiAnc3dpcGVyLWxhenktbG9hZGluZycsXG4gICAgICAgIGxvYWRlZENsYXNzOiAnc3dpcGVyLWxhenktbG9hZGVkJyxcbiAgICAgICAgcHJlbG9hZGVyQ2xhc3M6ICdzd2lwZXItbGF6eS1wcmVsb2FkZXInXG4gICAgICB9XG4gICAgfSxcbiAgICBjcmVhdGU6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgICAgYmluZE1vZHVsZU1ldGhvZHMoc3dpcGVyLCB7XG4gICAgICAgIGxhenk6IF9leHRlbmRzKHtcbiAgICAgICAgICBpbml0aWFsSW1hZ2VMb2FkZWQ6IGZhbHNlXG4gICAgICAgIH0sIExhenkpXG4gICAgICB9KTtcbiAgICB9LFxuICAgIG9uOiB7XG4gICAgICBiZWZvcmVJbml0OiBmdW5jdGlvbiBiZWZvcmVJbml0KHN3aXBlcikge1xuICAgICAgICBpZiAoc3dpcGVyLnBhcmFtcy5sYXp5LmVuYWJsZWQgJiYgc3dpcGVyLnBhcmFtcy5wcmVsb2FkSW1hZ2VzKSB7XG4gICAgICAgICAgc3dpcGVyLnBhcmFtcy5wcmVsb2FkSW1hZ2VzID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBpbml0OiBmdW5jdGlvbiBpbml0KHN3aXBlcikge1xuICAgICAgICBpZiAoc3dpcGVyLnBhcmFtcy5sYXp5LmVuYWJsZWQgJiYgIXN3aXBlci5wYXJhbXMubG9vcCAmJiBzd2lwZXIucGFyYW1zLmluaXRpYWxTbGlkZSA9PT0gMCkge1xuICAgICAgICAgIGlmIChzd2lwZXIucGFyYW1zLmxhenkuY2hlY2tJblZpZXcpIHtcbiAgICAgICAgICAgIHN3aXBlci5sYXp5LmNoZWNrSW5WaWV3T25Mb2FkKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN3aXBlci5sYXp5LmxvYWQoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBzY3JvbGw6IGZ1bmN0aW9uIHNjcm9sbChzd2lwZXIpIHtcbiAgICAgICAgaWYgKHN3aXBlci5wYXJhbXMuZnJlZU1vZGUgJiYgIXN3aXBlci5wYXJhbXMuZnJlZU1vZGVTdGlja3kpIHtcbiAgICAgICAgICBzd2lwZXIubGF6eS5sb2FkKCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICAnc2Nyb2xsYmFyRHJhZ01vdmUgcmVzaXplIF9mcmVlTW9kZU5vTW9tZW50dW1SZWxlYXNlJzogZnVuY3Rpb24gbGF6eUxvYWQoc3dpcGVyKSB7XG4gICAgICAgIGlmIChzd2lwZXIucGFyYW1zLmxhenkuZW5hYmxlZCkge1xuICAgICAgICAgIHN3aXBlci5sYXp5LmxvYWQoKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHRyYW5zaXRpb25TdGFydDogZnVuY3Rpb24gdHJhbnNpdGlvblN0YXJ0KHN3aXBlcikge1xuICAgICAgICBpZiAoc3dpcGVyLnBhcmFtcy5sYXp5LmVuYWJsZWQpIHtcbiAgICAgICAgICBpZiAoc3dpcGVyLnBhcmFtcy5sYXp5LmxvYWRPblRyYW5zaXRpb25TdGFydCB8fCAhc3dpcGVyLnBhcmFtcy5sYXp5LmxvYWRPblRyYW5zaXRpb25TdGFydCAmJiAhc3dpcGVyLmxhenkuaW5pdGlhbEltYWdlTG9hZGVkKSB7XG4gICAgICAgICAgICBzd2lwZXIubGF6eS5sb2FkKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdHJhbnNpdGlvbkVuZDogZnVuY3Rpb24gdHJhbnNpdGlvbkVuZChzd2lwZXIpIHtcbiAgICAgICAgaWYgKHN3aXBlci5wYXJhbXMubGF6eS5lbmFibGVkICYmICFzd2lwZXIucGFyYW1zLmxhenkubG9hZE9uVHJhbnNpdGlvblN0YXJ0KSB7XG4gICAgICAgICAgc3dpcGVyLmxhenkubG9hZCgpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgc2xpZGVDaGFuZ2U6IGZ1bmN0aW9uIHNsaWRlQ2hhbmdlKHN3aXBlcikge1xuICAgICAgICB2YXIgX3N3aXBlciRwYXJhbXMgPSBzd2lwZXIucGFyYW1zLFxuICAgICAgICAgICAgbGF6eSA9IF9zd2lwZXIkcGFyYW1zLmxhenksXG4gICAgICAgICAgICBjc3NNb2RlID0gX3N3aXBlciRwYXJhbXMuY3NzTW9kZSxcbiAgICAgICAgICAgIHdhdGNoU2xpZGVzVmlzaWJpbGl0eSA9IF9zd2lwZXIkcGFyYW1zLndhdGNoU2xpZGVzVmlzaWJpbGl0eSxcbiAgICAgICAgICAgIHdhdGNoU2xpZGVzUHJvZ3Jlc3MgPSBfc3dpcGVyJHBhcmFtcy53YXRjaFNsaWRlc1Byb2dyZXNzLFxuICAgICAgICAgICAgdG91Y2hSZWxlYXNlT25FZGdlcyA9IF9zd2lwZXIkcGFyYW1zLnRvdWNoUmVsZWFzZU9uRWRnZXMsXG4gICAgICAgICAgICByZXNpc3RhbmNlUmF0aW8gPSBfc3dpcGVyJHBhcmFtcy5yZXNpc3RhbmNlUmF0aW87XG5cbiAgICAgICAgaWYgKGxhenkuZW5hYmxlZCAmJiAoY3NzTW9kZSB8fCAod2F0Y2hTbGlkZXNWaXNpYmlsaXR5IHx8IHdhdGNoU2xpZGVzUHJvZ3Jlc3MpICYmICh0b3VjaFJlbGVhc2VPbkVkZ2VzIHx8IHJlc2lzdGFuY2VSYXRpbyA9PT0gMCkpKSB7XG4gICAgICAgICAgc3dpcGVyLmxhenkubG9hZCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHZhciBDb250cm9sbGVyID0ge1xuICAgIExpbmVhclNwbGluZTogZnVuY3Rpb24gTGluZWFyU3BsaW5lKHgsIHkpIHtcbiAgICAgIHZhciBiaW5hcnlTZWFyY2ggPSBmdW5jdGlvbiBzZWFyY2goKSB7XG4gICAgICAgIHZhciBtYXhJbmRleDtcbiAgICAgICAgdmFyIG1pbkluZGV4O1xuICAgICAgICB2YXIgZ3Vlc3M7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoYXJyYXksIHZhbCkge1xuICAgICAgICAgIG1pbkluZGV4ID0gLTE7XG4gICAgICAgICAgbWF4SW5kZXggPSBhcnJheS5sZW5ndGg7XG5cbiAgICAgICAgICB3aGlsZSAobWF4SW5kZXggLSBtaW5JbmRleCA+IDEpIHtcbiAgICAgICAgICAgIGd1ZXNzID0gbWF4SW5kZXggKyBtaW5JbmRleCA+PiAxO1xuXG4gICAgICAgICAgICBpZiAoYXJyYXlbZ3Vlc3NdIDw9IHZhbCkge1xuICAgICAgICAgICAgICBtaW5JbmRleCA9IGd1ZXNzO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbWF4SW5kZXggPSBndWVzcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gbWF4SW5kZXg7XG4gICAgICAgIH07XG4gICAgICB9KCk7XG5cbiAgICAgIHRoaXMueCA9IHg7XG4gICAgICB0aGlzLnkgPSB5O1xuICAgICAgdGhpcy5sYXN0SW5kZXggPSB4Lmxlbmd0aCAtIDE7IC8vIEdpdmVuIGFuIHggdmFsdWUgKHgyKSwgcmV0dXJuIHRoZSBleHBlY3RlZCB5MiB2YWx1ZTpcbiAgICAgIC8vICh4MSx5MSkgaXMgdGhlIGtub3duIHBvaW50IGJlZm9yZSBnaXZlbiB2YWx1ZSxcbiAgICAgIC8vICh4Myx5MykgaXMgdGhlIGtub3duIHBvaW50IGFmdGVyIGdpdmVuIHZhbHVlLlxuXG4gICAgICB2YXIgaTE7XG4gICAgICB2YXIgaTM7XG5cbiAgICAgIHRoaXMuaW50ZXJwb2xhdGUgPSBmdW5jdGlvbiBpbnRlcnBvbGF0ZSh4Mikge1xuICAgICAgICBpZiAoIXgyKSByZXR1cm4gMDsgLy8gR2V0IHRoZSBpbmRleGVzIG9mIHgxIGFuZCB4MyAodGhlIGFycmF5IGluZGV4ZXMgYmVmb3JlIGFuZCBhZnRlciBnaXZlbiB4Mik6XG5cbiAgICAgICAgaTMgPSBiaW5hcnlTZWFyY2godGhpcy54LCB4Mik7XG4gICAgICAgIGkxID0gaTMgLSAxOyAvLyBXZSBoYXZlIG91ciBpbmRleGVzIGkxICYgaTMsIHNvIHdlIGNhbiBjYWxjdWxhdGUgYWxyZWFkeTpcbiAgICAgICAgLy8geTIgOj0gKCh4MuKIkngxKSDDlyAoeTPiiJJ5MSkpIMO3ICh4M+KIkngxKSArIHkxXG5cbiAgICAgICAgcmV0dXJuICh4MiAtIHRoaXMueFtpMV0pICogKHRoaXMueVtpM10gLSB0aGlzLnlbaTFdKSAvICh0aGlzLnhbaTNdIC0gdGhpcy54W2kxXSkgKyB0aGlzLnlbaTFdO1xuICAgICAgfTtcblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgICAvLyB4eHg6IGZvciBub3cgaSB3aWxsIGp1c3Qgc2F2ZSBvbmUgc3BsaW5lIGZ1bmN0aW9uIHRvIHRvXG4gICAgZ2V0SW50ZXJwb2xhdGVGdW5jdGlvbjogZnVuY3Rpb24gZ2V0SW50ZXJwb2xhdGVGdW5jdGlvbihjKSB7XG4gICAgICB2YXIgc3dpcGVyID0gdGhpcztcblxuICAgICAgaWYgKCFzd2lwZXIuY29udHJvbGxlci5zcGxpbmUpIHtcbiAgICAgICAgc3dpcGVyLmNvbnRyb2xsZXIuc3BsaW5lID0gc3dpcGVyLnBhcmFtcy5sb29wID8gbmV3IENvbnRyb2xsZXIuTGluZWFyU3BsaW5lKHN3aXBlci5zbGlkZXNHcmlkLCBjLnNsaWRlc0dyaWQpIDogbmV3IENvbnRyb2xsZXIuTGluZWFyU3BsaW5lKHN3aXBlci5zbmFwR3JpZCwgYy5zbmFwR3JpZCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBzZXRUcmFuc2xhdGU6IGZ1bmN0aW9uIHNldFRyYW5zbGF0ZShfc2V0VHJhbnNsYXRlLCBieUNvbnRyb2xsZXIpIHtcbiAgICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgICAgdmFyIGNvbnRyb2xsZWQgPSBzd2lwZXIuY29udHJvbGxlci5jb250cm9sO1xuICAgICAgdmFyIG11bHRpcGxpZXI7XG4gICAgICB2YXIgY29udHJvbGxlZFRyYW5zbGF0ZTtcbiAgICAgIHZhciBTd2lwZXIgPSBzd2lwZXIuY29uc3RydWN0b3I7XG5cbiAgICAgIGZ1bmN0aW9uIHNldENvbnRyb2xsZWRUcmFuc2xhdGUoYykge1xuICAgICAgICAvLyB0aGlzIHdpbGwgY3JlYXRlIGFuIEludGVycG9sYXRlIGZ1bmN0aW9uIGJhc2VkIG9uIHRoZSBzbmFwR3JpZHNcbiAgICAgICAgLy8geCBpcyB0aGUgR3JpZCBvZiB0aGUgc2Nyb2xsZWQgc2Nyb2xsZXIgYW5kIHkgd2lsbCBiZSB0aGUgY29udHJvbGxlZCBzY3JvbGxlclxuICAgICAgICAvLyBpdCBtYWtlcyBzZW5zZSB0byBjcmVhdGUgdGhpcyBvbmx5IG9uY2UgYW5kIHJlY2FsbCBpdCBmb3IgdGhlIGludGVycG9sYXRpb25cbiAgICAgICAgLy8gdGhlIGZ1bmN0aW9uIGRvZXMgYSBsb3Qgb2YgdmFsdWUgY2FjaGluZyBmb3IgcGVyZm9ybWFuY2VcbiAgICAgICAgdmFyIHRyYW5zbGF0ZSA9IHN3aXBlci5ydGxUcmFuc2xhdGUgPyAtc3dpcGVyLnRyYW5zbGF0ZSA6IHN3aXBlci50cmFuc2xhdGU7XG5cbiAgICAgICAgaWYgKHN3aXBlci5wYXJhbXMuY29udHJvbGxlci5ieSA9PT0gJ3NsaWRlJykge1xuICAgICAgICAgIHN3aXBlci5jb250cm9sbGVyLmdldEludGVycG9sYXRlRnVuY3Rpb24oYyk7IC8vIGkgYW0gbm90IHN1cmUgd2h5IHRoZSB2YWx1ZXMgaGF2ZSB0byBiZSBtdWx0aXBsaWNhdGVkIHRoaXMgd2F5LCB0cmllZCB0byBpbnZlcnQgdGhlIHNuYXBHcmlkXG4gICAgICAgICAgLy8gYnV0IGl0IGRpZCBub3Qgd29yayBvdXRcblxuICAgICAgICAgIGNvbnRyb2xsZWRUcmFuc2xhdGUgPSAtc3dpcGVyLmNvbnRyb2xsZXIuc3BsaW5lLmludGVycG9sYXRlKC10cmFuc2xhdGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFjb250cm9sbGVkVHJhbnNsYXRlIHx8IHN3aXBlci5wYXJhbXMuY29udHJvbGxlci5ieSA9PT0gJ2NvbnRhaW5lcicpIHtcbiAgICAgICAgICBtdWx0aXBsaWVyID0gKGMubWF4VHJhbnNsYXRlKCkgLSBjLm1pblRyYW5zbGF0ZSgpKSAvIChzd2lwZXIubWF4VHJhbnNsYXRlKCkgLSBzd2lwZXIubWluVHJhbnNsYXRlKCkpO1xuICAgICAgICAgIGNvbnRyb2xsZWRUcmFuc2xhdGUgPSAodHJhbnNsYXRlIC0gc3dpcGVyLm1pblRyYW5zbGF0ZSgpKSAqIG11bHRpcGxpZXIgKyBjLm1pblRyYW5zbGF0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHN3aXBlci5wYXJhbXMuY29udHJvbGxlci5pbnZlcnNlKSB7XG4gICAgICAgICAgY29udHJvbGxlZFRyYW5zbGF0ZSA9IGMubWF4VHJhbnNsYXRlKCkgLSBjb250cm9sbGVkVHJhbnNsYXRlO1xuICAgICAgICB9XG5cbiAgICAgICAgYy51cGRhdGVQcm9ncmVzcyhjb250cm9sbGVkVHJhbnNsYXRlKTtcbiAgICAgICAgYy5zZXRUcmFuc2xhdGUoY29udHJvbGxlZFRyYW5zbGF0ZSwgc3dpcGVyKTtcbiAgICAgICAgYy51cGRhdGVBY3RpdmVJbmRleCgpO1xuICAgICAgICBjLnVwZGF0ZVNsaWRlc0NsYXNzZXMoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY29udHJvbGxlZCkpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb250cm9sbGVkLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgaWYgKGNvbnRyb2xsZWRbaV0gIT09IGJ5Q29udHJvbGxlciAmJiBjb250cm9sbGVkW2ldIGluc3RhbmNlb2YgU3dpcGVyKSB7XG4gICAgICAgICAgICBzZXRDb250cm9sbGVkVHJhbnNsYXRlKGNvbnRyb2xsZWRbaV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChjb250cm9sbGVkIGluc3RhbmNlb2YgU3dpcGVyICYmIGJ5Q29udHJvbGxlciAhPT0gY29udHJvbGxlZCkge1xuICAgICAgICBzZXRDb250cm9sbGVkVHJhbnNsYXRlKGNvbnRyb2xsZWQpO1xuICAgICAgfVxuICAgIH0sXG4gICAgc2V0VHJhbnNpdGlvbjogZnVuY3Rpb24gc2V0VHJhbnNpdGlvbihkdXJhdGlvbiwgYnlDb250cm9sbGVyKSB7XG4gICAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICAgIHZhciBTd2lwZXIgPSBzd2lwZXIuY29uc3RydWN0b3I7XG4gICAgICB2YXIgY29udHJvbGxlZCA9IHN3aXBlci5jb250cm9sbGVyLmNvbnRyb2w7XG4gICAgICB2YXIgaTtcblxuICAgICAgZnVuY3Rpb24gc2V0Q29udHJvbGxlZFRyYW5zaXRpb24oYykge1xuICAgICAgICBjLnNldFRyYW5zaXRpb24oZHVyYXRpb24sIHN3aXBlcik7XG5cbiAgICAgICAgaWYgKGR1cmF0aW9uICE9PSAwKSB7XG4gICAgICAgICAgYy50cmFuc2l0aW9uU3RhcnQoKTtcblxuICAgICAgICAgIGlmIChjLnBhcmFtcy5hdXRvSGVpZ2h0KSB7XG4gICAgICAgICAgICBuZXh0VGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIGMudXBkYXRlQXV0b0hlaWdodCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYy4kd3JhcHBlckVsLnRyYW5zaXRpb25FbmQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCFjb250cm9sbGVkKSByZXR1cm47XG5cbiAgICAgICAgICAgIGlmIChjLnBhcmFtcy5sb29wICYmIHN3aXBlci5wYXJhbXMuY29udHJvbGxlci5ieSA9PT0gJ3NsaWRlJykge1xuICAgICAgICAgICAgICBjLmxvb3BGaXgoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYy50cmFuc2l0aW9uRW5kKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY29udHJvbGxlZCkpIHtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGNvbnRyb2xsZWQubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICBpZiAoY29udHJvbGxlZFtpXSAhPT0gYnlDb250cm9sbGVyICYmIGNvbnRyb2xsZWRbaV0gaW5zdGFuY2VvZiBTd2lwZXIpIHtcbiAgICAgICAgICAgIHNldENvbnRyb2xsZWRUcmFuc2l0aW9uKGNvbnRyb2xsZWRbaV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChjb250cm9sbGVkIGluc3RhbmNlb2YgU3dpcGVyICYmIGJ5Q29udHJvbGxlciAhPT0gY29udHJvbGxlZCkge1xuICAgICAgICBzZXRDb250cm9sbGVkVHJhbnNpdGlvbihjb250cm9sbGVkKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIHZhciBDb250cm9sbGVyJDEgPSB7XG4gICAgbmFtZTogJ2NvbnRyb2xsZXInLFxuICAgIHBhcmFtczoge1xuICAgICAgY29udHJvbGxlcjoge1xuICAgICAgICBjb250cm9sOiB1bmRlZmluZWQsXG4gICAgICAgIGludmVyc2U6IGZhbHNlLFxuICAgICAgICBieTogJ3NsaWRlJyAvLyBvciAnY29udGFpbmVyJ1xuXG4gICAgICB9XG4gICAgfSxcbiAgICBjcmVhdGU6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgICAgYmluZE1vZHVsZU1ldGhvZHMoc3dpcGVyLCB7XG4gICAgICAgIGNvbnRyb2xsZXI6IF9leHRlbmRzKHtcbiAgICAgICAgICBjb250cm9sOiBzd2lwZXIucGFyYW1zLmNvbnRyb2xsZXIuY29udHJvbFxuICAgICAgICB9LCBDb250cm9sbGVyKVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBvbjoge1xuICAgICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUoc3dpcGVyKSB7XG4gICAgICAgIGlmICghc3dpcGVyLmNvbnRyb2xsZXIuY29udHJvbCkgcmV0dXJuO1xuXG4gICAgICAgIGlmIChzd2lwZXIuY29udHJvbGxlci5zcGxpbmUpIHtcbiAgICAgICAgICBzd2lwZXIuY29udHJvbGxlci5zcGxpbmUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgZGVsZXRlIHN3aXBlci5jb250cm9sbGVyLnNwbGluZTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHJlc2l6ZTogZnVuY3Rpb24gcmVzaXplKHN3aXBlcikge1xuICAgICAgICBpZiAoIXN3aXBlci5jb250cm9sbGVyLmNvbnRyb2wpIHJldHVybjtcblxuICAgICAgICBpZiAoc3dpcGVyLmNvbnRyb2xsZXIuc3BsaW5lKSB7XG4gICAgICAgICAgc3dpcGVyLmNvbnRyb2xsZXIuc3BsaW5lID0gdW5kZWZpbmVkO1xuICAgICAgICAgIGRlbGV0ZSBzd2lwZXIuY29udHJvbGxlci5zcGxpbmU7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBvYnNlcnZlclVwZGF0ZTogZnVuY3Rpb24gb2JzZXJ2ZXJVcGRhdGUoc3dpcGVyKSB7XG4gICAgICAgIGlmICghc3dpcGVyLmNvbnRyb2xsZXIuY29udHJvbCkgcmV0dXJuO1xuXG4gICAgICAgIGlmIChzd2lwZXIuY29udHJvbGxlci5zcGxpbmUpIHtcbiAgICAgICAgICBzd2lwZXIuY29udHJvbGxlci5zcGxpbmUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgZGVsZXRlIHN3aXBlci5jb250cm9sbGVyLnNwbGluZTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHNldFRyYW5zbGF0ZTogZnVuY3Rpb24gc2V0VHJhbnNsYXRlKHN3aXBlciwgdHJhbnNsYXRlLCBieUNvbnRyb2xsZXIpIHtcbiAgICAgICAgaWYgKCFzd2lwZXIuY29udHJvbGxlci5jb250cm9sKSByZXR1cm47XG4gICAgICAgIHN3aXBlci5jb250cm9sbGVyLnNldFRyYW5zbGF0ZSh0cmFuc2xhdGUsIGJ5Q29udHJvbGxlcik7XG4gICAgICB9LFxuICAgICAgc2V0VHJhbnNpdGlvbjogZnVuY3Rpb24gc2V0VHJhbnNpdGlvbihzd2lwZXIsIGR1cmF0aW9uLCBieUNvbnRyb2xsZXIpIHtcbiAgICAgICAgaWYgKCFzd2lwZXIuY29udHJvbGxlci5jb250cm9sKSByZXR1cm47XG4gICAgICAgIHN3aXBlci5jb250cm9sbGVyLnNldFRyYW5zaXRpb24oZHVyYXRpb24sIGJ5Q29udHJvbGxlcik7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHZhciBBMTF5ID0ge1xuICAgIGdldFJhbmRvbU51bWJlcjogZnVuY3Rpb24gZ2V0UmFuZG9tTnVtYmVyKHNpemUpIHtcbiAgICAgIGlmIChzaXplID09PSB2b2lkIDApIHtcbiAgICAgICAgc2l6ZSA9IDE2O1xuICAgICAgfVxuXG4gICAgICB2YXIgcmFuZG9tQ2hhciA9IGZ1bmN0aW9uIHJhbmRvbUNoYXIoKSB7XG4gICAgICAgIHJldHVybiBNYXRoLnJvdW5kKDE2ICogTWF0aC5yYW5kb20oKSkudG9TdHJpbmcoMTYpO1xuICAgICAgfTtcblxuICAgICAgcmV0dXJuICd4Jy5yZXBlYXQoc2l6ZSkucmVwbGFjZSgveC9nLCByYW5kb21DaGFyKTtcbiAgICB9LFxuICAgIG1ha2VFbEZvY3VzYWJsZTogZnVuY3Rpb24gbWFrZUVsRm9jdXNhYmxlKCRlbCkge1xuICAgICAgJGVsLmF0dHIoJ3RhYkluZGV4JywgJzAnKTtcbiAgICAgIHJldHVybiAkZWw7XG4gICAgfSxcbiAgICBtYWtlRWxOb3RGb2N1c2FibGU6IGZ1bmN0aW9uIG1ha2VFbE5vdEZvY3VzYWJsZSgkZWwpIHtcbiAgICAgICRlbC5hdHRyKCd0YWJJbmRleCcsICctMScpO1xuICAgICAgcmV0dXJuICRlbDtcbiAgICB9LFxuICAgIGFkZEVsUm9sZTogZnVuY3Rpb24gYWRkRWxSb2xlKCRlbCwgcm9sZSkge1xuICAgICAgJGVsLmF0dHIoJ3JvbGUnLCByb2xlKTtcbiAgICAgIHJldHVybiAkZWw7XG4gICAgfSxcbiAgICBhZGRFbFJvbGVEZXNjcmlwdGlvbjogZnVuY3Rpb24gYWRkRWxSb2xlRGVzY3JpcHRpb24oJGVsLCBkZXNjcmlwdGlvbikge1xuICAgICAgJGVsLmF0dHIoJ2FyaWEtcm9sZWRlc2NyaXB0aW9uJywgZGVzY3JpcHRpb24pO1xuICAgICAgcmV0dXJuICRlbDtcbiAgICB9LFxuICAgIGFkZEVsQ29udHJvbHM6IGZ1bmN0aW9uIGFkZEVsQ29udHJvbHMoJGVsLCBjb250cm9scykge1xuICAgICAgJGVsLmF0dHIoJ2FyaWEtY29udHJvbHMnLCBjb250cm9scyk7XG4gICAgICByZXR1cm4gJGVsO1xuICAgIH0sXG4gICAgYWRkRWxMYWJlbDogZnVuY3Rpb24gYWRkRWxMYWJlbCgkZWwsIGxhYmVsKSB7XG4gICAgICAkZWwuYXR0cignYXJpYS1sYWJlbCcsIGxhYmVsKTtcbiAgICAgIHJldHVybiAkZWw7XG4gICAgfSxcbiAgICBhZGRFbElkOiBmdW5jdGlvbiBhZGRFbElkKCRlbCwgaWQpIHtcbiAgICAgICRlbC5hdHRyKCdpZCcsIGlkKTtcbiAgICAgIHJldHVybiAkZWw7XG4gICAgfSxcbiAgICBhZGRFbExpdmU6IGZ1bmN0aW9uIGFkZEVsTGl2ZSgkZWwsIGxpdmUpIHtcbiAgICAgICRlbC5hdHRyKCdhcmlhLWxpdmUnLCBsaXZlKTtcbiAgICAgIHJldHVybiAkZWw7XG4gICAgfSxcbiAgICBkaXNhYmxlRWw6IGZ1bmN0aW9uIGRpc2FibGVFbCgkZWwpIHtcbiAgICAgICRlbC5hdHRyKCdhcmlhLWRpc2FibGVkJywgdHJ1ZSk7XG4gICAgICByZXR1cm4gJGVsO1xuICAgIH0sXG4gICAgZW5hYmxlRWw6IGZ1bmN0aW9uIGVuYWJsZUVsKCRlbCkge1xuICAgICAgJGVsLmF0dHIoJ2FyaWEtZGlzYWJsZWQnLCBmYWxzZSk7XG4gICAgICByZXR1cm4gJGVsO1xuICAgIH0sXG4gICAgb25FbnRlck9yU3BhY2VLZXk6IGZ1bmN0aW9uIG9uRW50ZXJPclNwYWNlS2V5KGUpIHtcbiAgICAgIGlmIChlLmtleUNvZGUgIT09IDEzICYmIGUua2V5Q29kZSAhPT0gMzIpIHJldHVybjtcbiAgICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgICAgdmFyIHBhcmFtcyA9IHN3aXBlci5wYXJhbXMuYTExeTtcbiAgICAgIHZhciAkdGFyZ2V0RWwgPSAkKGUudGFyZ2V0KTtcblxuICAgICAgaWYgKHN3aXBlci5uYXZpZ2F0aW9uICYmIHN3aXBlci5uYXZpZ2F0aW9uLiRuZXh0RWwgJiYgJHRhcmdldEVsLmlzKHN3aXBlci5uYXZpZ2F0aW9uLiRuZXh0RWwpKSB7XG4gICAgICAgIGlmICghKHN3aXBlci5pc0VuZCAmJiAhc3dpcGVyLnBhcmFtcy5sb29wKSkge1xuICAgICAgICAgIHN3aXBlci5zbGlkZU5leHQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzd2lwZXIuaXNFbmQpIHtcbiAgICAgICAgICBzd2lwZXIuYTExeS5ub3RpZnkocGFyYW1zLmxhc3RTbGlkZU1lc3NhZ2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN3aXBlci5hMTF5Lm5vdGlmeShwYXJhbXMubmV4dFNsaWRlTWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHN3aXBlci5uYXZpZ2F0aW9uICYmIHN3aXBlci5uYXZpZ2F0aW9uLiRwcmV2RWwgJiYgJHRhcmdldEVsLmlzKHN3aXBlci5uYXZpZ2F0aW9uLiRwcmV2RWwpKSB7XG4gICAgICAgIGlmICghKHN3aXBlci5pc0JlZ2lubmluZyAmJiAhc3dpcGVyLnBhcmFtcy5sb29wKSkge1xuICAgICAgICAgIHN3aXBlci5zbGlkZVByZXYoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzd2lwZXIuaXNCZWdpbm5pbmcpIHtcbiAgICAgICAgICBzd2lwZXIuYTExeS5ub3RpZnkocGFyYW1zLmZpcnN0U2xpZGVNZXNzYWdlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzd2lwZXIuYTExeS5ub3RpZnkocGFyYW1zLnByZXZTbGlkZU1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChzd2lwZXIucGFnaW5hdGlvbiAmJiAkdGFyZ2V0RWwuaXMoY2xhc3Nlc1RvU2VsZWN0b3Ioc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uLmJ1bGxldENsYXNzKSkpIHtcbiAgICAgICAgJHRhcmdldEVsWzBdLmNsaWNrKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBub3RpZnk6IGZ1bmN0aW9uIG5vdGlmeShtZXNzYWdlKSB7XG4gICAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICAgIHZhciBub3RpZmljYXRpb24gPSBzd2lwZXIuYTExeS5saXZlUmVnaW9uO1xuICAgICAgaWYgKG5vdGlmaWNhdGlvbi5sZW5ndGggPT09IDApIHJldHVybjtcbiAgICAgIG5vdGlmaWNhdGlvbi5odG1sKCcnKTtcbiAgICAgIG5vdGlmaWNhdGlvbi5odG1sKG1lc3NhZ2UpO1xuICAgIH0sXG4gICAgdXBkYXRlTmF2aWdhdGlvbjogZnVuY3Rpb24gdXBkYXRlTmF2aWdhdGlvbigpIHtcbiAgICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgICAgaWYgKHN3aXBlci5wYXJhbXMubG9vcCB8fCAhc3dpcGVyLm5hdmlnYXRpb24pIHJldHVybjtcbiAgICAgIHZhciBfc3dpcGVyJG5hdmlnYXRpb24gPSBzd2lwZXIubmF2aWdhdGlvbixcbiAgICAgICAgICAkbmV4dEVsID0gX3N3aXBlciRuYXZpZ2F0aW9uLiRuZXh0RWwsXG4gICAgICAgICAgJHByZXZFbCA9IF9zd2lwZXIkbmF2aWdhdGlvbi4kcHJldkVsO1xuXG4gICAgICBpZiAoJHByZXZFbCAmJiAkcHJldkVsLmxlbmd0aCA+IDApIHtcbiAgICAgICAgaWYgKHN3aXBlci5pc0JlZ2lubmluZykge1xuICAgICAgICAgIHN3aXBlci5hMTF5LmRpc2FibGVFbCgkcHJldkVsKTtcbiAgICAgICAgICBzd2lwZXIuYTExeS5tYWtlRWxOb3RGb2N1c2FibGUoJHByZXZFbCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3dpcGVyLmExMXkuZW5hYmxlRWwoJHByZXZFbCk7XG4gICAgICAgICAgc3dpcGVyLmExMXkubWFrZUVsRm9jdXNhYmxlKCRwcmV2RWwpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICgkbmV4dEVsICYmICRuZXh0RWwubGVuZ3RoID4gMCkge1xuICAgICAgICBpZiAoc3dpcGVyLmlzRW5kKSB7XG4gICAgICAgICAgc3dpcGVyLmExMXkuZGlzYWJsZUVsKCRuZXh0RWwpO1xuICAgICAgICAgIHN3aXBlci5hMTF5Lm1ha2VFbE5vdEZvY3VzYWJsZSgkbmV4dEVsKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzd2lwZXIuYTExeS5lbmFibGVFbCgkbmV4dEVsKTtcbiAgICAgICAgICBzd2lwZXIuYTExeS5tYWtlRWxGb2N1c2FibGUoJG5leHRFbCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIHVwZGF0ZVBhZ2luYXRpb246IGZ1bmN0aW9uIHVwZGF0ZVBhZ2luYXRpb24oKSB7XG4gICAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICAgIHZhciBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLmExMXk7XG5cbiAgICAgIGlmIChzd2lwZXIucGFnaW5hdGlvbiAmJiBzd2lwZXIucGFyYW1zLnBhZ2luYXRpb24uY2xpY2thYmxlICYmIHN3aXBlci5wYWdpbmF0aW9uLmJ1bGxldHMgJiYgc3dpcGVyLnBhZ2luYXRpb24uYnVsbGV0cy5sZW5ndGgpIHtcbiAgICAgICAgc3dpcGVyLnBhZ2luYXRpb24uYnVsbGV0cy5lYWNoKGZ1bmN0aW9uIChidWxsZXRFbCkge1xuICAgICAgICAgIHZhciAkYnVsbGV0RWwgPSAkKGJ1bGxldEVsKTtcbiAgICAgICAgICBzd2lwZXIuYTExeS5tYWtlRWxGb2N1c2FibGUoJGJ1bGxldEVsKTtcblxuICAgICAgICAgIGlmICghc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uLnJlbmRlckJ1bGxldCkge1xuICAgICAgICAgICAgc3dpcGVyLmExMXkuYWRkRWxSb2xlKCRidWxsZXRFbCwgJ2J1dHRvbicpO1xuICAgICAgICAgICAgc3dpcGVyLmExMXkuYWRkRWxMYWJlbCgkYnVsbGV0RWwsIHBhcmFtcy5wYWdpbmF0aW9uQnVsbGV0TWVzc2FnZS5yZXBsYWNlKC9cXHtcXHtpbmRleFxcfVxcfS8sICRidWxsZXRFbC5pbmRleCgpICsgMSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBpbml0OiBmdW5jdGlvbiBpbml0KCkge1xuICAgICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgICB2YXIgcGFyYW1zID0gc3dpcGVyLnBhcmFtcy5hMTF5O1xuICAgICAgc3dpcGVyLiRlbC5hcHBlbmQoc3dpcGVyLmExMXkubGl2ZVJlZ2lvbik7IC8vIENvbnRhaW5lclxuXG4gICAgICB2YXIgJGNvbnRhaW5lckVsID0gc3dpcGVyLiRlbDtcblxuICAgICAgaWYgKHBhcmFtcy5jb250YWluZXJSb2xlRGVzY3JpcHRpb25NZXNzYWdlKSB7XG4gICAgICAgIHN3aXBlci5hMTF5LmFkZEVsUm9sZURlc2NyaXB0aW9uKCRjb250YWluZXJFbCwgcGFyYW1zLmNvbnRhaW5lclJvbGVEZXNjcmlwdGlvbk1lc3NhZ2UpO1xuICAgICAgfVxuXG4gICAgICBpZiAocGFyYW1zLmNvbnRhaW5lck1lc3NhZ2UpIHtcbiAgICAgICAgc3dpcGVyLmExMXkuYWRkRWxMYWJlbCgkY29udGFpbmVyRWwsIHBhcmFtcy5jb250YWluZXJNZXNzYWdlKTtcbiAgICAgIH0gLy8gV3JhcHBlclxuXG5cbiAgICAgIHZhciAkd3JhcHBlckVsID0gc3dpcGVyLiR3cmFwcGVyRWw7XG4gICAgICB2YXIgd3JhcHBlcklkID0gJHdyYXBwZXJFbC5hdHRyKCdpZCcpIHx8IFwic3dpcGVyLXdyYXBwZXItXCIgKyBzd2lwZXIuYTExeS5nZXRSYW5kb21OdW1iZXIoMTYpO1xuICAgICAgdmFyIGxpdmUgPSBzd2lwZXIucGFyYW1zLmF1dG9wbGF5ICYmIHN3aXBlci5wYXJhbXMuYXV0b3BsYXkuZW5hYmxlZCA/ICdvZmYnIDogJ3BvbGl0ZSc7XG4gICAgICBzd2lwZXIuYTExeS5hZGRFbElkKCR3cmFwcGVyRWwsIHdyYXBwZXJJZCk7XG4gICAgICBzd2lwZXIuYTExeS5hZGRFbExpdmUoJHdyYXBwZXJFbCwgbGl2ZSk7IC8vIFNsaWRlXG5cbiAgICAgIGlmIChwYXJhbXMuaXRlbVJvbGVEZXNjcmlwdGlvbk1lc3NhZ2UpIHtcbiAgICAgICAgc3dpcGVyLmExMXkuYWRkRWxSb2xlRGVzY3JpcHRpb24oJChzd2lwZXIuc2xpZGVzKSwgcGFyYW1zLml0ZW1Sb2xlRGVzY3JpcHRpb25NZXNzYWdlKTtcbiAgICAgIH1cblxuICAgICAgc3dpcGVyLmExMXkuYWRkRWxSb2xlKCQoc3dpcGVyLnNsaWRlcyksIHBhcmFtcy5zbGlkZVJvbGUpO1xuICAgICAgdmFyIHNsaWRlc0xlbmd0aCA9IHN3aXBlci5wYXJhbXMubG9vcCA/IHN3aXBlci5zbGlkZXMuZmlsdGVyKGZ1bmN0aW9uIChlbCkge1xuICAgICAgICByZXR1cm4gIWVsLmNsYXNzTGlzdC5jb250YWlucyhzd2lwZXIucGFyYW1zLnNsaWRlRHVwbGljYXRlQ2xhc3MpO1xuICAgICAgfSkubGVuZ3RoIDogc3dpcGVyLnNsaWRlcy5sZW5ndGg7XG4gICAgICBzd2lwZXIuc2xpZGVzLmVhY2goZnVuY3Rpb24gKHNsaWRlRWwsIGluZGV4KSB7XG4gICAgICAgIHZhciAkc2xpZGVFbCA9ICQoc2xpZGVFbCk7XG4gICAgICAgIHZhciBzbGlkZUluZGV4ID0gc3dpcGVyLnBhcmFtcy5sb29wID8gcGFyc2VJbnQoJHNsaWRlRWwuYXR0cignZGF0YS1zd2lwZXItc2xpZGUtaW5kZXgnKSwgMTApIDogaW5kZXg7XG4gICAgICAgIHZhciBhcmlhTGFiZWxNZXNzYWdlID0gcGFyYW1zLnNsaWRlTGFiZWxNZXNzYWdlLnJlcGxhY2UoL1xce1xce2luZGV4XFx9XFx9Lywgc2xpZGVJbmRleCArIDEpLnJlcGxhY2UoL1xce1xce3NsaWRlc0xlbmd0aFxcfVxcfS8sIHNsaWRlc0xlbmd0aCk7XG4gICAgICAgIHN3aXBlci5hMTF5LmFkZEVsTGFiZWwoJHNsaWRlRWwsIGFyaWFMYWJlbE1lc3NhZ2UpO1xuICAgICAgfSk7IC8vIE5hdmlnYXRpb25cblxuICAgICAgdmFyICRuZXh0RWw7XG4gICAgICB2YXIgJHByZXZFbDtcblxuICAgICAgaWYgKHN3aXBlci5uYXZpZ2F0aW9uICYmIHN3aXBlci5uYXZpZ2F0aW9uLiRuZXh0RWwpIHtcbiAgICAgICAgJG5leHRFbCA9IHN3aXBlci5uYXZpZ2F0aW9uLiRuZXh0RWw7XG4gICAgICB9XG5cbiAgICAgIGlmIChzd2lwZXIubmF2aWdhdGlvbiAmJiBzd2lwZXIubmF2aWdhdGlvbi4kcHJldkVsKSB7XG4gICAgICAgICRwcmV2RWwgPSBzd2lwZXIubmF2aWdhdGlvbi4kcHJldkVsO1xuICAgICAgfVxuXG4gICAgICBpZiAoJG5leHRFbCAmJiAkbmV4dEVsLmxlbmd0aCkge1xuICAgICAgICBzd2lwZXIuYTExeS5tYWtlRWxGb2N1c2FibGUoJG5leHRFbCk7XG5cbiAgICAgICAgaWYgKCRuZXh0RWxbMF0udGFnTmFtZSAhPT0gJ0JVVFRPTicpIHtcbiAgICAgICAgICBzd2lwZXIuYTExeS5hZGRFbFJvbGUoJG5leHRFbCwgJ2J1dHRvbicpO1xuICAgICAgICAgICRuZXh0RWwub24oJ2tleWRvd24nLCBzd2lwZXIuYTExeS5vbkVudGVyT3JTcGFjZUtleSk7XG4gICAgICAgIH1cblxuICAgICAgICBzd2lwZXIuYTExeS5hZGRFbExhYmVsKCRuZXh0RWwsIHBhcmFtcy5uZXh0U2xpZGVNZXNzYWdlKTtcbiAgICAgICAgc3dpcGVyLmExMXkuYWRkRWxDb250cm9scygkbmV4dEVsLCB3cmFwcGVySWQpO1xuICAgICAgfVxuXG4gICAgICBpZiAoJHByZXZFbCAmJiAkcHJldkVsLmxlbmd0aCkge1xuICAgICAgICBzd2lwZXIuYTExeS5tYWtlRWxGb2N1c2FibGUoJHByZXZFbCk7XG5cbiAgICAgICAgaWYgKCRwcmV2RWxbMF0udGFnTmFtZSAhPT0gJ0JVVFRPTicpIHtcbiAgICAgICAgICBzd2lwZXIuYTExeS5hZGRFbFJvbGUoJHByZXZFbCwgJ2J1dHRvbicpO1xuICAgICAgICAgICRwcmV2RWwub24oJ2tleWRvd24nLCBzd2lwZXIuYTExeS5vbkVudGVyT3JTcGFjZUtleSk7XG4gICAgICAgIH1cblxuICAgICAgICBzd2lwZXIuYTExeS5hZGRFbExhYmVsKCRwcmV2RWwsIHBhcmFtcy5wcmV2U2xpZGVNZXNzYWdlKTtcbiAgICAgICAgc3dpcGVyLmExMXkuYWRkRWxDb250cm9scygkcHJldkVsLCB3cmFwcGVySWQpO1xuICAgICAgfSAvLyBQYWdpbmF0aW9uXG5cblxuICAgICAgaWYgKHN3aXBlci5wYWdpbmF0aW9uICYmIHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbi5jbGlja2FibGUgJiYgc3dpcGVyLnBhZ2luYXRpb24uYnVsbGV0cyAmJiBzd2lwZXIucGFnaW5hdGlvbi5idWxsZXRzLmxlbmd0aCkge1xuICAgICAgICBzd2lwZXIucGFnaW5hdGlvbi4kZWwub24oJ2tleWRvd24nLCBjbGFzc2VzVG9TZWxlY3Rvcihzd2lwZXIucGFyYW1zLnBhZ2luYXRpb24uYnVsbGV0Q2xhc3MpLCBzd2lwZXIuYTExeS5vbkVudGVyT3JTcGFjZUtleSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgICBpZiAoc3dpcGVyLmExMXkubGl2ZVJlZ2lvbiAmJiBzd2lwZXIuYTExeS5saXZlUmVnaW9uLmxlbmd0aCA+IDApIHN3aXBlci5hMTF5LmxpdmVSZWdpb24ucmVtb3ZlKCk7XG4gICAgICB2YXIgJG5leHRFbDtcbiAgICAgIHZhciAkcHJldkVsO1xuXG4gICAgICBpZiAoc3dpcGVyLm5hdmlnYXRpb24gJiYgc3dpcGVyLm5hdmlnYXRpb24uJG5leHRFbCkge1xuICAgICAgICAkbmV4dEVsID0gc3dpcGVyLm5hdmlnYXRpb24uJG5leHRFbDtcbiAgICAgIH1cblxuICAgICAgaWYgKHN3aXBlci5uYXZpZ2F0aW9uICYmIHN3aXBlci5uYXZpZ2F0aW9uLiRwcmV2RWwpIHtcbiAgICAgICAgJHByZXZFbCA9IHN3aXBlci5uYXZpZ2F0aW9uLiRwcmV2RWw7XG4gICAgICB9XG5cbiAgICAgIGlmICgkbmV4dEVsKSB7XG4gICAgICAgICRuZXh0RWwub2ZmKCdrZXlkb3duJywgc3dpcGVyLmExMXkub25FbnRlck9yU3BhY2VLZXkpO1xuICAgICAgfVxuXG4gICAgICBpZiAoJHByZXZFbCkge1xuICAgICAgICAkcHJldkVsLm9mZigna2V5ZG93bicsIHN3aXBlci5hMTF5Lm9uRW50ZXJPclNwYWNlS2V5KTtcbiAgICAgIH0gLy8gUGFnaW5hdGlvblxuXG5cbiAgICAgIGlmIChzd2lwZXIucGFnaW5hdGlvbiAmJiBzd2lwZXIucGFyYW1zLnBhZ2luYXRpb24uY2xpY2thYmxlICYmIHN3aXBlci5wYWdpbmF0aW9uLmJ1bGxldHMgJiYgc3dpcGVyLnBhZ2luYXRpb24uYnVsbGV0cy5sZW5ndGgpIHtcbiAgICAgICAgc3dpcGVyLnBhZ2luYXRpb24uJGVsLm9mZigna2V5ZG93bicsIGNsYXNzZXNUb1NlbGVjdG9yKHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbi5idWxsZXRDbGFzcyksIHN3aXBlci5hMTF5Lm9uRW50ZXJPclNwYWNlS2V5KTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIHZhciBBMTF5JDEgPSB7XG4gICAgbmFtZTogJ2ExMXknLFxuICAgIHBhcmFtczoge1xuICAgICAgYTExeToge1xuICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICBub3RpZmljYXRpb25DbGFzczogJ3N3aXBlci1ub3RpZmljYXRpb24nLFxuICAgICAgICBwcmV2U2xpZGVNZXNzYWdlOiAnUHJldmlvdXMgc2xpZGUnLFxuICAgICAgICBuZXh0U2xpZGVNZXNzYWdlOiAnTmV4dCBzbGlkZScsXG4gICAgICAgIGZpcnN0U2xpZGVNZXNzYWdlOiAnVGhpcyBpcyB0aGUgZmlyc3Qgc2xpZGUnLFxuICAgICAgICBsYXN0U2xpZGVNZXNzYWdlOiAnVGhpcyBpcyB0aGUgbGFzdCBzbGlkZScsXG4gICAgICAgIHBhZ2luYXRpb25CdWxsZXRNZXNzYWdlOiAnR28gdG8gc2xpZGUge3tpbmRleH19JyxcbiAgICAgICAgc2xpZGVMYWJlbE1lc3NhZ2U6ICd7e2luZGV4fX0gLyB7e3NsaWRlc0xlbmd0aH19JyxcbiAgICAgICAgY29udGFpbmVyTWVzc2FnZTogbnVsbCxcbiAgICAgICAgY29udGFpbmVyUm9sZURlc2NyaXB0aW9uTWVzc2FnZTogbnVsbCxcbiAgICAgICAgaXRlbVJvbGVEZXNjcmlwdGlvbk1lc3NhZ2U6IG51bGwsXG4gICAgICAgIHNsaWRlUm9sZTogJ2dyb3VwJ1xuICAgICAgfVxuICAgIH0sXG4gICAgY3JlYXRlOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gICAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICAgIGJpbmRNb2R1bGVNZXRob2RzKHN3aXBlciwge1xuICAgICAgICBhMTF5OiBfZXh0ZW5kcyh7fSwgQTExeSwge1xuICAgICAgICAgIGxpdmVSZWdpb246ICQoXCI8c3BhbiBjbGFzcz1cXFwiXCIgKyBzd2lwZXIucGFyYW1zLmExMXkubm90aWZpY2F0aW9uQ2xhc3MgKyBcIlxcXCIgYXJpYS1saXZlPVxcXCJhc3NlcnRpdmVcXFwiIGFyaWEtYXRvbWljPVxcXCJ0cnVlXFxcIj48L3NwYW4+XCIpXG4gICAgICAgIH0pXG4gICAgICB9KTtcbiAgICB9LFxuICAgIG9uOiB7XG4gICAgICBhZnRlckluaXQ6IGZ1bmN0aW9uIGFmdGVySW5pdChzd2lwZXIpIHtcbiAgICAgICAgaWYgKCFzd2lwZXIucGFyYW1zLmExMXkuZW5hYmxlZCkgcmV0dXJuO1xuICAgICAgICBzd2lwZXIuYTExeS5pbml0KCk7XG4gICAgICAgIHN3aXBlci5hMTF5LnVwZGF0ZU5hdmlnYXRpb24oKTtcbiAgICAgIH0sXG4gICAgICB0b0VkZ2U6IGZ1bmN0aW9uIHRvRWRnZShzd2lwZXIpIHtcbiAgICAgICAgaWYgKCFzd2lwZXIucGFyYW1zLmExMXkuZW5hYmxlZCkgcmV0dXJuO1xuICAgICAgICBzd2lwZXIuYTExeS51cGRhdGVOYXZpZ2F0aW9uKCk7XG4gICAgICB9LFxuICAgICAgZnJvbUVkZ2U6IGZ1bmN0aW9uIGZyb21FZGdlKHN3aXBlcikge1xuICAgICAgICBpZiAoIXN3aXBlci5wYXJhbXMuYTExeS5lbmFibGVkKSByZXR1cm47XG4gICAgICAgIHN3aXBlci5hMTF5LnVwZGF0ZU5hdmlnYXRpb24oKTtcbiAgICAgIH0sXG4gICAgICBwYWdpbmF0aW9uVXBkYXRlOiBmdW5jdGlvbiBwYWdpbmF0aW9uVXBkYXRlKHN3aXBlcikge1xuICAgICAgICBpZiAoIXN3aXBlci5wYXJhbXMuYTExeS5lbmFibGVkKSByZXR1cm47XG4gICAgICAgIHN3aXBlci5hMTF5LnVwZGF0ZVBhZ2luYXRpb24oKTtcbiAgICAgIH0sXG4gICAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KHN3aXBlcikge1xuICAgICAgICBpZiAoIXN3aXBlci5wYXJhbXMuYTExeS5lbmFibGVkKSByZXR1cm47XG4gICAgICAgIHN3aXBlci5hMTF5LmRlc3Ryb3koKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgdmFyIEhpc3RvcnkgPSB7XG4gICAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHtcbiAgICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgICAgdmFyIHdpbmRvdyA9IGdldFdpbmRvdygpO1xuICAgICAgaWYgKCFzd2lwZXIucGFyYW1zLmhpc3RvcnkpIHJldHVybjtcblxuICAgICAgaWYgKCF3aW5kb3cuaGlzdG9yeSB8fCAhd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKSB7XG4gICAgICAgIHN3aXBlci5wYXJhbXMuaGlzdG9yeS5lbmFibGVkID0gZmFsc2U7XG4gICAgICAgIHN3aXBlci5wYXJhbXMuaGFzaE5hdmlnYXRpb24uZW5hYmxlZCA9IHRydWU7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIGhpc3RvcnkgPSBzd2lwZXIuaGlzdG9yeTtcbiAgICAgIGhpc3RvcnkuaW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgICAgaGlzdG9yeS5wYXRocyA9IEhpc3RvcnkuZ2V0UGF0aFZhbHVlcyhzd2lwZXIucGFyYW1zLnVybCk7XG4gICAgICBpZiAoIWhpc3RvcnkucGF0aHMua2V5ICYmICFoaXN0b3J5LnBhdGhzLnZhbHVlKSByZXR1cm47XG4gICAgICBoaXN0b3J5LnNjcm9sbFRvU2xpZGUoMCwgaGlzdG9yeS5wYXRocy52YWx1ZSwgc3dpcGVyLnBhcmFtcy5ydW5DYWxsYmFja3NPbkluaXQpO1xuXG4gICAgICBpZiAoIXN3aXBlci5wYXJhbXMuaGlzdG9yeS5yZXBsYWNlU3RhdGUpIHtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3BvcHN0YXRlJywgc3dpcGVyLmhpc3Rvcnkuc2V0SGlzdG9yeVBvcFN0YXRlKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICAgIHZhciB3aW5kb3cgPSBnZXRXaW5kb3coKTtcblxuICAgICAgaWYgKCFzd2lwZXIucGFyYW1zLmhpc3RvcnkucmVwbGFjZVN0YXRlKSB7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdwb3BzdGF0ZScsIHN3aXBlci5oaXN0b3J5LnNldEhpc3RvcnlQb3BTdGF0ZSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBzZXRIaXN0b3J5UG9wU3RhdGU6IGZ1bmN0aW9uIHNldEhpc3RvcnlQb3BTdGF0ZSgpIHtcbiAgICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgICAgc3dpcGVyLmhpc3RvcnkucGF0aHMgPSBIaXN0b3J5LmdldFBhdGhWYWx1ZXMoc3dpcGVyLnBhcmFtcy51cmwpO1xuICAgICAgc3dpcGVyLmhpc3Rvcnkuc2Nyb2xsVG9TbGlkZShzd2lwZXIucGFyYW1zLnNwZWVkLCBzd2lwZXIuaGlzdG9yeS5wYXRocy52YWx1ZSwgZmFsc2UpO1xuICAgIH0sXG4gICAgZ2V0UGF0aFZhbHVlczogZnVuY3Rpb24gZ2V0UGF0aFZhbHVlcyh1cmxPdmVycmlkZSkge1xuICAgICAgdmFyIHdpbmRvdyA9IGdldFdpbmRvdygpO1xuICAgICAgdmFyIGxvY2F0aW9uO1xuXG4gICAgICBpZiAodXJsT3ZlcnJpZGUpIHtcbiAgICAgICAgbG9jYXRpb24gPSBuZXcgVVJMKHVybE92ZXJyaWRlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxvY2F0aW9uID0gd2luZG93LmxvY2F0aW9uO1xuICAgICAgfVxuXG4gICAgICB2YXIgcGF0aEFycmF5ID0gbG9jYXRpb24ucGF0aG5hbWUuc2xpY2UoMSkuc3BsaXQoJy8nKS5maWx0ZXIoZnVuY3Rpb24gKHBhcnQpIHtcbiAgICAgICAgcmV0dXJuIHBhcnQgIT09ICcnO1xuICAgICAgfSk7XG4gICAgICB2YXIgdG90YWwgPSBwYXRoQXJyYXkubGVuZ3RoO1xuICAgICAgdmFyIGtleSA9IHBhdGhBcnJheVt0b3RhbCAtIDJdO1xuICAgICAgdmFyIHZhbHVlID0gcGF0aEFycmF5W3RvdGFsIC0gMV07XG4gICAgICByZXR1cm4ge1xuICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICB9O1xuICAgIH0sXG4gICAgc2V0SGlzdG9yeTogZnVuY3Rpb24gc2V0SGlzdG9yeShrZXksIGluZGV4KSB7XG4gICAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICAgIHZhciB3aW5kb3cgPSBnZXRXaW5kb3coKTtcbiAgICAgIGlmICghc3dpcGVyLmhpc3RvcnkuaW5pdGlhbGl6ZWQgfHwgIXN3aXBlci5wYXJhbXMuaGlzdG9yeS5lbmFibGVkKSByZXR1cm47XG4gICAgICB2YXIgbG9jYXRpb247XG5cbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLnVybCkge1xuICAgICAgICBsb2NhdGlvbiA9IG5ldyBVUkwoc3dpcGVyLnBhcmFtcy51cmwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbG9jYXRpb24gPSB3aW5kb3cubG9jYXRpb247XG4gICAgICB9XG5cbiAgICAgIHZhciBzbGlkZSA9IHN3aXBlci5zbGlkZXMuZXEoaW5kZXgpO1xuICAgICAgdmFyIHZhbHVlID0gSGlzdG9yeS5zbHVnaWZ5KHNsaWRlLmF0dHIoJ2RhdGEtaGlzdG9yeScpKTtcblxuICAgICAgaWYgKHN3aXBlci5wYXJhbXMuaGlzdG9yeS5yb290Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgdmFyIHJvb3QgPSBzd2lwZXIucGFyYW1zLmhpc3Rvcnkucm9vdDtcbiAgICAgICAgaWYgKHJvb3Rbcm9vdC5sZW5ndGggLSAxXSA9PT0gJy8nKSByb290ID0gcm9vdC5zbGljZSgwLCByb290Lmxlbmd0aCAtIDEpO1xuICAgICAgICB2YWx1ZSA9IHJvb3QgKyBcIi9cIiArIGtleSArIFwiL1wiICsgdmFsdWU7XG4gICAgICB9IGVsc2UgaWYgKCFsb2NhdGlvbi5wYXRobmFtZS5pbmNsdWRlcyhrZXkpKSB7XG4gICAgICAgIHZhbHVlID0ga2V5ICsgXCIvXCIgKyB2YWx1ZTtcbiAgICAgIH1cblxuICAgICAgdmFyIGN1cnJlbnRTdGF0ZSA9IHdpbmRvdy5oaXN0b3J5LnN0YXRlO1xuXG4gICAgICBpZiAoY3VycmVudFN0YXRlICYmIGN1cnJlbnRTdGF0ZS52YWx1ZSA9PT0gdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy5oaXN0b3J5LnJlcGxhY2VTdGF0ZSkge1xuICAgICAgICB3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUoe1xuICAgICAgICAgIHZhbHVlOiB2YWx1ZVxuICAgICAgICB9LCBudWxsLCB2YWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUoe1xuICAgICAgICAgIHZhbHVlOiB2YWx1ZVxuICAgICAgICB9LCBudWxsLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBzbHVnaWZ5OiBmdW5jdGlvbiBzbHVnaWZ5KHRleHQpIHtcbiAgICAgIHJldHVybiB0ZXh0LnRvU3RyaW5nKCkucmVwbGFjZSgvXFxzKy9nLCAnLScpLnJlcGxhY2UoL1teXFx3LV0rL2csICcnKS5yZXBsYWNlKC8tLSsvZywgJy0nKS5yZXBsYWNlKC9eLSsvLCAnJykucmVwbGFjZSgvLSskLywgJycpO1xuICAgIH0sXG4gICAgc2Nyb2xsVG9TbGlkZTogZnVuY3Rpb24gc2Nyb2xsVG9TbGlkZShzcGVlZCwgdmFsdWUsIHJ1bkNhbGxiYWNrcykge1xuICAgICAgdmFyIHN3aXBlciA9IHRoaXM7XG5cbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gc3dpcGVyLnNsaWRlcy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgIHZhciBzbGlkZSA9IHN3aXBlci5zbGlkZXMuZXEoaSk7XG4gICAgICAgICAgdmFyIHNsaWRlSGlzdG9yeSA9IEhpc3Rvcnkuc2x1Z2lmeShzbGlkZS5hdHRyKCdkYXRhLWhpc3RvcnknKSk7XG5cbiAgICAgICAgICBpZiAoc2xpZGVIaXN0b3J5ID09PSB2YWx1ZSAmJiAhc2xpZGUuaGFzQ2xhc3Moc3dpcGVyLnBhcmFtcy5zbGlkZUR1cGxpY2F0ZUNsYXNzKSkge1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gc2xpZGUuaW5kZXgoKTtcbiAgICAgICAgICAgIHN3aXBlci5zbGlkZVRvKGluZGV4LCBzcGVlZCwgcnVuQ2FsbGJhY2tzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN3aXBlci5zbGlkZVRvKDAsIHNwZWVkLCBydW5DYWxsYmFja3MpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgdmFyIEhpc3RvcnkkMSA9IHtcbiAgICBuYW1lOiAnaGlzdG9yeScsXG4gICAgcGFyYW1zOiB7XG4gICAgICBoaXN0b3J5OiB7XG4gICAgICAgIGVuYWJsZWQ6IGZhbHNlLFxuICAgICAgICByb290OiAnJyxcbiAgICAgICAgcmVwbGFjZVN0YXRlOiBmYWxzZSxcbiAgICAgICAga2V5OiAnc2xpZGVzJ1xuICAgICAgfVxuICAgIH0sXG4gICAgY3JlYXRlOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gICAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICAgIGJpbmRNb2R1bGVNZXRob2RzKHN3aXBlciwge1xuICAgICAgICBoaXN0b3J5OiBfZXh0ZW5kcyh7fSwgSGlzdG9yeSlcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgb246IHtcbiAgICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoc3dpcGVyKSB7XG4gICAgICAgIGlmIChzd2lwZXIucGFyYW1zLmhpc3RvcnkuZW5hYmxlZCkge1xuICAgICAgICAgIHN3aXBlci5oaXN0b3J5LmluaXQoKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koc3dpcGVyKSB7XG4gICAgICAgIGlmIChzd2lwZXIucGFyYW1zLmhpc3RvcnkuZW5hYmxlZCkge1xuICAgICAgICAgIHN3aXBlci5oaXN0b3J5LmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgICd0cmFuc2l0aW9uRW5kIF9mcmVlTW9kZU5vTW9tZW50dW1SZWxlYXNlJzogZnVuY3Rpb24gdHJhbnNpdGlvbkVuZF9mcmVlTW9kZU5vTW9tZW50dW1SZWxlYXNlKHN3aXBlcikge1xuICAgICAgICBpZiAoc3dpcGVyLmhpc3RvcnkuaW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICBzd2lwZXIuaGlzdG9yeS5zZXRIaXN0b3J5KHN3aXBlci5wYXJhbXMuaGlzdG9yeS5rZXksIHN3aXBlci5hY3RpdmVJbmRleCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBzbGlkZUNoYW5nZTogZnVuY3Rpb24gc2xpZGVDaGFuZ2Uoc3dpcGVyKSB7XG4gICAgICAgIGlmIChzd2lwZXIuaGlzdG9yeS5pbml0aWFsaXplZCAmJiBzd2lwZXIucGFyYW1zLmNzc01vZGUpIHtcbiAgICAgICAgICBzd2lwZXIuaGlzdG9yeS5zZXRIaXN0b3J5KHN3aXBlci5wYXJhbXMuaGlzdG9yeS5rZXksIHN3aXBlci5hY3RpdmVJbmRleCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgdmFyIEhhc2hOYXZpZ2F0aW9uID0ge1xuICAgIG9uSGFzaENoYW5nZTogZnVuY3Rpb24gb25IYXNoQ2hhbmdlKCkge1xuICAgICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgICB2YXIgZG9jdW1lbnQgPSBnZXREb2N1bWVudCgpO1xuICAgICAgc3dpcGVyLmVtaXQoJ2hhc2hDaGFuZ2UnKTtcbiAgICAgIHZhciBuZXdIYXNoID0gZG9jdW1lbnQubG9jYXRpb24uaGFzaC5yZXBsYWNlKCcjJywgJycpO1xuICAgICAgdmFyIGFjdGl2ZVNsaWRlSGFzaCA9IHN3aXBlci5zbGlkZXMuZXEoc3dpcGVyLmFjdGl2ZUluZGV4KS5hdHRyKCdkYXRhLWhhc2gnKTtcblxuICAgICAgaWYgKG5ld0hhc2ggIT09IGFjdGl2ZVNsaWRlSGFzaCkge1xuICAgICAgICB2YXIgbmV3SW5kZXggPSBzd2lwZXIuJHdyYXBwZXJFbC5jaGlsZHJlbihcIi5cIiArIHN3aXBlci5wYXJhbXMuc2xpZGVDbGFzcyArIFwiW2RhdGEtaGFzaD1cXFwiXCIgKyBuZXdIYXNoICsgXCJcXFwiXVwiKS5pbmRleCgpO1xuICAgICAgICBpZiAodHlwZW9mIG5ld0luZGV4ID09PSAndW5kZWZpbmVkJykgcmV0dXJuO1xuICAgICAgICBzd2lwZXIuc2xpZGVUbyhuZXdJbmRleCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBzZXRIYXNoOiBmdW5jdGlvbiBzZXRIYXNoKCkge1xuICAgICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgICB2YXIgd2luZG93ID0gZ2V0V2luZG93KCk7XG4gICAgICB2YXIgZG9jdW1lbnQgPSBnZXREb2N1bWVudCgpO1xuICAgICAgaWYgKCFzd2lwZXIuaGFzaE5hdmlnYXRpb24uaW5pdGlhbGl6ZWQgfHwgIXN3aXBlci5wYXJhbXMuaGFzaE5hdmlnYXRpb24uZW5hYmxlZCkgcmV0dXJuO1xuXG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy5oYXNoTmF2aWdhdGlvbi5yZXBsYWNlU3RhdGUgJiYgd2luZG93Lmhpc3RvcnkgJiYgd2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKSB7XG4gICAgICAgIHdpbmRvdy5oaXN0b3J5LnJlcGxhY2VTdGF0ZShudWxsLCBudWxsLCBcIiNcIiArIHN3aXBlci5zbGlkZXMuZXEoc3dpcGVyLmFjdGl2ZUluZGV4KS5hdHRyKCdkYXRhLWhhc2gnKSB8fCAnJyk7XG4gICAgICAgIHN3aXBlci5lbWl0KCdoYXNoU2V0Jyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgc2xpZGUgPSBzd2lwZXIuc2xpZGVzLmVxKHN3aXBlci5hY3RpdmVJbmRleCk7XG4gICAgICAgIHZhciBoYXNoID0gc2xpZGUuYXR0cignZGF0YS1oYXNoJykgfHwgc2xpZGUuYXR0cignZGF0YS1oaXN0b3J5Jyk7XG4gICAgICAgIGRvY3VtZW50LmxvY2F0aW9uLmhhc2ggPSBoYXNoIHx8ICcnO1xuICAgICAgICBzd2lwZXIuZW1pdCgnaGFzaFNldCcpO1xuICAgICAgfVxuICAgIH0sXG4gICAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHtcbiAgICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgICAgdmFyIGRvY3VtZW50ID0gZ2V0RG9jdW1lbnQoKTtcbiAgICAgIHZhciB3aW5kb3cgPSBnZXRXaW5kb3coKTtcbiAgICAgIGlmICghc3dpcGVyLnBhcmFtcy5oYXNoTmF2aWdhdGlvbi5lbmFibGVkIHx8IHN3aXBlci5wYXJhbXMuaGlzdG9yeSAmJiBzd2lwZXIucGFyYW1zLmhpc3RvcnkuZW5hYmxlZCkgcmV0dXJuO1xuICAgICAgc3dpcGVyLmhhc2hOYXZpZ2F0aW9uLmluaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgIHZhciBoYXNoID0gZG9jdW1lbnQubG9jYXRpb24uaGFzaC5yZXBsYWNlKCcjJywgJycpO1xuXG4gICAgICBpZiAoaGFzaCkge1xuICAgICAgICB2YXIgc3BlZWQgPSAwO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBzd2lwZXIuc2xpZGVzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgdmFyIHNsaWRlID0gc3dpcGVyLnNsaWRlcy5lcShpKTtcbiAgICAgICAgICB2YXIgc2xpZGVIYXNoID0gc2xpZGUuYXR0cignZGF0YS1oYXNoJykgfHwgc2xpZGUuYXR0cignZGF0YS1oaXN0b3J5Jyk7XG5cbiAgICAgICAgICBpZiAoc2xpZGVIYXNoID09PSBoYXNoICYmICFzbGlkZS5oYXNDbGFzcyhzd2lwZXIucGFyYW1zLnNsaWRlRHVwbGljYXRlQ2xhc3MpKSB7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBzbGlkZS5pbmRleCgpO1xuICAgICAgICAgICAgc3dpcGVyLnNsaWRlVG8oaW5kZXgsIHNwZWVkLCBzd2lwZXIucGFyYW1zLnJ1bkNhbGxiYWNrc09uSW5pdCwgdHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLmhhc2hOYXZpZ2F0aW9uLndhdGNoU3RhdGUpIHtcbiAgICAgICAgJCh3aW5kb3cpLm9uKCdoYXNoY2hhbmdlJywgc3dpcGVyLmhhc2hOYXZpZ2F0aW9uLm9uSGFzaENoYW5nZSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgICB2YXIgd2luZG93ID0gZ2V0V2luZG93KCk7XG5cbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLmhhc2hOYXZpZ2F0aW9uLndhdGNoU3RhdGUpIHtcbiAgICAgICAgJCh3aW5kb3cpLm9mZignaGFzaGNoYW5nZScsIHN3aXBlci5oYXNoTmF2aWdhdGlvbi5vbkhhc2hDaGFuZ2UpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgdmFyIEhhc2hOYXZpZ2F0aW9uJDEgPSB7XG4gICAgbmFtZTogJ2hhc2gtbmF2aWdhdGlvbicsXG4gICAgcGFyYW1zOiB7XG4gICAgICBoYXNoTmF2aWdhdGlvbjoge1xuICAgICAgICBlbmFibGVkOiBmYWxzZSxcbiAgICAgICAgcmVwbGFjZVN0YXRlOiBmYWxzZSxcbiAgICAgICAgd2F0Y2hTdGF0ZTogZmFsc2VcbiAgICAgIH1cbiAgICB9LFxuICAgIGNyZWF0ZTogZnVuY3Rpb24gY3JlYXRlKCkge1xuICAgICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgICBiaW5kTW9kdWxlTWV0aG9kcyhzd2lwZXIsIHtcbiAgICAgICAgaGFzaE5hdmlnYXRpb246IF9leHRlbmRzKHtcbiAgICAgICAgICBpbml0aWFsaXplZDogZmFsc2VcbiAgICAgICAgfSwgSGFzaE5hdmlnYXRpb24pXG4gICAgICB9KTtcbiAgICB9LFxuICAgIG9uOiB7XG4gICAgICBpbml0OiBmdW5jdGlvbiBpbml0KHN3aXBlcikge1xuICAgICAgICBpZiAoc3dpcGVyLnBhcmFtcy5oYXNoTmF2aWdhdGlvbi5lbmFibGVkKSB7XG4gICAgICAgICAgc3dpcGVyLmhhc2hOYXZpZ2F0aW9uLmluaXQoKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koc3dpcGVyKSB7XG4gICAgICAgIGlmIChzd2lwZXIucGFyYW1zLmhhc2hOYXZpZ2F0aW9uLmVuYWJsZWQpIHtcbiAgICAgICAgICBzd2lwZXIuaGFzaE5hdmlnYXRpb24uZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgJ3RyYW5zaXRpb25FbmQgX2ZyZWVNb2RlTm9Nb21lbnR1bVJlbGVhc2UnOiBmdW5jdGlvbiB0cmFuc2l0aW9uRW5kX2ZyZWVNb2RlTm9Nb21lbnR1bVJlbGVhc2Uoc3dpcGVyKSB7XG4gICAgICAgIGlmIChzd2lwZXIuaGFzaE5hdmlnYXRpb24uaW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICBzd2lwZXIuaGFzaE5hdmlnYXRpb24uc2V0SGFzaCgpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgc2xpZGVDaGFuZ2U6IGZ1bmN0aW9uIHNsaWRlQ2hhbmdlKHN3aXBlcikge1xuICAgICAgICBpZiAoc3dpcGVyLmhhc2hOYXZpZ2F0aW9uLmluaXRpYWxpemVkICYmIHN3aXBlci5wYXJhbXMuY3NzTW9kZSkge1xuICAgICAgICAgIHN3aXBlci5oYXNoTmF2aWdhdGlvbi5zZXRIYXNoKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgdmFyIEF1dG9wbGF5ID0ge1xuICAgIHJ1bjogZnVuY3Rpb24gcnVuKCkge1xuICAgICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgICB2YXIgJGFjdGl2ZVNsaWRlRWwgPSBzd2lwZXIuc2xpZGVzLmVxKHN3aXBlci5hY3RpdmVJbmRleCk7XG4gICAgICB2YXIgZGVsYXkgPSBzd2lwZXIucGFyYW1zLmF1dG9wbGF5LmRlbGF5O1xuXG4gICAgICBpZiAoJGFjdGl2ZVNsaWRlRWwuYXR0cignZGF0YS1zd2lwZXItYXV0b3BsYXknKSkge1xuICAgICAgICBkZWxheSA9ICRhY3RpdmVTbGlkZUVsLmF0dHIoJ2RhdGEtc3dpcGVyLWF1dG9wbGF5JykgfHwgc3dpcGVyLnBhcmFtcy5hdXRvcGxheS5kZWxheTtcbiAgICAgIH1cblxuICAgICAgY2xlYXJUaW1lb3V0KHN3aXBlci5hdXRvcGxheS50aW1lb3V0KTtcbiAgICAgIHN3aXBlci5hdXRvcGxheS50aW1lb3V0ID0gbmV4dFRpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXV0b3BsYXlSZXN1bHQ7XG5cbiAgICAgICAgaWYgKHN3aXBlci5wYXJhbXMuYXV0b3BsYXkucmV2ZXJzZURpcmVjdGlvbikge1xuICAgICAgICAgIGlmIChzd2lwZXIucGFyYW1zLmxvb3ApIHtcbiAgICAgICAgICAgIHN3aXBlci5sb29wRml4KCk7XG4gICAgICAgICAgICBhdXRvcGxheVJlc3VsdCA9IHN3aXBlci5zbGlkZVByZXYoc3dpcGVyLnBhcmFtcy5zcGVlZCwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgICAgICBzd2lwZXIuZW1pdCgnYXV0b3BsYXknKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKCFzd2lwZXIuaXNCZWdpbm5pbmcpIHtcbiAgICAgICAgICAgIGF1dG9wbGF5UmVzdWx0ID0gc3dpcGVyLnNsaWRlUHJldihzd2lwZXIucGFyYW1zLnNwZWVkLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgICAgIHN3aXBlci5lbWl0KCdhdXRvcGxheScpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoIXN3aXBlci5wYXJhbXMuYXV0b3BsYXkuc3RvcE9uTGFzdFNsaWRlKSB7XG4gICAgICAgICAgICBhdXRvcGxheVJlc3VsdCA9IHN3aXBlci5zbGlkZVRvKHN3aXBlci5zbGlkZXMubGVuZ3RoIC0gMSwgc3dpcGVyLnBhcmFtcy5zcGVlZCwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgICAgICBzd2lwZXIuZW1pdCgnYXV0b3BsYXknKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3dpcGVyLmF1dG9wbGF5LnN0b3AoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoc3dpcGVyLnBhcmFtcy5sb29wKSB7XG4gICAgICAgICAgc3dpcGVyLmxvb3BGaXgoKTtcbiAgICAgICAgICBhdXRvcGxheVJlc3VsdCA9IHN3aXBlci5zbGlkZU5leHQoc3dpcGVyLnBhcmFtcy5zcGVlZCwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgICAgc3dpcGVyLmVtaXQoJ2F1dG9wbGF5Jyk7XG4gICAgICAgIH0gZWxzZSBpZiAoIXN3aXBlci5pc0VuZCkge1xuICAgICAgICAgIGF1dG9wbGF5UmVzdWx0ID0gc3dpcGVyLnNsaWRlTmV4dChzd2lwZXIucGFyYW1zLnNwZWVkLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgICBzd2lwZXIuZW1pdCgnYXV0b3BsYXknKTtcbiAgICAgICAgfSBlbHNlIGlmICghc3dpcGVyLnBhcmFtcy5hdXRvcGxheS5zdG9wT25MYXN0U2xpZGUpIHtcbiAgICAgICAgICBhdXRvcGxheVJlc3VsdCA9IHN3aXBlci5zbGlkZVRvKDAsIHN3aXBlci5wYXJhbXMuc3BlZWQsIHRydWUsIHRydWUpO1xuICAgICAgICAgIHN3aXBlci5lbWl0KCdhdXRvcGxheScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN3aXBlci5hdXRvcGxheS5zdG9wKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3dpcGVyLnBhcmFtcy5jc3NNb2RlICYmIHN3aXBlci5hdXRvcGxheS5ydW5uaW5nKSBzd2lwZXIuYXV0b3BsYXkucnVuKCk7ZWxzZSBpZiAoYXV0b3BsYXlSZXN1bHQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgc3dpcGVyLmF1dG9wbGF5LnJ1bigpO1xuICAgICAgICB9XG4gICAgICB9LCBkZWxheSk7XG4gICAgfSxcbiAgICBzdGFydDogZnVuY3Rpb24gc3RhcnQoKSB7XG4gICAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICAgIGlmICh0eXBlb2Ygc3dpcGVyLmF1dG9wbGF5LnRpbWVvdXQgIT09ICd1bmRlZmluZWQnKSByZXR1cm4gZmFsc2U7XG4gICAgICBpZiAoc3dpcGVyLmF1dG9wbGF5LnJ1bm5pbmcpIHJldHVybiBmYWxzZTtcbiAgICAgIHN3aXBlci5hdXRvcGxheS5ydW5uaW5nID0gdHJ1ZTtcbiAgICAgIHN3aXBlci5lbWl0KCdhdXRvcGxheVN0YXJ0Jyk7XG4gICAgICBzd2lwZXIuYXV0b3BsYXkucnVuKCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuICAgIHN0b3A6IGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICAgIGlmICghc3dpcGVyLmF1dG9wbGF5LnJ1bm5pbmcpIHJldHVybiBmYWxzZTtcbiAgICAgIGlmICh0eXBlb2Ygc3dpcGVyLmF1dG9wbGF5LnRpbWVvdXQgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgIGlmIChzd2lwZXIuYXV0b3BsYXkudGltZW91dCkge1xuICAgICAgICBjbGVhclRpbWVvdXQoc3dpcGVyLmF1dG9wbGF5LnRpbWVvdXQpO1xuICAgICAgICBzd2lwZXIuYXV0b3BsYXkudGltZW91dCA9IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgc3dpcGVyLmF1dG9wbGF5LnJ1bm5pbmcgPSBmYWxzZTtcbiAgICAgIHN3aXBlci5lbWl0KCdhdXRvcGxheVN0b3AnKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG4gICAgcGF1c2U6IGZ1bmN0aW9uIHBhdXNlKHNwZWVkKSB7XG4gICAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICAgIGlmICghc3dpcGVyLmF1dG9wbGF5LnJ1bm5pbmcpIHJldHVybjtcbiAgICAgIGlmIChzd2lwZXIuYXV0b3BsYXkucGF1c2VkKSByZXR1cm47XG4gICAgICBpZiAoc3dpcGVyLmF1dG9wbGF5LnRpbWVvdXQpIGNsZWFyVGltZW91dChzd2lwZXIuYXV0b3BsYXkudGltZW91dCk7XG4gICAgICBzd2lwZXIuYXV0b3BsYXkucGF1c2VkID0gdHJ1ZTtcblxuICAgICAgaWYgKHNwZWVkID09PSAwIHx8ICFzd2lwZXIucGFyYW1zLmF1dG9wbGF5LndhaXRGb3JUcmFuc2l0aW9uKSB7XG4gICAgICAgIHN3aXBlci5hdXRvcGxheS5wYXVzZWQgPSBmYWxzZTtcbiAgICAgICAgc3dpcGVyLmF1dG9wbGF5LnJ1bigpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgWyd0cmFuc2l0aW9uZW5kJywgJ3dlYmtpdFRyYW5zaXRpb25FbmQnXS5mb3JFYWNoKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgIHN3aXBlci4kd3JhcHBlckVsWzBdLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIHN3aXBlci5hdXRvcGxheS5vblRyYW5zaXRpb25FbmQpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LFxuICAgIG9uVmlzaWJpbGl0eUNoYW5nZTogZnVuY3Rpb24gb25WaXNpYmlsaXR5Q2hhbmdlKCkge1xuICAgICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgICB2YXIgZG9jdW1lbnQgPSBnZXREb2N1bWVudCgpO1xuXG4gICAgICBpZiAoZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlID09PSAnaGlkZGVuJyAmJiBzd2lwZXIuYXV0b3BsYXkucnVubmluZykge1xuICAgICAgICBzd2lwZXIuYXV0b3BsYXkucGF1c2UoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSA9PT0gJ3Zpc2libGUnICYmIHN3aXBlci5hdXRvcGxheS5wYXVzZWQpIHtcbiAgICAgICAgc3dpcGVyLmF1dG9wbGF5LnJ1bigpO1xuICAgICAgICBzd2lwZXIuYXV0b3BsYXkucGF1c2VkID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSxcbiAgICBvblRyYW5zaXRpb25FbmQ6IGZ1bmN0aW9uIG9uVHJhbnNpdGlvbkVuZChlKSB7XG4gICAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICAgIGlmICghc3dpcGVyIHx8IHN3aXBlci5kZXN0cm95ZWQgfHwgIXN3aXBlci4kd3JhcHBlckVsKSByZXR1cm47XG4gICAgICBpZiAoZS50YXJnZXQgIT09IHN3aXBlci4kd3JhcHBlckVsWzBdKSByZXR1cm47XG4gICAgICBbJ3RyYW5zaXRpb25lbmQnLCAnd2Via2l0VHJhbnNpdGlvbkVuZCddLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHN3aXBlci4kd3JhcHBlckVsWzBdLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIHN3aXBlci5hdXRvcGxheS5vblRyYW5zaXRpb25FbmQpO1xuICAgICAgfSk7XG4gICAgICBzd2lwZXIuYXV0b3BsYXkucGF1c2VkID0gZmFsc2U7XG5cbiAgICAgIGlmICghc3dpcGVyLmF1dG9wbGF5LnJ1bm5pbmcpIHtcbiAgICAgICAgc3dpcGVyLmF1dG9wbGF5LnN0b3AoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN3aXBlci5hdXRvcGxheS5ydW4oKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIG9uTW91c2VFbnRlcjogZnVuY3Rpb24gb25Nb3VzZUVudGVyKCkge1xuICAgICAgdmFyIHN3aXBlciA9IHRoaXM7XG5cbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLmF1dG9wbGF5LmRpc2FibGVPbkludGVyYWN0aW9uKSB7XG4gICAgICAgIHN3aXBlci5hdXRvcGxheS5zdG9wKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzd2lwZXIuYXV0b3BsYXkucGF1c2UoKTtcbiAgICAgIH1cblxuICAgICAgWyd0cmFuc2l0aW9uZW5kJywgJ3dlYmtpdFRyYW5zaXRpb25FbmQnXS5mb3JFYWNoKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBzd2lwZXIuJHdyYXBwZXJFbFswXS5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBzd2lwZXIuYXV0b3BsYXkub25UcmFuc2l0aW9uRW5kKTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgb25Nb3VzZUxlYXZlOiBmdW5jdGlvbiBvbk1vdXNlTGVhdmUoKSB7XG4gICAgICB2YXIgc3dpcGVyID0gdGhpcztcblxuICAgICAgaWYgKHN3aXBlci5wYXJhbXMuYXV0b3BsYXkuZGlzYWJsZU9uSW50ZXJhY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBzd2lwZXIuYXV0b3BsYXkucGF1c2VkID0gZmFsc2U7XG4gICAgICBzd2lwZXIuYXV0b3BsYXkucnVuKCk7XG4gICAgfSxcbiAgICBhdHRhY2hNb3VzZUV2ZW50czogZnVuY3Rpb24gYXR0YWNoTW91c2VFdmVudHMoKSB7XG4gICAgICB2YXIgc3dpcGVyID0gdGhpcztcblxuICAgICAgaWYgKHN3aXBlci5wYXJhbXMuYXV0b3BsYXkucGF1c2VPbk1vdXNlRW50ZXIpIHtcbiAgICAgICAgc3dpcGVyLiRlbC5vbignbW91c2VlbnRlcicsIHN3aXBlci5hdXRvcGxheS5vbk1vdXNlRW50ZXIpO1xuICAgICAgICBzd2lwZXIuJGVsLm9uKCdtb3VzZWxlYXZlJywgc3dpcGVyLmF1dG9wbGF5Lm9uTW91c2VMZWF2ZSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBkZXRhY2hNb3VzZUV2ZW50czogZnVuY3Rpb24gZGV0YWNoTW91c2VFdmVudHMoKSB7XG4gICAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICAgIHN3aXBlci4kZWwub2ZmKCdtb3VzZWVudGVyJywgc3dpcGVyLmF1dG9wbGF5Lm9uTW91c2VFbnRlcik7XG4gICAgICBzd2lwZXIuJGVsLm9mZignbW91c2VsZWF2ZScsIHN3aXBlci5hdXRvcGxheS5vbk1vdXNlTGVhdmUpO1xuICAgIH1cbiAgfTtcbiAgdmFyIEF1dG9wbGF5JDEgPSB7XG4gICAgbmFtZTogJ2F1dG9wbGF5JyxcbiAgICBwYXJhbXM6IHtcbiAgICAgIGF1dG9wbGF5OiB7XG4gICAgICAgIGVuYWJsZWQ6IGZhbHNlLFxuICAgICAgICBkZWxheTogMzAwMCxcbiAgICAgICAgd2FpdEZvclRyYW5zaXRpb246IHRydWUsXG4gICAgICAgIGRpc2FibGVPbkludGVyYWN0aW9uOiB0cnVlLFxuICAgICAgICBzdG9wT25MYXN0U2xpZGU6IGZhbHNlLFxuICAgICAgICByZXZlcnNlRGlyZWN0aW9uOiBmYWxzZSxcbiAgICAgICAgcGF1c2VPbk1vdXNlRW50ZXI6IGZhbHNlXG4gICAgICB9XG4gICAgfSxcbiAgICBjcmVhdGU6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgICAgYmluZE1vZHVsZU1ldGhvZHMoc3dpcGVyLCB7XG4gICAgICAgIGF1dG9wbGF5OiBfZXh0ZW5kcyh7fSwgQXV0b3BsYXksIHtcbiAgICAgICAgICBydW5uaW5nOiBmYWxzZSxcbiAgICAgICAgICBwYXVzZWQ6IGZhbHNlXG4gICAgICAgIH0pXG4gICAgICB9KTtcbiAgICB9LFxuICAgIG9uOiB7XG4gICAgICBpbml0OiBmdW5jdGlvbiBpbml0KHN3aXBlcikge1xuICAgICAgICBpZiAoc3dpcGVyLnBhcmFtcy5hdXRvcGxheS5lbmFibGVkKSB7XG4gICAgICAgICAgc3dpcGVyLmF1dG9wbGF5LnN0YXJ0KCk7XG4gICAgICAgICAgdmFyIGRvY3VtZW50ID0gZ2V0RG9jdW1lbnQoKTtcbiAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd2aXNpYmlsaXR5Y2hhbmdlJywgc3dpcGVyLmF1dG9wbGF5Lm9uVmlzaWJpbGl0eUNoYW5nZSk7XG4gICAgICAgICAgc3dpcGVyLmF1dG9wbGF5LmF0dGFjaE1vdXNlRXZlbnRzKCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBiZWZvcmVUcmFuc2l0aW9uU3RhcnQ6IGZ1bmN0aW9uIGJlZm9yZVRyYW5zaXRpb25TdGFydChzd2lwZXIsIHNwZWVkLCBpbnRlcm5hbCkge1xuICAgICAgICBpZiAoc3dpcGVyLmF1dG9wbGF5LnJ1bm5pbmcpIHtcbiAgICAgICAgICBpZiAoaW50ZXJuYWwgfHwgIXN3aXBlci5wYXJhbXMuYXV0b3BsYXkuZGlzYWJsZU9uSW50ZXJhY3Rpb24pIHtcbiAgICAgICAgICAgIHN3aXBlci5hdXRvcGxheS5wYXVzZShzcGVlZCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN3aXBlci5hdXRvcGxheS5zdG9wKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgc2xpZGVyRmlyc3RNb3ZlOiBmdW5jdGlvbiBzbGlkZXJGaXJzdE1vdmUoc3dpcGVyKSB7XG4gICAgICAgIGlmIChzd2lwZXIuYXV0b3BsYXkucnVubmluZykge1xuICAgICAgICAgIGlmIChzd2lwZXIucGFyYW1zLmF1dG9wbGF5LmRpc2FibGVPbkludGVyYWN0aW9uKSB7XG4gICAgICAgICAgICBzd2lwZXIuYXV0b3BsYXkuc3RvcCgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzd2lwZXIuYXV0b3BsYXkucGF1c2UoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB0b3VjaEVuZDogZnVuY3Rpb24gdG91Y2hFbmQoc3dpcGVyKSB7XG4gICAgICAgIGlmIChzd2lwZXIucGFyYW1zLmNzc01vZGUgJiYgc3dpcGVyLmF1dG9wbGF5LnBhdXNlZCAmJiAhc3dpcGVyLnBhcmFtcy5hdXRvcGxheS5kaXNhYmxlT25JbnRlcmFjdGlvbikge1xuICAgICAgICAgIHN3aXBlci5hdXRvcGxheS5ydW4oKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koc3dpcGVyKSB7XG4gICAgICAgIHN3aXBlci5hdXRvcGxheS5kZXRhY2hNb3VzZUV2ZW50cygpO1xuXG4gICAgICAgIGlmIChzd2lwZXIuYXV0b3BsYXkucnVubmluZykge1xuICAgICAgICAgIHN3aXBlci5hdXRvcGxheS5zdG9wKCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZG9jdW1lbnQgPSBnZXREb2N1bWVudCgpO1xuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd2aXNpYmlsaXR5Y2hhbmdlJywgc3dpcGVyLmF1dG9wbGF5Lm9uVmlzaWJpbGl0eUNoYW5nZSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHZhciBGYWRlID0ge1xuICAgIHNldFRyYW5zbGF0ZTogZnVuY3Rpb24gc2V0VHJhbnNsYXRlKCkge1xuICAgICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgICB2YXIgc2xpZGVzID0gc3dpcGVyLnNsaWRlcztcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzbGlkZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgdmFyICRzbGlkZUVsID0gc3dpcGVyLnNsaWRlcy5lcShpKTtcbiAgICAgICAgdmFyIG9mZnNldCA9ICRzbGlkZUVsWzBdLnN3aXBlclNsaWRlT2Zmc2V0O1xuICAgICAgICB2YXIgdHggPSAtb2Zmc2V0O1xuICAgICAgICBpZiAoIXN3aXBlci5wYXJhbXMudmlydHVhbFRyYW5zbGF0ZSkgdHggLT0gc3dpcGVyLnRyYW5zbGF0ZTtcbiAgICAgICAgdmFyIHR5ID0gMDtcblxuICAgICAgICBpZiAoIXN3aXBlci5pc0hvcml6b250YWwoKSkge1xuICAgICAgICAgIHR5ID0gdHg7XG4gICAgICAgICAgdHggPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNsaWRlT3BhY2l0eSA9IHN3aXBlci5wYXJhbXMuZmFkZUVmZmVjdC5jcm9zc0ZhZGUgPyBNYXRoLm1heCgxIC0gTWF0aC5hYnMoJHNsaWRlRWxbMF0ucHJvZ3Jlc3MpLCAwKSA6IDEgKyBNYXRoLm1pbihNYXRoLm1heCgkc2xpZGVFbFswXS5wcm9ncmVzcywgLTEpLCAwKTtcbiAgICAgICAgJHNsaWRlRWwuY3NzKHtcbiAgICAgICAgICBvcGFjaXR5OiBzbGlkZU9wYWNpdHlcbiAgICAgICAgfSkudHJhbnNmb3JtKFwidHJhbnNsYXRlM2QoXCIgKyB0eCArIFwicHgsIFwiICsgdHkgKyBcInB4LCAwcHgpXCIpO1xuICAgICAgfVxuICAgIH0sXG4gICAgc2V0VHJhbnNpdGlvbjogZnVuY3Rpb24gc2V0VHJhbnNpdGlvbihkdXJhdGlvbikge1xuICAgICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgICB2YXIgc2xpZGVzID0gc3dpcGVyLnNsaWRlcyxcbiAgICAgICAgICAkd3JhcHBlckVsID0gc3dpcGVyLiR3cmFwcGVyRWw7XG4gICAgICBzbGlkZXMudHJhbnNpdGlvbihkdXJhdGlvbik7XG5cbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLnZpcnR1YWxUcmFuc2xhdGUgJiYgZHVyYXRpb24gIT09IDApIHtcbiAgICAgICAgdmFyIGV2ZW50VHJpZ2dlcmVkID0gZmFsc2U7XG4gICAgICAgIHNsaWRlcy50cmFuc2l0aW9uRW5kKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAoZXZlbnRUcmlnZ2VyZWQpIHJldHVybjtcbiAgICAgICAgICBpZiAoIXN3aXBlciB8fCBzd2lwZXIuZGVzdHJveWVkKSByZXR1cm47XG4gICAgICAgICAgZXZlbnRUcmlnZ2VyZWQgPSB0cnVlO1xuICAgICAgICAgIHN3aXBlci5hbmltYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgICB2YXIgdHJpZ2dlckV2ZW50cyA9IFsnd2Via2l0VHJhbnNpdGlvbkVuZCcsICd0cmFuc2l0aW9uZW5kJ107XG5cbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRyaWdnZXJFdmVudHMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgICR3cmFwcGVyRWwudHJpZ2dlcih0cmlnZ2VyRXZlbnRzW2ldKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgdmFyIEVmZmVjdEZhZGUgPSB7XG4gICAgbmFtZTogJ2VmZmVjdC1mYWRlJyxcbiAgICBwYXJhbXM6IHtcbiAgICAgIGZhZGVFZmZlY3Q6IHtcbiAgICAgICAgY3Jvc3NGYWRlOiBmYWxzZVxuICAgICAgfVxuICAgIH0sXG4gICAgY3JlYXRlOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gICAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICAgIGJpbmRNb2R1bGVNZXRob2RzKHN3aXBlciwge1xuICAgICAgICBmYWRlRWZmZWN0OiBfZXh0ZW5kcyh7fSwgRmFkZSlcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgb246IHtcbiAgICAgIGJlZm9yZUluaXQ6IGZ1bmN0aW9uIGJlZm9yZUluaXQoc3dpcGVyKSB7XG4gICAgICAgIGlmIChzd2lwZXIucGFyYW1zLmVmZmVjdCAhPT0gJ2ZhZGUnKSByZXR1cm47XG4gICAgICAgIHN3aXBlci5jbGFzc05hbWVzLnB1c2goc3dpcGVyLnBhcmFtcy5jb250YWluZXJNb2RpZmllckNsYXNzICsgXCJmYWRlXCIpO1xuICAgICAgICB2YXIgb3ZlcndyaXRlUGFyYW1zID0ge1xuICAgICAgICAgIHNsaWRlc1BlclZpZXc6IDEsXG4gICAgICAgICAgc2xpZGVzUGVyQ29sdW1uOiAxLFxuICAgICAgICAgIHNsaWRlc1Blckdyb3VwOiAxLFxuICAgICAgICAgIHdhdGNoU2xpZGVzUHJvZ3Jlc3M6IHRydWUsXG4gICAgICAgICAgc3BhY2VCZXR3ZWVuOiAwLFxuICAgICAgICAgIHZpcnR1YWxUcmFuc2xhdGU6IHRydWVcbiAgICAgICAgfTtcbiAgICAgICAgZXh0ZW5kKHN3aXBlci5wYXJhbXMsIG92ZXJ3cml0ZVBhcmFtcyk7XG4gICAgICAgIGV4dGVuZChzd2lwZXIub3JpZ2luYWxQYXJhbXMsIG92ZXJ3cml0ZVBhcmFtcyk7XG4gICAgICB9LFxuICAgICAgc2V0VHJhbnNsYXRlOiBmdW5jdGlvbiBzZXRUcmFuc2xhdGUoc3dpcGVyKSB7XG4gICAgICAgIGlmIChzd2lwZXIucGFyYW1zLmVmZmVjdCAhPT0gJ2ZhZGUnKSByZXR1cm47XG4gICAgICAgIHN3aXBlci5mYWRlRWZmZWN0LnNldFRyYW5zbGF0ZSgpO1xuICAgICAgfSxcbiAgICAgIHNldFRyYW5zaXRpb246IGZ1bmN0aW9uIHNldFRyYW5zaXRpb24oc3dpcGVyLCBkdXJhdGlvbikge1xuICAgICAgICBpZiAoc3dpcGVyLnBhcmFtcy5lZmZlY3QgIT09ICdmYWRlJykgcmV0dXJuO1xuICAgICAgICBzd2lwZXIuZmFkZUVmZmVjdC5zZXRUcmFuc2l0aW9uKGR1cmF0aW9uKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgdmFyIEN1YmUgPSB7XG4gICAgc2V0VHJhbnNsYXRlOiBmdW5jdGlvbiBzZXRUcmFuc2xhdGUoKSB7XG4gICAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICAgIHZhciAkZWwgPSBzd2lwZXIuJGVsLFxuICAgICAgICAgICR3cmFwcGVyRWwgPSBzd2lwZXIuJHdyYXBwZXJFbCxcbiAgICAgICAgICBzbGlkZXMgPSBzd2lwZXIuc2xpZGVzLFxuICAgICAgICAgIHN3aXBlcldpZHRoID0gc3dpcGVyLndpZHRoLFxuICAgICAgICAgIHN3aXBlckhlaWdodCA9IHN3aXBlci5oZWlnaHQsXG4gICAgICAgICAgcnRsID0gc3dpcGVyLnJ0bFRyYW5zbGF0ZSxcbiAgICAgICAgICBzd2lwZXJTaXplID0gc3dpcGVyLnNpemUsXG4gICAgICAgICAgYnJvd3NlciA9IHN3aXBlci5icm93c2VyO1xuICAgICAgdmFyIHBhcmFtcyA9IHN3aXBlci5wYXJhbXMuY3ViZUVmZmVjdDtcbiAgICAgIHZhciBpc0hvcml6b250YWwgPSBzd2lwZXIuaXNIb3Jpem9udGFsKCk7XG4gICAgICB2YXIgaXNWaXJ0dWFsID0gc3dpcGVyLnZpcnR1YWwgJiYgc3dpcGVyLnBhcmFtcy52aXJ0dWFsLmVuYWJsZWQ7XG4gICAgICB2YXIgd3JhcHBlclJvdGF0ZSA9IDA7XG4gICAgICB2YXIgJGN1YmVTaGFkb3dFbDtcblxuICAgICAgaWYgKHBhcmFtcy5zaGFkb3cpIHtcbiAgICAgICAgaWYgKGlzSG9yaXpvbnRhbCkge1xuICAgICAgICAgICRjdWJlU2hhZG93RWwgPSAkd3JhcHBlckVsLmZpbmQoJy5zd2lwZXItY3ViZS1zaGFkb3cnKTtcblxuICAgICAgICAgIGlmICgkY3ViZVNoYWRvd0VsLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgJGN1YmVTaGFkb3dFbCA9ICQoJzxkaXYgY2xhc3M9XCJzd2lwZXItY3ViZS1zaGFkb3dcIj48L2Rpdj4nKTtcbiAgICAgICAgICAgICR3cmFwcGVyRWwuYXBwZW5kKCRjdWJlU2hhZG93RWwpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgICRjdWJlU2hhZG93RWwuY3NzKHtcbiAgICAgICAgICAgIGhlaWdodDogc3dpcGVyV2lkdGggKyBcInB4XCJcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkY3ViZVNoYWRvd0VsID0gJGVsLmZpbmQoJy5zd2lwZXItY3ViZS1zaGFkb3cnKTtcblxuICAgICAgICAgIGlmICgkY3ViZVNoYWRvd0VsLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgJGN1YmVTaGFkb3dFbCA9ICQoJzxkaXYgY2xhc3M9XCJzd2lwZXItY3ViZS1zaGFkb3dcIj48L2Rpdj4nKTtcbiAgICAgICAgICAgICRlbC5hcHBlbmQoJGN1YmVTaGFkb3dFbCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2xpZGVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIHZhciAkc2xpZGVFbCA9IHNsaWRlcy5lcShpKTtcbiAgICAgICAgdmFyIHNsaWRlSW5kZXggPSBpO1xuXG4gICAgICAgIGlmIChpc1ZpcnR1YWwpIHtcbiAgICAgICAgICBzbGlkZUluZGV4ID0gcGFyc2VJbnQoJHNsaWRlRWwuYXR0cignZGF0YS1zd2lwZXItc2xpZGUtaW5kZXgnKSwgMTApO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNsaWRlQW5nbGUgPSBzbGlkZUluZGV4ICogOTA7XG4gICAgICAgIHZhciByb3VuZCA9IE1hdGguZmxvb3Ioc2xpZGVBbmdsZSAvIDM2MCk7XG5cbiAgICAgICAgaWYgKHJ0bCkge1xuICAgICAgICAgIHNsaWRlQW5nbGUgPSAtc2xpZGVBbmdsZTtcbiAgICAgICAgICByb3VuZCA9IE1hdGguZmxvb3IoLXNsaWRlQW5nbGUgLyAzNjApO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHByb2dyZXNzID0gTWF0aC5tYXgoTWF0aC5taW4oJHNsaWRlRWxbMF0ucHJvZ3Jlc3MsIDEpLCAtMSk7XG4gICAgICAgIHZhciB0eCA9IDA7XG4gICAgICAgIHZhciB0eSA9IDA7XG4gICAgICAgIHZhciB0eiA9IDA7XG5cbiAgICAgICAgaWYgKHNsaWRlSW5kZXggJSA0ID09PSAwKSB7XG4gICAgICAgICAgdHggPSAtcm91bmQgKiA0ICogc3dpcGVyU2l6ZTtcbiAgICAgICAgICB0eiA9IDA7XG4gICAgICAgIH0gZWxzZSBpZiAoKHNsaWRlSW5kZXggLSAxKSAlIDQgPT09IDApIHtcbiAgICAgICAgICB0eCA9IDA7XG4gICAgICAgICAgdHogPSAtcm91bmQgKiA0ICogc3dpcGVyU2l6ZTtcbiAgICAgICAgfSBlbHNlIGlmICgoc2xpZGVJbmRleCAtIDIpICUgNCA9PT0gMCkge1xuICAgICAgICAgIHR4ID0gc3dpcGVyU2l6ZSArIHJvdW5kICogNCAqIHN3aXBlclNpemU7XG4gICAgICAgICAgdHogPSBzd2lwZXJTaXplO1xuICAgICAgICB9IGVsc2UgaWYgKChzbGlkZUluZGV4IC0gMykgJSA0ID09PSAwKSB7XG4gICAgICAgICAgdHggPSAtc3dpcGVyU2l6ZTtcbiAgICAgICAgICB0eiA9IDMgKiBzd2lwZXJTaXplICsgc3dpcGVyU2l6ZSAqIDQgKiByb3VuZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChydGwpIHtcbiAgICAgICAgICB0eCA9IC10eDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghaXNIb3Jpem9udGFsKSB7XG4gICAgICAgICAgdHkgPSB0eDtcbiAgICAgICAgICB0eCA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdHJhbnNmb3JtID0gXCJyb3RhdGVYKFwiICsgKGlzSG9yaXpvbnRhbCA/IDAgOiAtc2xpZGVBbmdsZSkgKyBcImRlZykgcm90YXRlWShcIiArIChpc0hvcml6b250YWwgPyBzbGlkZUFuZ2xlIDogMCkgKyBcImRlZykgdHJhbnNsYXRlM2QoXCIgKyB0eCArIFwicHgsIFwiICsgdHkgKyBcInB4LCBcIiArIHR6ICsgXCJweClcIjtcblxuICAgICAgICBpZiAocHJvZ3Jlc3MgPD0gMSAmJiBwcm9ncmVzcyA+IC0xKSB7XG4gICAgICAgICAgd3JhcHBlclJvdGF0ZSA9IHNsaWRlSW5kZXggKiA5MCArIHByb2dyZXNzICogOTA7XG4gICAgICAgICAgaWYgKHJ0bCkgd3JhcHBlclJvdGF0ZSA9IC1zbGlkZUluZGV4ICogOTAgLSBwcm9ncmVzcyAqIDkwO1xuICAgICAgICB9XG5cbiAgICAgICAgJHNsaWRlRWwudHJhbnNmb3JtKHRyYW5zZm9ybSk7XG5cbiAgICAgICAgaWYgKHBhcmFtcy5zbGlkZVNoYWRvd3MpIHtcbiAgICAgICAgICAvLyBTZXQgc2hhZG93c1xuICAgICAgICAgIHZhciBzaGFkb3dCZWZvcmUgPSBpc0hvcml6b250YWwgPyAkc2xpZGVFbC5maW5kKCcuc3dpcGVyLXNsaWRlLXNoYWRvdy1sZWZ0JykgOiAkc2xpZGVFbC5maW5kKCcuc3dpcGVyLXNsaWRlLXNoYWRvdy10b3AnKTtcbiAgICAgICAgICB2YXIgc2hhZG93QWZ0ZXIgPSBpc0hvcml6b250YWwgPyAkc2xpZGVFbC5maW5kKCcuc3dpcGVyLXNsaWRlLXNoYWRvdy1yaWdodCcpIDogJHNsaWRlRWwuZmluZCgnLnN3aXBlci1zbGlkZS1zaGFkb3ctYm90dG9tJyk7XG5cbiAgICAgICAgICBpZiAoc2hhZG93QmVmb3JlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgc2hhZG93QmVmb3JlID0gJChcIjxkaXYgY2xhc3M9XFxcInN3aXBlci1zbGlkZS1zaGFkb3ctXCIgKyAoaXNIb3Jpem9udGFsID8gJ2xlZnQnIDogJ3RvcCcpICsgXCJcXFwiPjwvZGl2PlwiKTtcbiAgICAgICAgICAgICRzbGlkZUVsLmFwcGVuZChzaGFkb3dCZWZvcmUpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChzaGFkb3dBZnRlci5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHNoYWRvd0FmdGVyID0gJChcIjxkaXYgY2xhc3M9XFxcInN3aXBlci1zbGlkZS1zaGFkb3ctXCIgKyAoaXNIb3Jpem9udGFsID8gJ3JpZ2h0JyA6ICdib3R0b20nKSArIFwiXFxcIj48L2Rpdj5cIik7XG4gICAgICAgICAgICAkc2xpZGVFbC5hcHBlbmQoc2hhZG93QWZ0ZXIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChzaGFkb3dCZWZvcmUubGVuZ3RoKSBzaGFkb3dCZWZvcmVbMF0uc3R5bGUub3BhY2l0eSA9IE1hdGgubWF4KC1wcm9ncmVzcywgMCk7XG4gICAgICAgICAgaWYgKHNoYWRvd0FmdGVyLmxlbmd0aCkgc2hhZG93QWZ0ZXJbMF0uc3R5bGUub3BhY2l0eSA9IE1hdGgubWF4KHByb2dyZXNzLCAwKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAkd3JhcHBlckVsLmNzcyh7XG4gICAgICAgICctd2Via2l0LXRyYW5zZm9ybS1vcmlnaW4nOiBcIjUwJSA1MCUgLVwiICsgc3dpcGVyU2l6ZSAvIDIgKyBcInB4XCIsXG4gICAgICAgICctbW96LXRyYW5zZm9ybS1vcmlnaW4nOiBcIjUwJSA1MCUgLVwiICsgc3dpcGVyU2l6ZSAvIDIgKyBcInB4XCIsXG4gICAgICAgICctbXMtdHJhbnNmb3JtLW9yaWdpbic6IFwiNTAlIDUwJSAtXCIgKyBzd2lwZXJTaXplIC8gMiArIFwicHhcIixcbiAgICAgICAgJ3RyYW5zZm9ybS1vcmlnaW4nOiBcIjUwJSA1MCUgLVwiICsgc3dpcGVyU2l6ZSAvIDIgKyBcInB4XCJcbiAgICAgIH0pO1xuXG4gICAgICBpZiAocGFyYW1zLnNoYWRvdykge1xuICAgICAgICBpZiAoaXNIb3Jpem9udGFsKSB7XG4gICAgICAgICAgJGN1YmVTaGFkb3dFbC50cmFuc2Zvcm0oXCJ0cmFuc2xhdGUzZCgwcHgsIFwiICsgKHN3aXBlcldpZHRoIC8gMiArIHBhcmFtcy5zaGFkb3dPZmZzZXQpICsgXCJweCwgXCIgKyAtc3dpcGVyV2lkdGggLyAyICsgXCJweCkgcm90YXRlWCg5MGRlZykgcm90YXRlWigwZGVnKSBzY2FsZShcIiArIHBhcmFtcy5zaGFkb3dTY2FsZSArIFwiKVwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgc2hhZG93QW5nbGUgPSBNYXRoLmFicyh3cmFwcGVyUm90YXRlKSAtIE1hdGguZmxvb3IoTWF0aC5hYnMod3JhcHBlclJvdGF0ZSkgLyA5MCkgKiA5MDtcbiAgICAgICAgICB2YXIgbXVsdGlwbGllciA9IDEuNSAtIChNYXRoLnNpbihzaGFkb3dBbmdsZSAqIDIgKiBNYXRoLlBJIC8gMzYwKSAvIDIgKyBNYXRoLmNvcyhzaGFkb3dBbmdsZSAqIDIgKiBNYXRoLlBJIC8gMzYwKSAvIDIpO1xuICAgICAgICAgIHZhciBzY2FsZTEgPSBwYXJhbXMuc2hhZG93U2NhbGU7XG4gICAgICAgICAgdmFyIHNjYWxlMiA9IHBhcmFtcy5zaGFkb3dTY2FsZSAvIG11bHRpcGxpZXI7XG4gICAgICAgICAgdmFyIG9mZnNldCA9IHBhcmFtcy5zaGFkb3dPZmZzZXQ7XG4gICAgICAgICAgJGN1YmVTaGFkb3dFbC50cmFuc2Zvcm0oXCJzY2FsZTNkKFwiICsgc2NhbGUxICsgXCIsIDEsIFwiICsgc2NhbGUyICsgXCIpIHRyYW5zbGF0ZTNkKDBweCwgXCIgKyAoc3dpcGVySGVpZ2h0IC8gMiArIG9mZnNldCkgKyBcInB4LCBcIiArIC1zd2lwZXJIZWlnaHQgLyAyIC8gc2NhbGUyICsgXCJweCkgcm90YXRlWCgtOTBkZWcpXCIpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciB6RmFjdG9yID0gYnJvd3Nlci5pc1NhZmFyaSB8fCBicm93c2VyLmlzV2ViVmlldyA/IC1zd2lwZXJTaXplIC8gMiA6IDA7XG4gICAgICAkd3JhcHBlckVsLnRyYW5zZm9ybShcInRyYW5zbGF0ZTNkKDBweCwwLFwiICsgekZhY3RvciArIFwicHgpIHJvdGF0ZVgoXCIgKyAoc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gMCA6IHdyYXBwZXJSb3RhdGUpICsgXCJkZWcpIHJvdGF0ZVkoXCIgKyAoc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gLXdyYXBwZXJSb3RhdGUgOiAwKSArIFwiZGVnKVwiKTtcbiAgICB9LFxuICAgIHNldFRyYW5zaXRpb246IGZ1bmN0aW9uIHNldFRyYW5zaXRpb24oZHVyYXRpb24pIHtcbiAgICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgICAgdmFyICRlbCA9IHN3aXBlci4kZWwsXG4gICAgICAgICAgc2xpZGVzID0gc3dpcGVyLnNsaWRlcztcbiAgICAgIHNsaWRlcy50cmFuc2l0aW9uKGR1cmF0aW9uKS5maW5kKCcuc3dpcGVyLXNsaWRlLXNoYWRvdy10b3AsIC5zd2lwZXItc2xpZGUtc2hhZG93LXJpZ2h0LCAuc3dpcGVyLXNsaWRlLXNoYWRvdy1ib3R0b20sIC5zd2lwZXItc2xpZGUtc2hhZG93LWxlZnQnKS50cmFuc2l0aW9uKGR1cmF0aW9uKTtcblxuICAgICAgaWYgKHN3aXBlci5wYXJhbXMuY3ViZUVmZmVjdC5zaGFkb3cgJiYgIXN3aXBlci5pc0hvcml6b250YWwoKSkge1xuICAgICAgICAkZWwuZmluZCgnLnN3aXBlci1jdWJlLXNoYWRvdycpLnRyYW5zaXRpb24oZHVyYXRpb24pO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgdmFyIEVmZmVjdEN1YmUgPSB7XG4gICAgbmFtZTogJ2VmZmVjdC1jdWJlJyxcbiAgICBwYXJhbXM6IHtcbiAgICAgIGN1YmVFZmZlY3Q6IHtcbiAgICAgICAgc2xpZGVTaGFkb3dzOiB0cnVlLFxuICAgICAgICBzaGFkb3c6IHRydWUsXG4gICAgICAgIHNoYWRvd09mZnNldDogMjAsXG4gICAgICAgIHNoYWRvd1NjYWxlOiAwLjk0XG4gICAgICB9XG4gICAgfSxcbiAgICBjcmVhdGU6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgICAgYmluZE1vZHVsZU1ldGhvZHMoc3dpcGVyLCB7XG4gICAgICAgIGN1YmVFZmZlY3Q6IF9leHRlbmRzKHt9LCBDdWJlKVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBvbjoge1xuICAgICAgYmVmb3JlSW5pdDogZnVuY3Rpb24gYmVmb3JlSW5pdChzd2lwZXIpIHtcbiAgICAgICAgaWYgKHN3aXBlci5wYXJhbXMuZWZmZWN0ICE9PSAnY3ViZScpIHJldHVybjtcbiAgICAgICAgc3dpcGVyLmNsYXNzTmFtZXMucHVzaChzd2lwZXIucGFyYW1zLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3MgKyBcImN1YmVcIik7XG4gICAgICAgIHN3aXBlci5jbGFzc05hbWVzLnB1c2goc3dpcGVyLnBhcmFtcy5jb250YWluZXJNb2RpZmllckNsYXNzICsgXCIzZFwiKTtcbiAgICAgICAgdmFyIG92ZXJ3cml0ZVBhcmFtcyA9IHtcbiAgICAgICAgICBzbGlkZXNQZXJWaWV3OiAxLFxuICAgICAgICAgIHNsaWRlc1BlckNvbHVtbjogMSxcbiAgICAgICAgICBzbGlkZXNQZXJHcm91cDogMSxcbiAgICAgICAgICB3YXRjaFNsaWRlc1Byb2dyZXNzOiB0cnVlLFxuICAgICAgICAgIHJlc2lzdGFuY2VSYXRpbzogMCxcbiAgICAgICAgICBzcGFjZUJldHdlZW46IDAsXG4gICAgICAgICAgY2VudGVyZWRTbGlkZXM6IGZhbHNlLFxuICAgICAgICAgIHZpcnR1YWxUcmFuc2xhdGU6IHRydWVcbiAgICAgICAgfTtcbiAgICAgICAgZXh0ZW5kKHN3aXBlci5wYXJhbXMsIG92ZXJ3cml0ZVBhcmFtcyk7XG4gICAgICAgIGV4dGVuZChzd2lwZXIub3JpZ2luYWxQYXJhbXMsIG92ZXJ3cml0ZVBhcmFtcyk7XG4gICAgICB9LFxuICAgICAgc2V0VHJhbnNsYXRlOiBmdW5jdGlvbiBzZXRUcmFuc2xhdGUoc3dpcGVyKSB7XG4gICAgICAgIGlmIChzd2lwZXIucGFyYW1zLmVmZmVjdCAhPT0gJ2N1YmUnKSByZXR1cm47XG4gICAgICAgIHN3aXBlci5jdWJlRWZmZWN0LnNldFRyYW5zbGF0ZSgpO1xuICAgICAgfSxcbiAgICAgIHNldFRyYW5zaXRpb246IGZ1bmN0aW9uIHNldFRyYW5zaXRpb24oc3dpcGVyLCBkdXJhdGlvbikge1xuICAgICAgICBpZiAoc3dpcGVyLnBhcmFtcy5lZmZlY3QgIT09ICdjdWJlJykgcmV0dXJuO1xuICAgICAgICBzd2lwZXIuY3ViZUVmZmVjdC5zZXRUcmFuc2l0aW9uKGR1cmF0aW9uKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgdmFyIEZsaXAgPSB7XG4gICAgc2V0VHJhbnNsYXRlOiBmdW5jdGlvbiBzZXRUcmFuc2xhdGUoKSB7XG4gICAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICAgIHZhciBzbGlkZXMgPSBzd2lwZXIuc2xpZGVzLFxuICAgICAgICAgIHJ0bCA9IHN3aXBlci5ydGxUcmFuc2xhdGU7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2xpZGVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIHZhciAkc2xpZGVFbCA9IHNsaWRlcy5lcShpKTtcbiAgICAgICAgdmFyIHByb2dyZXNzID0gJHNsaWRlRWxbMF0ucHJvZ3Jlc3M7XG5cbiAgICAgICAgaWYgKHN3aXBlci5wYXJhbXMuZmxpcEVmZmVjdC5saW1pdFJvdGF0aW9uKSB7XG4gICAgICAgICAgcHJvZ3Jlc3MgPSBNYXRoLm1heChNYXRoLm1pbigkc2xpZGVFbFswXS5wcm9ncmVzcywgMSksIC0xKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBvZmZzZXQgPSAkc2xpZGVFbFswXS5zd2lwZXJTbGlkZU9mZnNldDtcbiAgICAgICAgdmFyIHJvdGF0ZSA9IC0xODAgKiBwcm9ncmVzcztcbiAgICAgICAgdmFyIHJvdGF0ZVkgPSByb3RhdGU7XG4gICAgICAgIHZhciByb3RhdGVYID0gMDtcbiAgICAgICAgdmFyIHR4ID0gLW9mZnNldDtcbiAgICAgICAgdmFyIHR5ID0gMDtcblxuICAgICAgICBpZiAoIXN3aXBlci5pc0hvcml6b250YWwoKSkge1xuICAgICAgICAgIHR5ID0gdHg7XG4gICAgICAgICAgdHggPSAwO1xuICAgICAgICAgIHJvdGF0ZVggPSAtcm90YXRlWTtcbiAgICAgICAgICByb3RhdGVZID0gMDtcbiAgICAgICAgfSBlbHNlIGlmIChydGwpIHtcbiAgICAgICAgICByb3RhdGVZID0gLXJvdGF0ZVk7XG4gICAgICAgIH1cblxuICAgICAgICAkc2xpZGVFbFswXS5zdHlsZS56SW5kZXggPSAtTWF0aC5hYnMoTWF0aC5yb3VuZChwcm9ncmVzcykpICsgc2xpZGVzLmxlbmd0aDtcblxuICAgICAgICBpZiAoc3dpcGVyLnBhcmFtcy5mbGlwRWZmZWN0LnNsaWRlU2hhZG93cykge1xuICAgICAgICAgIC8vIFNldCBzaGFkb3dzXG4gICAgICAgICAgdmFyIHNoYWRvd0JlZm9yZSA9IHN3aXBlci5pc0hvcml6b250YWwoKSA/ICRzbGlkZUVsLmZpbmQoJy5zd2lwZXItc2xpZGUtc2hhZG93LWxlZnQnKSA6ICRzbGlkZUVsLmZpbmQoJy5zd2lwZXItc2xpZGUtc2hhZG93LXRvcCcpO1xuICAgICAgICAgIHZhciBzaGFkb3dBZnRlciA9IHN3aXBlci5pc0hvcml6b250YWwoKSA/ICRzbGlkZUVsLmZpbmQoJy5zd2lwZXItc2xpZGUtc2hhZG93LXJpZ2h0JykgOiAkc2xpZGVFbC5maW5kKCcuc3dpcGVyLXNsaWRlLXNoYWRvdy1ib3R0b20nKTtcblxuICAgICAgICAgIGlmIChzaGFkb3dCZWZvcmUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBzaGFkb3dCZWZvcmUgPSAkKFwiPGRpdiBjbGFzcz1cXFwic3dpcGVyLXNsaWRlLXNoYWRvdy1cIiArIChzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyAnbGVmdCcgOiAndG9wJykgKyBcIlxcXCI+PC9kaXY+XCIpO1xuICAgICAgICAgICAgJHNsaWRlRWwuYXBwZW5kKHNoYWRvd0JlZm9yZSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHNoYWRvd0FmdGVyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgc2hhZG93QWZ0ZXIgPSAkKFwiPGRpdiBjbGFzcz1cXFwic3dpcGVyLXNsaWRlLXNoYWRvdy1cIiArIChzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyAncmlnaHQnIDogJ2JvdHRvbScpICsgXCJcXFwiPjwvZGl2PlwiKTtcbiAgICAgICAgICAgICRzbGlkZUVsLmFwcGVuZChzaGFkb3dBZnRlcik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHNoYWRvd0JlZm9yZS5sZW5ndGgpIHNoYWRvd0JlZm9yZVswXS5zdHlsZS5vcGFjaXR5ID0gTWF0aC5tYXgoLXByb2dyZXNzLCAwKTtcbiAgICAgICAgICBpZiAoc2hhZG93QWZ0ZXIubGVuZ3RoKSBzaGFkb3dBZnRlclswXS5zdHlsZS5vcGFjaXR5ID0gTWF0aC5tYXgocHJvZ3Jlc3MsIDApO1xuICAgICAgICB9XG5cbiAgICAgICAgJHNsaWRlRWwudHJhbnNmb3JtKFwidHJhbnNsYXRlM2QoXCIgKyB0eCArIFwicHgsIFwiICsgdHkgKyBcInB4LCAwcHgpIHJvdGF0ZVgoXCIgKyByb3RhdGVYICsgXCJkZWcpIHJvdGF0ZVkoXCIgKyByb3RhdGVZICsgXCJkZWcpXCIpO1xuICAgICAgfVxuICAgIH0sXG4gICAgc2V0VHJhbnNpdGlvbjogZnVuY3Rpb24gc2V0VHJhbnNpdGlvbihkdXJhdGlvbikge1xuICAgICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgICB2YXIgc2xpZGVzID0gc3dpcGVyLnNsaWRlcyxcbiAgICAgICAgICBhY3RpdmVJbmRleCA9IHN3aXBlci5hY3RpdmVJbmRleCxcbiAgICAgICAgICAkd3JhcHBlckVsID0gc3dpcGVyLiR3cmFwcGVyRWw7XG4gICAgICBzbGlkZXMudHJhbnNpdGlvbihkdXJhdGlvbikuZmluZCgnLnN3aXBlci1zbGlkZS1zaGFkb3ctdG9wLCAuc3dpcGVyLXNsaWRlLXNoYWRvdy1yaWdodCwgLnN3aXBlci1zbGlkZS1zaGFkb3ctYm90dG9tLCAuc3dpcGVyLXNsaWRlLXNoYWRvdy1sZWZ0JykudHJhbnNpdGlvbihkdXJhdGlvbik7XG5cbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLnZpcnR1YWxUcmFuc2xhdGUgJiYgZHVyYXRpb24gIT09IDApIHtcbiAgICAgICAgdmFyIGV2ZW50VHJpZ2dlcmVkID0gZmFsc2U7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuXG4gICAgICAgIHNsaWRlcy5lcShhY3RpdmVJbmRleCkudHJhbnNpdGlvbkVuZChmdW5jdGlvbiBvblRyYW5zaXRpb25FbmQoKSB7XG4gICAgICAgICAgaWYgKGV2ZW50VHJpZ2dlcmVkKSByZXR1cm47XG4gICAgICAgICAgaWYgKCFzd2lwZXIgfHwgc3dpcGVyLmRlc3Ryb3llZCkgcmV0dXJuOyAvLyBpZiAoISQodGhpcykuaGFzQ2xhc3Moc3dpcGVyLnBhcmFtcy5zbGlkZUFjdGl2ZUNsYXNzKSkgcmV0dXJuO1xuXG4gICAgICAgICAgZXZlbnRUcmlnZ2VyZWQgPSB0cnVlO1xuICAgICAgICAgIHN3aXBlci5hbmltYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgICB2YXIgdHJpZ2dlckV2ZW50cyA9IFsnd2Via2l0VHJhbnNpdGlvbkVuZCcsICd0cmFuc2l0aW9uZW5kJ107XG5cbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRyaWdnZXJFdmVudHMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgICR3cmFwcGVyRWwudHJpZ2dlcih0cmlnZ2VyRXZlbnRzW2ldKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgdmFyIEVmZmVjdEZsaXAgPSB7XG4gICAgbmFtZTogJ2VmZmVjdC1mbGlwJyxcbiAgICBwYXJhbXM6IHtcbiAgICAgIGZsaXBFZmZlY3Q6IHtcbiAgICAgICAgc2xpZGVTaGFkb3dzOiB0cnVlLFxuICAgICAgICBsaW1pdFJvdGF0aW9uOiB0cnVlXG4gICAgICB9XG4gICAgfSxcbiAgICBjcmVhdGU6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgICAgYmluZE1vZHVsZU1ldGhvZHMoc3dpcGVyLCB7XG4gICAgICAgIGZsaXBFZmZlY3Q6IF9leHRlbmRzKHt9LCBGbGlwKVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBvbjoge1xuICAgICAgYmVmb3JlSW5pdDogZnVuY3Rpb24gYmVmb3JlSW5pdChzd2lwZXIpIHtcbiAgICAgICAgaWYgKHN3aXBlci5wYXJhbXMuZWZmZWN0ICE9PSAnZmxpcCcpIHJldHVybjtcbiAgICAgICAgc3dpcGVyLmNsYXNzTmFtZXMucHVzaChzd2lwZXIucGFyYW1zLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3MgKyBcImZsaXBcIik7XG4gICAgICAgIHN3aXBlci5jbGFzc05hbWVzLnB1c2goc3dpcGVyLnBhcmFtcy5jb250YWluZXJNb2RpZmllckNsYXNzICsgXCIzZFwiKTtcbiAgICAgICAgdmFyIG92ZXJ3cml0ZVBhcmFtcyA9IHtcbiAgICAgICAgICBzbGlkZXNQZXJWaWV3OiAxLFxuICAgICAgICAgIHNsaWRlc1BlckNvbHVtbjogMSxcbiAgICAgICAgICBzbGlkZXNQZXJHcm91cDogMSxcbiAgICAgICAgICB3YXRjaFNsaWRlc1Byb2dyZXNzOiB0cnVlLFxuICAgICAgICAgIHNwYWNlQmV0d2VlbjogMCxcbiAgICAgICAgICB2aXJ0dWFsVHJhbnNsYXRlOiB0cnVlXG4gICAgICAgIH07XG4gICAgICAgIGV4dGVuZChzd2lwZXIucGFyYW1zLCBvdmVyd3JpdGVQYXJhbXMpO1xuICAgICAgICBleHRlbmQoc3dpcGVyLm9yaWdpbmFsUGFyYW1zLCBvdmVyd3JpdGVQYXJhbXMpO1xuICAgICAgfSxcbiAgICAgIHNldFRyYW5zbGF0ZTogZnVuY3Rpb24gc2V0VHJhbnNsYXRlKHN3aXBlcikge1xuICAgICAgICBpZiAoc3dpcGVyLnBhcmFtcy5lZmZlY3QgIT09ICdmbGlwJykgcmV0dXJuO1xuICAgICAgICBzd2lwZXIuZmxpcEVmZmVjdC5zZXRUcmFuc2xhdGUoKTtcbiAgICAgIH0sXG4gICAgICBzZXRUcmFuc2l0aW9uOiBmdW5jdGlvbiBzZXRUcmFuc2l0aW9uKHN3aXBlciwgZHVyYXRpb24pIHtcbiAgICAgICAgaWYgKHN3aXBlci5wYXJhbXMuZWZmZWN0ICE9PSAnZmxpcCcpIHJldHVybjtcbiAgICAgICAgc3dpcGVyLmZsaXBFZmZlY3Quc2V0VHJhbnNpdGlvbihkdXJhdGlvbik7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHZhciBDb3ZlcmZsb3cgPSB7XG4gICAgc2V0VHJhbnNsYXRlOiBmdW5jdGlvbiBzZXRUcmFuc2xhdGUoKSB7XG4gICAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICAgIHZhciBzd2lwZXJXaWR0aCA9IHN3aXBlci53aWR0aCxcbiAgICAgICAgICBzd2lwZXJIZWlnaHQgPSBzd2lwZXIuaGVpZ2h0LFxuICAgICAgICAgIHNsaWRlcyA9IHN3aXBlci5zbGlkZXMsXG4gICAgICAgICAgc2xpZGVzU2l6ZXNHcmlkID0gc3dpcGVyLnNsaWRlc1NpemVzR3JpZDtcbiAgICAgIHZhciBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLmNvdmVyZmxvd0VmZmVjdDtcbiAgICAgIHZhciBpc0hvcml6b250YWwgPSBzd2lwZXIuaXNIb3Jpem9udGFsKCk7XG4gICAgICB2YXIgdHJhbnNmb3JtID0gc3dpcGVyLnRyYW5zbGF0ZTtcbiAgICAgIHZhciBjZW50ZXIgPSBpc0hvcml6b250YWwgPyAtdHJhbnNmb3JtICsgc3dpcGVyV2lkdGggLyAyIDogLXRyYW5zZm9ybSArIHN3aXBlckhlaWdodCAvIDI7XG4gICAgICB2YXIgcm90YXRlID0gaXNIb3Jpem9udGFsID8gcGFyYW1zLnJvdGF0ZSA6IC1wYXJhbXMucm90YXRlO1xuICAgICAgdmFyIHRyYW5zbGF0ZSA9IHBhcmFtcy5kZXB0aDsgLy8gRWFjaCBzbGlkZSBvZmZzZXQgZnJvbSBjZW50ZXJcblxuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IHNsaWRlcy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICB2YXIgJHNsaWRlRWwgPSBzbGlkZXMuZXEoaSk7XG4gICAgICAgIHZhciBzbGlkZVNpemUgPSBzbGlkZXNTaXplc0dyaWRbaV07XG4gICAgICAgIHZhciBzbGlkZU9mZnNldCA9ICRzbGlkZUVsWzBdLnN3aXBlclNsaWRlT2Zmc2V0O1xuICAgICAgICB2YXIgb2Zmc2V0TXVsdGlwbGllciA9IChjZW50ZXIgLSBzbGlkZU9mZnNldCAtIHNsaWRlU2l6ZSAvIDIpIC8gc2xpZGVTaXplICogcGFyYW1zLm1vZGlmaWVyO1xuICAgICAgICB2YXIgcm90YXRlWSA9IGlzSG9yaXpvbnRhbCA/IHJvdGF0ZSAqIG9mZnNldE11bHRpcGxpZXIgOiAwO1xuICAgICAgICB2YXIgcm90YXRlWCA9IGlzSG9yaXpvbnRhbCA/IDAgOiByb3RhdGUgKiBvZmZzZXRNdWx0aXBsaWVyOyAvLyB2YXIgcm90YXRlWiA9IDBcblxuICAgICAgICB2YXIgdHJhbnNsYXRlWiA9IC10cmFuc2xhdGUgKiBNYXRoLmFicyhvZmZzZXRNdWx0aXBsaWVyKTtcbiAgICAgICAgdmFyIHN0cmV0Y2ggPSBwYXJhbXMuc3RyZXRjaDsgLy8gQWxsb3cgcGVyY2VudGFnZSB0byBtYWtlIGEgcmVsYXRpdmUgc3RyZXRjaCBmb3IgcmVzcG9uc2l2ZSBzbGlkZXJzXG5cbiAgICAgICAgaWYgKHR5cGVvZiBzdHJldGNoID09PSAnc3RyaW5nJyAmJiBzdHJldGNoLmluZGV4T2YoJyUnKSAhPT0gLTEpIHtcbiAgICAgICAgICBzdHJldGNoID0gcGFyc2VGbG9hdChwYXJhbXMuc3RyZXRjaCkgLyAxMDAgKiBzbGlkZVNpemU7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdHJhbnNsYXRlWSA9IGlzSG9yaXpvbnRhbCA/IDAgOiBzdHJldGNoICogb2Zmc2V0TXVsdGlwbGllcjtcbiAgICAgICAgdmFyIHRyYW5zbGF0ZVggPSBpc0hvcml6b250YWwgPyBzdHJldGNoICogb2Zmc2V0TXVsdGlwbGllciA6IDA7XG4gICAgICAgIHZhciBzY2FsZSA9IDEgLSAoMSAtIHBhcmFtcy5zY2FsZSkgKiBNYXRoLmFicyhvZmZzZXRNdWx0aXBsaWVyKTsgLy8gRml4IGZvciB1bHRyYSBzbWFsbCB2YWx1ZXNcblxuICAgICAgICBpZiAoTWF0aC5hYnModHJhbnNsYXRlWCkgPCAwLjAwMSkgdHJhbnNsYXRlWCA9IDA7XG4gICAgICAgIGlmIChNYXRoLmFicyh0cmFuc2xhdGVZKSA8IDAuMDAxKSB0cmFuc2xhdGVZID0gMDtcbiAgICAgICAgaWYgKE1hdGguYWJzKHRyYW5zbGF0ZVopIDwgMC4wMDEpIHRyYW5zbGF0ZVogPSAwO1xuICAgICAgICBpZiAoTWF0aC5hYnMocm90YXRlWSkgPCAwLjAwMSkgcm90YXRlWSA9IDA7XG4gICAgICAgIGlmIChNYXRoLmFicyhyb3RhdGVYKSA8IDAuMDAxKSByb3RhdGVYID0gMDtcbiAgICAgICAgaWYgKE1hdGguYWJzKHNjYWxlKSA8IDAuMDAxKSBzY2FsZSA9IDA7XG4gICAgICAgIHZhciBzbGlkZVRyYW5zZm9ybSA9IFwidHJhbnNsYXRlM2QoXCIgKyB0cmFuc2xhdGVYICsgXCJweCxcIiArIHRyYW5zbGF0ZVkgKyBcInB4LFwiICsgdHJhbnNsYXRlWiArIFwicHgpICByb3RhdGVYKFwiICsgcm90YXRlWCArIFwiZGVnKSByb3RhdGVZKFwiICsgcm90YXRlWSArIFwiZGVnKSBzY2FsZShcIiArIHNjYWxlICsgXCIpXCI7XG4gICAgICAgICRzbGlkZUVsLnRyYW5zZm9ybShzbGlkZVRyYW5zZm9ybSk7XG4gICAgICAgICRzbGlkZUVsWzBdLnN0eWxlLnpJbmRleCA9IC1NYXRoLmFicyhNYXRoLnJvdW5kKG9mZnNldE11bHRpcGxpZXIpKSArIDE7XG5cbiAgICAgICAgaWYgKHBhcmFtcy5zbGlkZVNoYWRvd3MpIHtcbiAgICAgICAgICAvLyBTZXQgc2hhZG93c1xuICAgICAgICAgIHZhciAkc2hhZG93QmVmb3JlRWwgPSBpc0hvcml6b250YWwgPyAkc2xpZGVFbC5maW5kKCcuc3dpcGVyLXNsaWRlLXNoYWRvdy1sZWZ0JykgOiAkc2xpZGVFbC5maW5kKCcuc3dpcGVyLXNsaWRlLXNoYWRvdy10b3AnKTtcbiAgICAgICAgICB2YXIgJHNoYWRvd0FmdGVyRWwgPSBpc0hvcml6b250YWwgPyAkc2xpZGVFbC5maW5kKCcuc3dpcGVyLXNsaWRlLXNoYWRvdy1yaWdodCcpIDogJHNsaWRlRWwuZmluZCgnLnN3aXBlci1zbGlkZS1zaGFkb3ctYm90dG9tJyk7XG5cbiAgICAgICAgICBpZiAoJHNoYWRvd0JlZm9yZUVsLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgJHNoYWRvd0JlZm9yZUVsID0gJChcIjxkaXYgY2xhc3M9XFxcInN3aXBlci1zbGlkZS1zaGFkb3ctXCIgKyAoaXNIb3Jpem9udGFsID8gJ2xlZnQnIDogJ3RvcCcpICsgXCJcXFwiPjwvZGl2PlwiKTtcbiAgICAgICAgICAgICRzbGlkZUVsLmFwcGVuZCgkc2hhZG93QmVmb3JlRWwpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICgkc2hhZG93QWZ0ZXJFbC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICRzaGFkb3dBZnRlckVsID0gJChcIjxkaXYgY2xhc3M9XFxcInN3aXBlci1zbGlkZS1zaGFkb3ctXCIgKyAoaXNIb3Jpem9udGFsID8gJ3JpZ2h0JyA6ICdib3R0b20nKSArIFwiXFxcIj48L2Rpdj5cIik7XG4gICAgICAgICAgICAkc2xpZGVFbC5hcHBlbmQoJHNoYWRvd0FmdGVyRWwpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICgkc2hhZG93QmVmb3JlRWwubGVuZ3RoKSAkc2hhZG93QmVmb3JlRWxbMF0uc3R5bGUub3BhY2l0eSA9IG9mZnNldE11bHRpcGxpZXIgPiAwID8gb2Zmc2V0TXVsdGlwbGllciA6IDA7XG4gICAgICAgICAgaWYgKCRzaGFkb3dBZnRlckVsLmxlbmd0aCkgJHNoYWRvd0FmdGVyRWxbMF0uc3R5bGUub3BhY2l0eSA9IC1vZmZzZXRNdWx0aXBsaWVyID4gMCA/IC1vZmZzZXRNdWx0aXBsaWVyIDogMDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgc2V0VHJhbnNpdGlvbjogZnVuY3Rpb24gc2V0VHJhbnNpdGlvbihkdXJhdGlvbikge1xuICAgICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgICBzd2lwZXIuc2xpZGVzLnRyYW5zaXRpb24oZHVyYXRpb24pLmZpbmQoJy5zd2lwZXItc2xpZGUtc2hhZG93LXRvcCwgLnN3aXBlci1zbGlkZS1zaGFkb3ctcmlnaHQsIC5zd2lwZXItc2xpZGUtc2hhZG93LWJvdHRvbSwgLnN3aXBlci1zbGlkZS1zaGFkb3ctbGVmdCcpLnRyYW5zaXRpb24oZHVyYXRpb24pO1xuICAgIH1cbiAgfTtcbiAgdmFyIEVmZmVjdENvdmVyZmxvdyA9IHtcbiAgICBuYW1lOiAnZWZmZWN0LWNvdmVyZmxvdycsXG4gICAgcGFyYW1zOiB7XG4gICAgICBjb3ZlcmZsb3dFZmZlY3Q6IHtcbiAgICAgICAgcm90YXRlOiA1MCxcbiAgICAgICAgc3RyZXRjaDogMCxcbiAgICAgICAgZGVwdGg6IDEwMCxcbiAgICAgICAgc2NhbGU6IDEsXG4gICAgICAgIG1vZGlmaWVyOiAxLFxuICAgICAgICBzbGlkZVNoYWRvd3M6IHRydWVcbiAgICAgIH1cbiAgICB9LFxuICAgIGNyZWF0ZTogZnVuY3Rpb24gY3JlYXRlKCkge1xuICAgICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgICBiaW5kTW9kdWxlTWV0aG9kcyhzd2lwZXIsIHtcbiAgICAgICAgY292ZXJmbG93RWZmZWN0OiBfZXh0ZW5kcyh7fSwgQ292ZXJmbG93KVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBvbjoge1xuICAgICAgYmVmb3JlSW5pdDogZnVuY3Rpb24gYmVmb3JlSW5pdChzd2lwZXIpIHtcbiAgICAgICAgaWYgKHN3aXBlci5wYXJhbXMuZWZmZWN0ICE9PSAnY292ZXJmbG93JykgcmV0dXJuO1xuICAgICAgICBzd2lwZXIuY2xhc3NOYW1lcy5wdXNoKHN3aXBlci5wYXJhbXMuY29udGFpbmVyTW9kaWZpZXJDbGFzcyArIFwiY292ZXJmbG93XCIpO1xuICAgICAgICBzd2lwZXIuY2xhc3NOYW1lcy5wdXNoKHN3aXBlci5wYXJhbXMuY29udGFpbmVyTW9kaWZpZXJDbGFzcyArIFwiM2RcIik7XG4gICAgICAgIHN3aXBlci5wYXJhbXMud2F0Y2hTbGlkZXNQcm9ncmVzcyA9IHRydWU7XG4gICAgICAgIHN3aXBlci5vcmlnaW5hbFBhcmFtcy53YXRjaFNsaWRlc1Byb2dyZXNzID0gdHJ1ZTtcbiAgICAgIH0sXG4gICAgICBzZXRUcmFuc2xhdGU6IGZ1bmN0aW9uIHNldFRyYW5zbGF0ZShzd2lwZXIpIHtcbiAgICAgICAgaWYgKHN3aXBlci5wYXJhbXMuZWZmZWN0ICE9PSAnY292ZXJmbG93JykgcmV0dXJuO1xuICAgICAgICBzd2lwZXIuY292ZXJmbG93RWZmZWN0LnNldFRyYW5zbGF0ZSgpO1xuICAgICAgfSxcbiAgICAgIHNldFRyYW5zaXRpb246IGZ1bmN0aW9uIHNldFRyYW5zaXRpb24oc3dpcGVyLCBkdXJhdGlvbikge1xuICAgICAgICBpZiAoc3dpcGVyLnBhcmFtcy5lZmZlY3QgIT09ICdjb3ZlcmZsb3cnKSByZXR1cm47XG4gICAgICAgIHN3aXBlci5jb3ZlcmZsb3dFZmZlY3Quc2V0VHJhbnNpdGlvbihkdXJhdGlvbik7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHZhciBUaHVtYnMgPSB7XG4gICAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHtcbiAgICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgICAgdmFyIHRodW1ic1BhcmFtcyA9IHN3aXBlci5wYXJhbXMudGh1bWJzO1xuICAgICAgaWYgKHN3aXBlci50aHVtYnMuaW5pdGlhbGl6ZWQpIHJldHVybiBmYWxzZTtcbiAgICAgIHN3aXBlci50aHVtYnMuaW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgICAgdmFyIFN3aXBlckNsYXNzID0gc3dpcGVyLmNvbnN0cnVjdG9yO1xuXG4gICAgICBpZiAodGh1bWJzUGFyYW1zLnN3aXBlciBpbnN0YW5jZW9mIFN3aXBlckNsYXNzKSB7XG4gICAgICAgIHN3aXBlci50aHVtYnMuc3dpcGVyID0gdGh1bWJzUGFyYW1zLnN3aXBlcjtcbiAgICAgICAgZXh0ZW5kKHN3aXBlci50aHVtYnMuc3dpcGVyLm9yaWdpbmFsUGFyYW1zLCB7XG4gICAgICAgICAgd2F0Y2hTbGlkZXNQcm9ncmVzczogdHJ1ZSxcbiAgICAgICAgICBzbGlkZVRvQ2xpY2tlZFNsaWRlOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgICAgZXh0ZW5kKHN3aXBlci50aHVtYnMuc3dpcGVyLnBhcmFtcywge1xuICAgICAgICAgIHdhdGNoU2xpZGVzUHJvZ3Jlc3M6IHRydWUsXG4gICAgICAgICAgc2xpZGVUb0NsaWNrZWRTbGlkZTogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KHRodW1ic1BhcmFtcy5zd2lwZXIpKSB7XG4gICAgICAgIHN3aXBlci50aHVtYnMuc3dpcGVyID0gbmV3IFN3aXBlckNsYXNzKGV4dGVuZCh7fSwgdGh1bWJzUGFyYW1zLnN3aXBlciwge1xuICAgICAgICAgIHdhdGNoU2xpZGVzVmlzaWJpbGl0eTogdHJ1ZSxcbiAgICAgICAgICB3YXRjaFNsaWRlc1Byb2dyZXNzOiB0cnVlLFxuICAgICAgICAgIHNsaWRlVG9DbGlja2VkU2xpZGU6IGZhbHNlXG4gICAgICAgIH0pKTtcbiAgICAgICAgc3dpcGVyLnRodW1icy5zd2lwZXJDcmVhdGVkID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgc3dpcGVyLnRodW1icy5zd2lwZXIuJGVsLmFkZENsYXNzKHN3aXBlci5wYXJhbXMudGh1bWJzLnRodW1ic0NvbnRhaW5lckNsYXNzKTtcbiAgICAgIHN3aXBlci50aHVtYnMuc3dpcGVyLm9uKCd0YXAnLCBzd2lwZXIudGh1bWJzLm9uVGh1bWJDbGljayk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuICAgIG9uVGh1bWJDbGljazogZnVuY3Rpb24gb25UaHVtYkNsaWNrKCkge1xuICAgICAgdmFyIHN3aXBlciA9IHRoaXM7XG4gICAgICB2YXIgdGh1bWJzU3dpcGVyID0gc3dpcGVyLnRodW1icy5zd2lwZXI7XG4gICAgICBpZiAoIXRodW1ic1N3aXBlcikgcmV0dXJuO1xuICAgICAgdmFyIGNsaWNrZWRJbmRleCA9IHRodW1ic1N3aXBlci5jbGlja2VkSW5kZXg7XG4gICAgICB2YXIgY2xpY2tlZFNsaWRlID0gdGh1bWJzU3dpcGVyLmNsaWNrZWRTbGlkZTtcbiAgICAgIGlmIChjbGlja2VkU2xpZGUgJiYgJChjbGlja2VkU2xpZGUpLmhhc0NsYXNzKHN3aXBlci5wYXJhbXMudGh1bWJzLnNsaWRlVGh1bWJBY3RpdmVDbGFzcykpIHJldHVybjtcbiAgICAgIGlmICh0eXBlb2YgY2xpY2tlZEluZGV4ID09PSAndW5kZWZpbmVkJyB8fCBjbGlja2VkSW5kZXggPT09IG51bGwpIHJldHVybjtcbiAgICAgIHZhciBzbGlkZVRvSW5kZXg7XG5cbiAgICAgIGlmICh0aHVtYnNTd2lwZXIucGFyYW1zLmxvb3ApIHtcbiAgICAgICAgc2xpZGVUb0luZGV4ID0gcGFyc2VJbnQoJCh0aHVtYnNTd2lwZXIuY2xpY2tlZFNsaWRlKS5hdHRyKCdkYXRhLXN3aXBlci1zbGlkZS1pbmRleCcpLCAxMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzbGlkZVRvSW5kZXggPSBjbGlja2VkSW5kZXg7XG4gICAgICB9XG5cbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLmxvb3ApIHtcbiAgICAgICAgdmFyIGN1cnJlbnRJbmRleCA9IHN3aXBlci5hY3RpdmVJbmRleDtcblxuICAgICAgICBpZiAoc3dpcGVyLnNsaWRlcy5lcShjdXJyZW50SW5kZXgpLmhhc0NsYXNzKHN3aXBlci5wYXJhbXMuc2xpZGVEdXBsaWNhdGVDbGFzcykpIHtcbiAgICAgICAgICBzd2lwZXIubG9vcEZpeCgpOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcblxuICAgICAgICAgIHN3aXBlci5fY2xpZW50TGVmdCA9IHN3aXBlci4kd3JhcHBlckVsWzBdLmNsaWVudExlZnQ7XG4gICAgICAgICAgY3VycmVudEluZGV4ID0gc3dpcGVyLmFjdGl2ZUluZGV4O1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHByZXZJbmRleCA9IHN3aXBlci5zbGlkZXMuZXEoY3VycmVudEluZGV4KS5wcmV2QWxsKFwiW2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4PVxcXCJcIiArIHNsaWRlVG9JbmRleCArIFwiXFxcIl1cIikuZXEoMCkuaW5kZXgoKTtcbiAgICAgICAgdmFyIG5leHRJbmRleCA9IHN3aXBlci5zbGlkZXMuZXEoY3VycmVudEluZGV4KS5uZXh0QWxsKFwiW2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4PVxcXCJcIiArIHNsaWRlVG9JbmRleCArIFwiXFxcIl1cIikuZXEoMCkuaW5kZXgoKTtcbiAgICAgICAgaWYgKHR5cGVvZiBwcmV2SW5kZXggPT09ICd1bmRlZmluZWQnKSBzbGlkZVRvSW5kZXggPSBuZXh0SW5kZXg7ZWxzZSBpZiAodHlwZW9mIG5leHRJbmRleCA9PT0gJ3VuZGVmaW5lZCcpIHNsaWRlVG9JbmRleCA9IHByZXZJbmRleDtlbHNlIGlmIChuZXh0SW5kZXggLSBjdXJyZW50SW5kZXggPCBjdXJyZW50SW5kZXggLSBwcmV2SW5kZXgpIHNsaWRlVG9JbmRleCA9IG5leHRJbmRleDtlbHNlIHNsaWRlVG9JbmRleCA9IHByZXZJbmRleDtcbiAgICAgIH1cblxuICAgICAgc3dpcGVyLnNsaWRlVG8oc2xpZGVUb0luZGV4KTtcbiAgICB9LFxuICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKGluaXRpYWwpIHtcbiAgICAgIHZhciBzd2lwZXIgPSB0aGlzO1xuICAgICAgdmFyIHRodW1ic1N3aXBlciA9IHN3aXBlci50aHVtYnMuc3dpcGVyO1xuICAgICAgaWYgKCF0aHVtYnNTd2lwZXIpIHJldHVybjtcbiAgICAgIHZhciBzbGlkZXNQZXJWaWV3ID0gdGh1bWJzU3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJWaWV3ID09PSAnYXV0bycgPyB0aHVtYnNTd2lwZXIuc2xpZGVzUGVyVmlld0R5bmFtaWMoKSA6IHRodW1ic1N3aXBlci5wYXJhbXMuc2xpZGVzUGVyVmlldztcbiAgICAgIHZhciBhdXRvU2Nyb2xsT2Zmc2V0ID0gc3dpcGVyLnBhcmFtcy50aHVtYnMuYXV0b1Njcm9sbE9mZnNldDtcbiAgICAgIHZhciB1c2VPZmZzZXQgPSBhdXRvU2Nyb2xsT2Zmc2V0ICYmICF0aHVtYnNTd2lwZXIucGFyYW1zLmxvb3A7XG5cbiAgICAgIGlmIChzd2lwZXIucmVhbEluZGV4ICE9PSB0aHVtYnNTd2lwZXIucmVhbEluZGV4IHx8IHVzZU9mZnNldCkge1xuICAgICAgICB2YXIgY3VycmVudFRodW1ic0luZGV4ID0gdGh1bWJzU3dpcGVyLmFjdGl2ZUluZGV4O1xuICAgICAgICB2YXIgbmV3VGh1bWJzSW5kZXg7XG4gICAgICAgIHZhciBkaXJlY3Rpb247XG5cbiAgICAgICAgaWYgKHRodW1ic1N3aXBlci5wYXJhbXMubG9vcCkge1xuICAgICAgICAgIGlmICh0aHVtYnNTd2lwZXIuc2xpZGVzLmVxKGN1cnJlbnRUaHVtYnNJbmRleCkuaGFzQ2xhc3ModGh1bWJzU3dpcGVyLnBhcmFtcy5zbGlkZUR1cGxpY2F0ZUNsYXNzKSkge1xuICAgICAgICAgICAgdGh1bWJzU3dpcGVyLmxvb3BGaXgoKTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG5cbiAgICAgICAgICAgIHRodW1ic1N3aXBlci5fY2xpZW50TGVmdCA9IHRodW1ic1N3aXBlci4kd3JhcHBlckVsWzBdLmNsaWVudExlZnQ7XG4gICAgICAgICAgICBjdXJyZW50VGh1bWJzSW5kZXggPSB0aHVtYnNTd2lwZXIuYWN0aXZlSW5kZXg7XG4gICAgICAgICAgfSAvLyBGaW5kIGFjdHVhbCB0aHVtYnMgaW5kZXggdG8gc2xpZGUgdG9cblxuXG4gICAgICAgICAgdmFyIHByZXZUaHVtYnNJbmRleCA9IHRodW1ic1N3aXBlci5zbGlkZXMuZXEoY3VycmVudFRodW1ic0luZGV4KS5wcmV2QWxsKFwiW2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4PVxcXCJcIiArIHN3aXBlci5yZWFsSW5kZXggKyBcIlxcXCJdXCIpLmVxKDApLmluZGV4KCk7XG4gICAgICAgICAgdmFyIG5leHRUaHVtYnNJbmRleCA9IHRodW1ic1N3aXBlci5zbGlkZXMuZXEoY3VycmVudFRodW1ic0luZGV4KS5uZXh0QWxsKFwiW2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4PVxcXCJcIiArIHN3aXBlci5yZWFsSW5kZXggKyBcIlxcXCJdXCIpLmVxKDApLmluZGV4KCk7XG5cbiAgICAgICAgICBpZiAodHlwZW9mIHByZXZUaHVtYnNJbmRleCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIG5ld1RodW1ic0luZGV4ID0gbmV4dFRodW1ic0luZGV4O1xuICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG5leHRUaHVtYnNJbmRleCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIG5ld1RodW1ic0luZGV4ID0gcHJldlRodW1ic0luZGV4O1xuICAgICAgICAgIH0gZWxzZSBpZiAobmV4dFRodW1ic0luZGV4IC0gY3VycmVudFRodW1ic0luZGV4ID09PSBjdXJyZW50VGh1bWJzSW5kZXggLSBwcmV2VGh1bWJzSW5kZXgpIHtcbiAgICAgICAgICAgIG5ld1RodW1ic0luZGV4ID0gdGh1bWJzU3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJHcm91cCA+IDEgPyBuZXh0VGh1bWJzSW5kZXggOiBjdXJyZW50VGh1bWJzSW5kZXg7XG4gICAgICAgICAgfSBlbHNlIGlmIChuZXh0VGh1bWJzSW5kZXggLSBjdXJyZW50VGh1bWJzSW5kZXggPCBjdXJyZW50VGh1bWJzSW5kZXggLSBwcmV2VGh1bWJzSW5kZXgpIHtcbiAgICAgICAgICAgIG5ld1RodW1ic0luZGV4ID0gbmV4dFRodW1ic0luZGV4O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuZXdUaHVtYnNJbmRleCA9IHByZXZUaHVtYnNJbmRleDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBkaXJlY3Rpb24gPSBzd2lwZXIuYWN0aXZlSW5kZXggPiBzd2lwZXIucHJldmlvdXNJbmRleCA/ICduZXh0JyA6ICdwcmV2JztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXdUaHVtYnNJbmRleCA9IHN3aXBlci5yZWFsSW5kZXg7XG4gICAgICAgICAgZGlyZWN0aW9uID0gbmV3VGh1bWJzSW5kZXggPiBzd2lwZXIucHJldmlvdXNJbmRleCA/ICduZXh0JyA6ICdwcmV2JztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh1c2VPZmZzZXQpIHtcbiAgICAgICAgICBuZXdUaHVtYnNJbmRleCArPSBkaXJlY3Rpb24gPT09ICduZXh0JyA/IGF1dG9TY3JvbGxPZmZzZXQgOiAtMSAqIGF1dG9TY3JvbGxPZmZzZXQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGh1bWJzU3dpcGVyLnZpc2libGVTbGlkZXNJbmRleGVzICYmIHRodW1ic1N3aXBlci52aXNpYmxlU2xpZGVzSW5kZXhlcy5pbmRleE9mKG5ld1RodW1ic0luZGV4KSA8IDApIHtcbiAgICAgICAgICBpZiAodGh1bWJzU3dpcGVyLnBhcmFtcy5jZW50ZXJlZFNsaWRlcykge1xuICAgICAgICAgICAgaWYgKG5ld1RodW1ic0luZGV4ID4gY3VycmVudFRodW1ic0luZGV4KSB7XG4gICAgICAgICAgICAgIG5ld1RodW1ic0luZGV4ID0gbmV3VGh1bWJzSW5kZXggLSBNYXRoLmZsb29yKHNsaWRlc1BlclZpZXcgLyAyKSArIDE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBuZXdUaHVtYnNJbmRleCA9IG5ld1RodW1ic0luZGV4ICsgTWF0aC5mbG9vcihzbGlkZXNQZXJWaWV3IC8gMikgLSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAobmV3VGh1bWJzSW5kZXggPiBjdXJyZW50VGh1bWJzSW5kZXggJiYgdGh1bWJzU3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJHcm91cCA9PT0gMSkgO1xuXG4gICAgICAgICAgdGh1bWJzU3dpcGVyLnNsaWRlVG8obmV3VGh1bWJzSW5kZXgsIGluaXRpYWwgPyAwIDogdW5kZWZpbmVkKTtcbiAgICAgICAgfVxuICAgICAgfSAvLyBBY3RpdmF0ZSB0aHVtYnNcblxuXG4gICAgICB2YXIgdGh1bWJzVG9BY3RpdmF0ZSA9IDE7XG4gICAgICB2YXIgdGh1bWJBY3RpdmVDbGFzcyA9IHN3aXBlci5wYXJhbXMudGh1bWJzLnNsaWRlVGh1bWJBY3RpdmVDbGFzcztcblxuICAgICAgaWYgKHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyVmlldyA+IDEgJiYgIXN3aXBlci5wYXJhbXMuY2VudGVyZWRTbGlkZXMpIHtcbiAgICAgICAgdGh1bWJzVG9BY3RpdmF0ZSA9IHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyVmlldztcbiAgICAgIH1cblxuICAgICAgaWYgKCFzd2lwZXIucGFyYW1zLnRodW1icy5tdWx0aXBsZUFjdGl2ZVRodW1icykge1xuICAgICAgICB0aHVtYnNUb0FjdGl2YXRlID0gMTtcbiAgICAgIH1cblxuICAgICAgdGh1bWJzVG9BY3RpdmF0ZSA9IE1hdGguZmxvb3IodGh1bWJzVG9BY3RpdmF0ZSk7XG4gICAgICB0aHVtYnNTd2lwZXIuc2xpZGVzLnJlbW92ZUNsYXNzKHRodW1iQWN0aXZlQ2xhc3MpO1xuXG4gICAgICBpZiAodGh1bWJzU3dpcGVyLnBhcmFtcy5sb29wIHx8IHRodW1ic1N3aXBlci5wYXJhbXMudmlydHVhbCAmJiB0aHVtYnNTd2lwZXIucGFyYW1zLnZpcnR1YWwuZW5hYmxlZCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRodW1ic1RvQWN0aXZhdGU7IGkgKz0gMSkge1xuICAgICAgICAgIHRodW1ic1N3aXBlci4kd3JhcHBlckVsLmNoaWxkcmVuKFwiW2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4PVxcXCJcIiArIChzd2lwZXIucmVhbEluZGV4ICsgaSkgKyBcIlxcXCJdXCIpLmFkZENsYXNzKHRodW1iQWN0aXZlQ2xhc3MpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgdGh1bWJzVG9BY3RpdmF0ZTsgX2kgKz0gMSkge1xuICAgICAgICAgIHRodW1ic1N3aXBlci5zbGlkZXMuZXEoc3dpcGVyLnJlYWxJbmRleCArIF9pKS5hZGRDbGFzcyh0aHVtYkFjdGl2ZUNsYXNzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgdmFyIFRodW1icyQxID0ge1xuICAgIG5hbWU6ICd0aHVtYnMnLFxuICAgIHBhcmFtczoge1xuICAgICAgdGh1bWJzOiB7XG4gICAgICAgIHN3aXBlcjogbnVsbCxcbiAgICAgICAgbXVsdGlwbGVBY3RpdmVUaHVtYnM6IHRydWUsXG4gICAgICAgIGF1dG9TY3JvbGxPZmZzZXQ6IDAsXG4gICAgICAgIHNsaWRlVGh1bWJBY3RpdmVDbGFzczogJ3N3aXBlci1zbGlkZS10aHVtYi1hY3RpdmUnLFxuICAgICAgICB0aHVtYnNDb250YWluZXJDbGFzczogJ3N3aXBlci1jb250YWluZXItdGh1bWJzJ1xuICAgICAgfVxuICAgIH0sXG4gICAgY3JlYXRlOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gICAgICB2YXIgc3dpcGVyID0gdGhpcztcbiAgICAgIGJpbmRNb2R1bGVNZXRob2RzKHN3aXBlciwge1xuICAgICAgICB0aHVtYnM6IF9leHRlbmRzKHtcbiAgICAgICAgICBzd2lwZXI6IG51bGwsXG4gICAgICAgICAgaW5pdGlhbGl6ZWQ6IGZhbHNlXG4gICAgICAgIH0sIFRodW1icylcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgb246IHtcbiAgICAgIGJlZm9yZUluaXQ6IGZ1bmN0aW9uIGJlZm9yZUluaXQoc3dpcGVyKSB7XG4gICAgICAgIHZhciB0aHVtYnMgPSBzd2lwZXIucGFyYW1zLnRodW1icztcbiAgICAgICAgaWYgKCF0aHVtYnMgfHwgIXRodW1icy5zd2lwZXIpIHJldHVybjtcbiAgICAgICAgc3dpcGVyLnRodW1icy5pbml0KCk7XG4gICAgICAgIHN3aXBlci50aHVtYnMudXBkYXRlKHRydWUpO1xuICAgICAgfSxcbiAgICAgIHNsaWRlQ2hhbmdlOiBmdW5jdGlvbiBzbGlkZUNoYW5nZShzd2lwZXIpIHtcbiAgICAgICAgaWYgKCFzd2lwZXIudGh1bWJzLnN3aXBlcikgcmV0dXJuO1xuICAgICAgICBzd2lwZXIudGh1bWJzLnVwZGF0ZSgpO1xuICAgICAgfSxcbiAgICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKHN3aXBlcikge1xuICAgICAgICBpZiAoIXN3aXBlci50aHVtYnMuc3dpcGVyKSByZXR1cm47XG4gICAgICAgIHN3aXBlci50aHVtYnMudXBkYXRlKCk7XG4gICAgICB9LFxuICAgICAgcmVzaXplOiBmdW5jdGlvbiByZXNpemUoc3dpcGVyKSB7XG4gICAgICAgIGlmICghc3dpcGVyLnRodW1icy5zd2lwZXIpIHJldHVybjtcbiAgICAgICAgc3dpcGVyLnRodW1icy51cGRhdGUoKTtcbiAgICAgIH0sXG4gICAgICBvYnNlcnZlclVwZGF0ZTogZnVuY3Rpb24gb2JzZXJ2ZXJVcGRhdGUoc3dpcGVyKSB7XG4gICAgICAgIGlmICghc3dpcGVyLnRodW1icy5zd2lwZXIpIHJldHVybjtcbiAgICAgICAgc3dpcGVyLnRodW1icy51cGRhdGUoKTtcbiAgICAgIH0sXG4gICAgICBzZXRUcmFuc2l0aW9uOiBmdW5jdGlvbiBzZXRUcmFuc2l0aW9uKHN3aXBlciwgZHVyYXRpb24pIHtcbiAgICAgICAgdmFyIHRodW1ic1N3aXBlciA9IHN3aXBlci50aHVtYnMuc3dpcGVyO1xuICAgICAgICBpZiAoIXRodW1ic1N3aXBlcikgcmV0dXJuO1xuICAgICAgICB0aHVtYnNTd2lwZXIuc2V0VHJhbnNpdGlvbihkdXJhdGlvbik7XG4gICAgICB9LFxuICAgICAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveShzd2lwZXIpIHtcbiAgICAgICAgdmFyIHRodW1ic1N3aXBlciA9IHN3aXBlci50aHVtYnMuc3dpcGVyO1xuICAgICAgICBpZiAoIXRodW1ic1N3aXBlcikgcmV0dXJuO1xuXG4gICAgICAgIGlmIChzd2lwZXIudGh1bWJzLnN3aXBlckNyZWF0ZWQgJiYgdGh1bWJzU3dpcGVyKSB7XG4gICAgICAgICAgdGh1bWJzU3dpcGVyLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvLyBTd2lwZXIgQ2xhc3NcbiAgdmFyIGNvbXBvbmVudHMgPSBbVmlydHVhbCQxLCBLZXlib2FyZCQxLCBNb3VzZXdoZWVsJDEsIE5hdmlnYXRpb24kMSwgUGFnaW5hdGlvbiQxLCBTY3JvbGxiYXIkMSwgUGFyYWxsYXgkMSwgWm9vbSQxLCBMYXp5JDEsIENvbnRyb2xsZXIkMSwgQTExeSQxLCBIaXN0b3J5JDEsIEhhc2hOYXZpZ2F0aW9uJDEsIEF1dG9wbGF5JDEsIEVmZmVjdEZhZGUsIEVmZmVjdEN1YmUsIEVmZmVjdEZsaXAsIEVmZmVjdENvdmVyZmxvdywgVGh1bWJzJDFdO1xuICBTd2lwZXIudXNlKGNvbXBvbmVudHMpO1xuXG4gIHJldHVybiBTd2lwZXI7XG5cbn0pKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zd2lwZXItYnVuZGxlLmpzLm1hcFxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
